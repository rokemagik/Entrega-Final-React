(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Z_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var zf={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function UT(){if(Ry)return Yl;Ry=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Yl.Fragment=e,Yl.jsx=i,Yl.jsxs=i,Yl}var wy;function LT(){return wy||(wy=1,zf.exports=UT()),zf.exports}var W=LT(),Bf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function PT(){if(Cy)return bt;Cy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,tt={};function H(V,J,lt){this.props=V,this.context=J,this.refs=tt,this.updater=lt||B}H.prototype.isReactComponent={},H.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function nt(){}nt.prototype=H.prototype;function et(V,J,lt){this.props=V,this.context=J,this.refs=tt,this.updater=lt||B}var at=et.prototype=new nt;at.constructor=et,Z(at,H.prototype),at.isPureReactComponent=!0;var Rt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function N(V,J,lt,rt,dt,Nt){return lt=Nt.ref,{$$typeof:a,type:V,key:J,ref:lt!==void 0?lt:null,props:Nt}}function b(V,J){return N(V.type,J,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function M(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(lt){return J[lt]})}var I=/\/+/g;function U(V,J){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):J.toString(36)}function C(){}function le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ee(V,J,lt,rt,dt){var Nt=typeof V;(Nt==="undefined"||Nt==="boolean")&&(V=null);var vt=!1;if(V===null)vt=!0;else switch(Nt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(V.$$typeof){case a:case e:vt=!0;break;case E:return vt=V._init,ee(vt(V._payload),J,lt,rt,dt)}}if(vt)return dt=dt(V),vt=rt===""?"."+U(V,0):rt,Rt(dt)?(lt="",vt!=null&&(lt=vt.replace(I,"$&/")+"/"),ee(dt,J,lt,"",function(Dn){return Dn})):dt!=null&&(R(dt)&&(dt=b(dt,lt+(dt.key==null||V&&V.key===dt.key?"":(""+dt.key).replace(I,"$&/")+"/")+vt)),J.push(dt)),1;vt=0;var xe=rt===""?".":rt+":";if(Rt(V))for(var Gt=0;Gt<V.length;Gt++)rt=V[Gt],Nt=xe+U(rt,Gt),vt+=ee(rt,J,lt,Nt,dt);else if(Gt=D(V),typeof Gt=="function")for(V=Gt.call(V),Gt=0;!(rt=V.next()).done;)rt=rt.value,Nt=xe+U(rt,Gt++),vt+=ee(rt,J,lt,Nt,dt);else if(Nt==="object"){if(typeof V.then=="function")return ee(le(V),J,lt,rt,dt);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return vt}function F(V,J,lt){if(V==null)return V;var rt=[],dt=0;return ee(V,rt,"","",function(Nt){return J.call(lt,Nt,dt++)}),rt}function st(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(lt){(V._status===0||V._status===-1)&&(V._status=1,V._result=lt)},function(lt){(V._status===0||V._status===-1)&&(V._status=2,V._result=lt)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var gt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Pt(){}return bt.Children={map:F,forEach:function(V,J,lt){F(V,function(){J.apply(this,arguments)},lt)},count:function(V){var J=0;return F(V,function(){J++}),J},toArray:function(V){return F(V,function(J){return J})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=H,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=et,bt.StrictMode=s,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ht.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,J,lt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=Z({},V.props),dt=V.key,Nt=void 0;if(J!=null)for(vt in J.ref!==void 0&&(Nt=void 0),J.key!==void 0&&(dt=""+J.key),J)!Dt.call(J,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&J.ref===void 0||(rt[vt]=J[vt]);var vt=arguments.length-2;if(vt===1)rt.children=lt;else if(1<vt){for(var xe=Array(vt),Gt=0;Gt<vt;Gt++)xe[Gt]=arguments[Gt+2];rt.children=xe}return N(V.type,dt,void 0,void 0,Nt,rt)},bt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},bt.createElement=function(V,J,lt){var rt,dt={},Nt=null;if(J!=null)for(rt in J.key!==void 0&&(Nt=""+J.key),J)Dt.call(J,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(dt[rt]=J[rt]);var vt=arguments.length-2;if(vt===1)dt.children=lt;else if(1<vt){for(var xe=Array(vt),Gt=0;Gt<vt;Gt++)xe[Gt]=arguments[Gt+2];dt.children=xe}if(V&&V.defaultProps)for(rt in vt=V.defaultProps,vt)dt[rt]===void 0&&(dt[rt]=vt[rt]);return N(V,Nt,void 0,void 0,null,dt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:g,render:V}},bt.isValidElement=R,bt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:st}},bt.memo=function(V,J){return{$$typeof:p,type:V,compare:J===void 0?null:J}},bt.startTransition=function(V){var J=ht.T,lt={};ht.T=lt;try{var rt=V(),dt=ht.S;dt!==null&&dt(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Pt,gt)}catch(Nt){gt(Nt)}finally{ht.T=J}},bt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},bt.use=function(V){return ht.H.use(V)},bt.useActionState=function(V,J,lt){return ht.H.useActionState(V,J,lt)},bt.useCallback=function(V,J){return ht.H.useCallback(V,J)},bt.useContext=function(V){return ht.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,J){return ht.H.useDeferredValue(V,J)},bt.useEffect=function(V,J,lt){var rt=ht.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(V,J)},bt.useId=function(){return ht.H.useId()},bt.useImperativeHandle=function(V,J,lt){return ht.H.useImperativeHandle(V,J,lt)},bt.useInsertionEffect=function(V,J){return ht.H.useInsertionEffect(V,J)},bt.useLayoutEffect=function(V,J){return ht.H.useLayoutEffect(V,J)},bt.useMemo=function(V,J){return ht.H.useMemo(V,J)},bt.useOptimistic=function(V,J){return ht.H.useOptimistic(V,J)},bt.useReducer=function(V,J,lt){return ht.H.useReducer(V,J,lt)},bt.useRef=function(V){return ht.H.useRef(V)},bt.useState=function(V){return ht.H.useState(V)},bt.useSyncExternalStore=function(V,J,lt){return ht.H.useSyncExternalStore(V,J,lt)},bt.useTransition=function(){return ht.H.useTransition()},bt.version="19.1.1",bt}var Dy;function Rd(){return Dy||(Dy=1,Bf.exports=PT()),Bf.exports}var G=Rd();const zT=Z_(G);var kf={exports:{}},Kl={},jf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function BT(){return Vy||(Vy=1,(function(a){function e(F,st){var gt=F.length;F.push(st);t:for(;0<gt;){var Pt=gt-1>>>1,V=F[Pt];if(0<o(V,st))F[Pt]=st,F[gt]=V,gt=Pt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var st=F[0],gt=F.pop();if(gt!==st){F[0]=gt;t:for(var Pt=0,V=F.length,J=V>>>1;Pt<J;){var lt=2*(Pt+1)-1,rt=F[lt],dt=lt+1,Nt=F[dt];if(0>o(rt,gt))dt<V&&0>o(Nt,rt)?(F[Pt]=Nt,F[dt]=gt,Pt=dt):(F[Pt]=rt,F[lt]=gt,Pt=lt);else if(dt<V&&0>o(Nt,gt))F[Pt]=Nt,F[dt]=gt,Pt=dt;else break t}}return st}function o(F,st){var gt=F.sortIndex-st.sortIndex;return gt!==0?gt:F.id-st.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,S=null,D=3,B=!1,Z=!1,tt=!1,H=!1,nt=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function Rt(F){for(var st=i(p);st!==null;){if(st.callback===null)s(p);else if(st.startTime<=F)s(p),st.sortIndex=st.expirationTime,e(y,st);else break;st=i(p)}}function ht(F){if(tt=!1,Rt(F),!Z)if(i(y)!==null)Z=!0,Dt||(Dt=!0,U());else{var st=i(p);st!==null&&ee(ht,st.startTime-F)}}var Dt=!1,N=-1,b=5,R=-1;function M(){return H?!0:!(a.unstable_now()-R<b)}function I(){if(H=!1,Dt){var F=a.unstable_now();R=F;var st=!0;try{t:{Z=!1,tt&&(tt=!1,et(N),N=-1),B=!0;var gt=D;try{e:{for(Rt(F),S=i(y);S!==null&&!(S.expirationTime>F&&M());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,D=S.priorityLevel;var V=Pt(S.expirationTime<=F);if(F=a.unstable_now(),typeof V=="function"){S.callback=V,Rt(F),st=!0;break e}S===i(y)&&s(y),Rt(F)}else s(y);S=i(y)}if(S!==null)st=!0;else{var J=i(p);J!==null&&ee(ht,J.startTime-F),st=!1}}break t}finally{S=null,D=gt,B=!1}st=void 0}}finally{st?U():Dt=!1}}}var U;if(typeof at=="function")U=function(){at(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,le=C.port2;C.port1.onmessage=I,U=function(){le.postMessage(null)}}else U=function(){nt(I,0)};function ee(F,st){N=nt(function(){F(a.unstable_now())},st)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(F){switch(D){case 1:case 2:case 3:var st=3;break;default:st=D}var gt=D;D=st;try{return F()}finally{D=gt}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function(F,st){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var gt=D;D=F;try{return st()}finally{D=gt}},a.unstable_scheduleCallback=function(F,st,gt){var Pt=a.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Pt+gt:Pt):gt=Pt,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=gt+V,F={id:E++,callback:st,priorityLevel:F,startTime:gt,expirationTime:V,sortIndex:-1},gt>Pt?(F.sortIndex=gt,e(p,F),i(y)===null&&F===i(p)&&(tt?(et(N),N=-1):tt=!0,ee(ht,gt-Pt))):(F.sortIndex=V,e(y,F),Z||B||(Z=!0,Dt||(Dt=!0,U()))),F},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(F){var st=D;return function(){var gt=D;D=st;try{return F.apply(this,arguments)}finally{D=gt}}}})(qf)),qf}var Iy;function kT(){return Iy||(Iy=1,jf.exports=BT()),jf.exports}var Hf={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function jT(){if(Ny)return Fe;Ny=1;var a=Rd();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:p,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return h(y,p,null,E)},Fe.flushSync=function(y){var p=d.T,E=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=E,s.d.f()}},Fe.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Fe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Fe.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,S=g(E,p.crossOrigin),D=typeof p.integrity=="string"?p.integrity:void 0,B=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:B}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:D,fetchPriority:B,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Fe.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Fe.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=g(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Fe.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Fe.requestFormReset=function(y){s.d.r(y)},Fe.unstable_batchedUpdates=function(y,p){return y(p)},Fe.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.1",Fe}var Oy;function qT(){if(Oy)return Hf.exports;Oy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Hf.exports=jT(),Hf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function HT(){if(My)return Kl;My=1;var a=kT(),e=Rd(),i=qT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var v=!1,T=c.child;T;){if(T===r){v=!0,r=c,l=f;break}if(T===l){v=!0,l=c,r=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===r){v=!0,r=f,l=c;break}if(T===l){v=!0,l=f,r=c;break}T=T.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),nt=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),at=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case H:return"Profiler";case tt:return"StrictMode";case ht:return"Suspense";case Dt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case at:return(t.displayName||"Context")+".Provider";case et:return(t._context.displayName||"Context")+".Consumer";case Rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:le(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return le(t(n))}catch{}}return null}var ee=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Pt=[],V=-1;function J(t){return{current:t}}function lt(t){0>V||(t.current=Pt[V],Pt[V]=null,V--)}function rt(t,n){V++,Pt[V]=t.current,t.current=n}var dt=J(null),Nt=J(null),vt=J(null),xe=J(null);function Gt(t,n){switch(rt(vt,n),rt(Nt,t),rt(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Wp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Wp(n),t=ty(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}lt(dt),rt(dt,t)}function Dn(){lt(dt),lt(Nt),lt(vt)}function js(t){t.memoizedState!==null&&rt(xe,t);var n=dt.current,r=ty(n,t.type);n!==r&&(rt(Nt,t),rt(dt,r))}function Ca(t){Nt.current===t&&(lt(dt),lt(Nt)),xe.current===t&&(lt(xe),ql._currentValue=gt)}var Da=Object.prototype.hasOwnProperty,Mr=a.unstable_scheduleCallback,Va=a.unstable_cancelCallback,zc=a.unstable_shouldYield,qs=a.unstable_requestPaint,tn=a.unstable_now,bo=a.unstable_getCurrentPriorityLevel,Ae=a.unstable_ImmediatePriority,De=a.unstable_UserBlockingPriority,ci=a.unstable_NormalPriority,Bc=a.unstable_LowPriority,Hs=a.unstable_IdlePriority,kc=a.log,xr=a.unstable_setDisableYieldValue,zi=null,qe=null;function mn(t){if(typeof kc=="function"&&xr(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(zi,t)}catch{}}var Xe=Math.clz32?Math.clz32:wo,jc=Math.log,Ro=Math.LN2;function wo(t){return t>>>=0,t===0?32:31-(jc(t)/Ro|0)|0}var jn=256,Bi=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=Vn(l):(v&=T,v!==0?c=Vn(v):r||(r=T&~t,r!==0&&(c=Vn(r))))):(T=l&~f,T!==0?c=Vn(T):v!==0?c=Vn(v):r||(r=l&~t,r!==0&&(c=Vn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function ki(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ia(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gs(){var t=jn;return jn<<=1,(jn&4194048)===0&&(jn=256),t}function ji(){var t=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),t}function Na(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ce(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Co(t,n,r,l,c,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,z=t.hiddenUpdates;for(r=v&~r;0<r;){var Q=31-Xe(r),X=1<<Q;T[Q]=0,w[Q]=-1;var k=z[Q];if(k!==null)for(z[Q]=null,Q=0;Q<k.length;Q++){var j=k[Q];j!==null&&(j.lane&=-536870913)}r&=~X}l!==0&&qi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function qi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Hi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Xe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Fs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hi(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:vy(t.type))}function qc(t,n){var r=st.p;try{return st.p=t,n()}finally{st.p=r}}var qn=Math.random().toString(36).slice(2),he="__reactFiber$"+qn,Ue="__reactProps$"+qn,fi="__reactContainer$"+qn,Ur="__reactEvents$"+qn,Lr="__reactListeners$"+qn,Hc="__reactHandles$"+qn,In="__reactResources$"+qn,Gi="__reactMarker$"+qn;function Oa(t){delete t[he],delete t[Ue],delete t[Ur],delete t[Lr],delete t[Hc]}function Hn(t){var n=t[he];if(n)return n;for(var r=t.parentNode;r;){if(n=r[fi]||r[he]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ry(t);t!==null;){if(r=t[he])return r;t=ry(t)}return n}t=r,r=t.parentNode}return null}function Gn(t){if(t=t[he]||t[fi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Fi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Qi(t){var n=t[In];return n||(n=t[In]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(t){t[Gi]=!0}var Do=new Set,Pr={};function Fn(t,n){Qn(t,n),Qn(t+"Capture",n)}function Qn(t,n){for(Pr[t]=n,t=0;t<n.length;t++)Do.add(n[t])}var zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yn={},Ma={};function Gc(t){return Da.call(Ma,t)?!0:Da.call(Yn,t)?!1:zr.test(t)?Ma[t]=!0:(Yn[t]=!0,!1)}function Br(t,n,r){if(Gc(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kr(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function pn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var jr,xa;function di(t){if(jr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);jr=n&&n[1]||"",xa=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+t+xa}var Ua=!1;function La(t,n){if(!t||Ua)return"";Ua=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(j){var k=j}Reflect.construct(t,[],X)}else{try{X.call()}catch(j){k=j}t.call(X.prototype)}}else{try{throw Error()}catch(j){k=j}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(j){if(j&&k&&typeof j.stack=="string")return[j.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var w=v.split(`
`),z=T.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===z.length)for(l=w.length-1,c=z.length-1;1<=l&&0<=c&&w[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==z[c]){var Q=`
`+w[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Ua=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?di(r):""}function Fc(t){switch(t.tag){case 26:case 27:case 5:return di(t.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return La(t.type,!1);case 11:return La(t.type.render,!1);case 1:return La(t.type,!0);case 31:return di("Activity");default:return""}}function Nn(t){try{var n="";do n+=Fc(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qr(t){var n=Yi(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ki(t){t._valueTracker||(t._valueTracker=qr(t))}function Ft(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Yi(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hr=/[\n"\\]/g;function Ve(t){return t.replace(Hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ys(t,n,r,l,c,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ie(n)):t.value!==""+ie(n)&&(t.value=""+ie(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Xs(t,v,ie(n)):r!=null?Xs(t,v,ie(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ie(T):t.removeAttribute("name")}function Ks(t,n,r,l,c,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+ie(r):"",n=n!=null?""+ie(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Xs(t,n,r){n==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Xi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+ie(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Vo(t,n,r){if(n!=null&&(n=""+ie(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+ie(r):""}function Io(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=ie(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $s(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||gi.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Zs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&$s(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&$s(t,f,n[f])}function Pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function On(t){return Oo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Js=null;function Ws(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $i=null,$e=null;function Mo(t){var n=Gn(t);if(n&&(t=n.stateNode)){var r=t[Ue]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ys(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ve(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[Ue]||null;if(!c)throw Error(s(90));Ys(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ft(l)}break t;case"textarea":Vo(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Xi(t,!!r.multiple,n,!1)}}}var Gr=!1;function Fr(t,n,r){if(Gr)return t(n,r);Gr=!0;try{var l=t(n);return l}finally{if(Gr=!1,($i!==null||$e!==null)&&(Au(),$i&&(n=$i,t=$e,$e=$i=null,Mo(n),t)))for(n=0;n<t.length;n++)Mo(t[n])}}function Zi(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Ue]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Ze=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=!1;if(Ze)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){pi=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{pi=!1}var _n=null,$t=null,za=null;function xo(){if(za)return za;var t,n=$t,r=n.length,l,c="value"in _n?_n.value:_n.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===c[f-l];l++);return za=c.slice(t,1<l?1-l:void 0)}function Qr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yr(){return!0}function tl(){return!1}function Se(t){function n(r,l,c,f,v){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yr:tl,this.isPropagationStopped=tl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),n}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kr=Se(He),Xr=E({},He,{view:0,detail:0}),$r=Se(Xr),Ba,Zr,Kn,Jr=E({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(Ba=t.screenX-Kn.screenX,Zr=t.screenY-Kn.screenY):Zr=Ba=0,Kn=t),Ba)},movementY:function(t){return"movementY"in t?t.movementY:Zr}}),Wr=Se(Jr),Qc=E({},Jr,{dataTransfer:0}),Uo=Se(Qc),ta=E({},Xr,{relatedTarget:0}),ka=Se(ta),Lo=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),el=Se(Lo),nl=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Po=Se(nl),ja=E({},He,{data:0}),il=Se(ja),zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ko(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Bo[t])?!!n[t]:!1}function qa(){return ko}var jo=E({},Xr,{key:function(t){if(t.key){var n=zo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(t){return t.type==="keypress"?Qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ha=Se(jo),Je=E({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=Se(Je),qo=E({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Wi=Se(qo),u=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Se(u),_=E({},Jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A=Se(_),P=E({},He,{newState:0,oldState:0}),q=Se(P),it=[9,13,27,32],At=Ze&&"CompositionEvent"in window,Wt=null;Ze&&"documentMode"in document&&(Wt=document.documentMode);var jt=Ze&&"TextEvent"in window&&!Wt,de=Ze&&(!At||Wt&&8<Wt&&11>=Wt),sn=" ",Xn=!1;function Mn(t,n){switch(t){case"keyup":return it.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Un=!1;function al(t,n){switch(t){case"compositionend":return xn(n);case"keypress":return n.which!==32?null:(Xn=!0,sn);case"textInput":return t=n.data,t===sn&&Xn?null:t;default:return null}}function o0(t,n){if(Un)return t==="compositionend"||!At&&Mn(t,n)?(t=xo(),za=$t=_n=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return de&&n.locale!=="ko"?null:n.data;default:return null}}var u0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!u0[t.type]:n==="textarea"}function mm(t,n,r,l){$i?$e?$e.push(l):$e=[l]:$i=l,n=Du(n,"onChange"),0<n.length&&(r=new Kr("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var sl=null,ll=null;function c0(t){Kp(t,0)}function Ho(t){var n=Fi(t);if(Ft(n))return t}function gm(t,n){if(t==="change")return n}var pm=!1;if(Ze){var Yc;if(Ze){var Kc="oninput"in document;if(!Kc){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),Kc=typeof ym.oninput=="function"}Yc=Kc}else Yc=!1;pm=Yc&&(!document.documentMode||9<document.documentMode)}function _m(){sl&&(sl.detachEvent("onpropertychange",vm),ll=sl=null)}function vm(t){if(t.propertyName==="value"&&Ho(ll)){var n=[];mm(n,ll,t,Ws(t)),Fr(c0,n)}}function h0(t,n,r){t==="focusin"?(_m(),sl=n,ll=r,sl.attachEvent("onpropertychange",vm)):t==="focusout"&&_m()}function f0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ho(ll)}function d0(t,n){if(t==="click")return Ho(n)}function m0(t,n){if(t==="input"||t==="change")return Ho(n)}function g0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:g0;function ol(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Da.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Em(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tm(t,n){var r=Em(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Em(r)}}function Am(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Am(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=mi(t.document)}return n}function Xc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var p0=Ze&&"documentMode"in document&&11>=document.documentMode,Ga=null,$c=null,ul=null,Zc=!1;function bm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zc||Ga==null||Ga!==mi(l)||(l=Ga,"selectionStart"in l&&Xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ol(ul,l)||(ul=l,l=Du($c,"onSelect"),0<l.length&&(n=new Kr("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ga)))}function ea(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Fa={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Jc={},Rm={};Ze&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function na(t){if(Jc[t])return Jc[t];if(!Fa[t])return t;var n=Fa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Rm)return Jc[t]=n[r];return t}var wm=na("animationend"),Cm=na("animationiteration"),Dm=na("animationstart"),y0=na("transitionrun"),_0=na("transitionstart"),v0=na("transitioncancel"),Vm=na("transitionend"),Im=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function Ln(t,n){Im.set(t,n),Fn(n,[t])}var Nm=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=Nm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Nn(n)},Nm.set(t,n),n)}return{value:t,source:n,stack:Nn(n)}}var En=[],Qa=0,th=0;function Go(){for(var t=Qa,n=th=Qa=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&Om(r,c,f)}}function Fo(t,n,r,l){En[Qa++]=t,En[Qa++]=n,En[Qa++]=r,En[Qa++]=l,th|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function eh(t,n,r,l){return Fo(t,n,r,l),Qo(t)}function Ya(t,n){return Fo(t,null,null,n),Qo(t)}function Om(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Xe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Qo(t){if(50<xl)throw xl=0,of=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ka={};function E0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,r,l){return new E0(t,n,r,l)}function nh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var r=t.alternate;return r===null?(r=on(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Mm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yo(t,n,r,l,c,f){var v=0;if(l=t,typeof t=="function")nh(t)&&(v=1);else if(typeof t=="string")v=AT(t,r,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=on(31,r,n,c),t.elementType=R,t.lanes=f,t;case Z:return ia(r.children,c,f,n);case tt:v=8,c|=24;break;case H:return t=on(12,r,n,c|2),t.elementType=H,t.lanes=f,t;case ht:return t=on(13,r,n,c),t.elementType=ht,t.lanes=f,t;case Dt:return t=on(19,r,n,c),t.elementType=Dt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nt:case at:v=10;break t;case et:v=9;break t;case Rt:v=11;break t;case N:v=14;break t;case b:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(v,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ia(t,n,r,l){return t=on(7,t,l,n),t.lanes=r,t}function ih(t,n,r){return t=on(6,t,null,n),t.lanes=r,t}function rh(t,n,r){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xa=[],$a=0,Ko=null,Xo=0,Tn=[],An=0,ra=null,vi=1,Ei="";function aa(t,n){Xa[$a++]=Xo,Xa[$a++]=Ko,Ko=t,Xo=n}function xm(t,n,r){Tn[An++]=vi,Tn[An++]=Ei,Tn[An++]=ra,ra=t;var l=vi;t=Ei;var c=32-Xe(l)-1;l&=~(1<<c),r+=1;var f=32-Xe(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,vi=1<<32-Xe(n)+c|r<<c|l,Ei=f+t}else vi=1<<f|r<<c|l,Ei=t}function ah(t){t.return!==null&&(aa(t,1),xm(t,1,0))}function sh(t){for(;t===Ko;)Ko=Xa[--$a],Xa[$a]=null,Xo=Xa[--$a],Xa[$a]=null;for(;t===ra;)ra=Tn[--An],Tn[An]=null,Ei=Tn[--An],Tn[An]=null,vi=Tn[--An],Tn[An]=null}var We=null,oe=null,Bt=!1,sa=null,$n=!1,lh=Error(s(519));function la(t){var n=Error(s(418,""));throw fl(vn(n,t)),lh}function Um(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[he]=t,n[Ue]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Ll.length;r++)It(Ll[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Ks(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ki(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Io(n,l.value,l.defaultValue,l.children),Ki(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Jp(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Vu),n=!0):n=!1,n||la(t)}function Lm(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:We=We.return}}function cl(t){if(t!==We)return!1;if(!Bt)return Lm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||bf(t.type,t.memoizedProps)),r=!r),r&&oe&&la(t),Lm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){oe=zn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}oe=null}}else n===27?(n=oe,gr(t.type)?(t=Df,Df=null,oe=t):oe=n):oe=We?zn(t.stateNode.nextSibling):null;return!0}function hl(){oe=We=null,Bt=!1}function Pm(){var t=sa;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),sa=null),t}function fl(t){sa===null?sa=[t]:sa.push(t)}var oh=J(null),oa=null,Ti=null;function tr(t,n,r){rt(oh,n._currentValue),n._currentValue=r}function Ai(t){t._currentValue=oh.current,lt(oh)}function uh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ch(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var w=0;w<n.length;w++)if(T.context===n[w]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),uh(f.return,r,t),l||(v=null);break t}f=T.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),uh(v,r,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function dl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=c.type;ln(c.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(c===xe.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}c=c.return}t!==null&&ch(n,t,r,l),n.flags|=262144}function $o(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ua(t){oa=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return zm(oa,t)}function Zo(t,n){return oa===null&&ua(t),zm(t,n)}function zm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ti===null){if(t===null)throw Error(s(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return r}var T0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},A0=a.unstable_scheduleCallback,S0=a.unstable_NormalPriority,be={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new T0,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&A0(S0,function(){t.controller.abort()})}var gl=null,fh=0,Za=0,Ja=null;function b0(t,n){if(gl===null){var r=gl=[];fh=0,Za=gf(),Ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return fh++,n.then(Bm,Bm),n}function Bm(){if(--fh===0&&gl!==null){Ja!==null&&(Ja.status="fulfilled");var t=gl;gl=null,Za=0,Ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function R0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var km=F.S;F.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&b0(t,n),km!==null&&km(t,n)};var ca=J(null);function dh(){var t=ca.current;return t!==null?t:Zt.pooledCache}function Jo(t,n){n===null?rt(ca,ca.current):rt(ca,n.pool)}function jm(){var t=dh();return t===null?null:{parent:be._currentValue,pool:t}}var pl=Error(s(460)),qm=Error(s(474)),Wo=Error(s(542)),mh={then:function(){}};function Hm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tu(){}function Gm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(tu,tu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qm(t),t;default:if(typeof n.status=="string")n.then(tu,tu);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qm(t),t}throw yl=n,pl}}var yl=null;function Fm(){if(yl===null)throw Error(s(459));var t=yl;return yl=null,t}function Qm(t){if(t===pl||t===Wo)throw Error(s(483))}var er=!1;function gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ir(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Qo(t),Om(t,null,r),n}return Fo(t,l,n,r),Qo(t)}function _l(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}function yh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var _h=!1;function vl(){if(_h){var t=Ja;if(t!==null)throw t}}function El(t,n,r,l){_h=!1;var c=t.updateQueue;er=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var w=T,z=w.next;w.next=null,v===null?f=z:v.next=z,v=w;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=w))}if(f!==null){var X=c.baseState;v=0,Q=z=w=null,T=f;do{var k=T.lane&-536870913,j=k!==T.lane;if(j?(xt&k)===k:(l&k)===k){k!==0&&k===Za&&(_h=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=t,pt=T;k=n;var Kt=r;switch(pt.tag){case 1:if(Et=pt.payload,typeof Et=="function"){X=Et.call(Kt,X,k);break t}X=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=pt.payload,k=typeof Et=="function"?Et.call(Kt,X,k):Et,k==null)break t;X=E({},X,k);break t;case 2:er=!0}}k=T.callback,k!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[k]:j.push(k))}else j={lane:k,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=j,w=X):Q=Q.next=j,v|=k;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;j=T,T=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);Q===null&&(w=X),c.baseState=w,c.firstBaseUpdate=z,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),hr|=v,t.lanes=v,t.memoizedState=X}}function Ym(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Km(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Ym(r[t],n)}var Wa=J(null),eu=J(0);function Xm(t,n){t=Vi,rt(eu,t),rt(Wa,n),Vi=t|n.baseLanes}function vh(){rt(eu,Vi),rt(Wa,Wa.current)}function Eh(){Vi=eu.current,lt(Wa),lt(eu)}var rr=0,wt=null,Qt=null,ye=null,nu=!1,ts=!1,ha=!1,iu=0,Tl=0,es=null,w0=0;function me(){throw Error(s(321))}function Th(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function Ah(t,n,r,l,c,f){return rr=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Og:Mg,ha=!1,f=r(l,c),ha=!1,ts&&(f=Zm(n,r,l,c)),$m(t),f}function $m(t){F.H=uu;var n=Qt!==null&&Qt.next!==null;if(rr=0,ye=Qt=wt=null,nu=!1,Tl=0,es=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&$o(t)&&(Ie=!0))}function Zm(t,n,r,l){wt=t;var c=0;do{if(ts&&(es=null),Tl=0,ts=!1,25<=c)throw Error(s(301));if(c+=1,ye=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=M0,f=n(r,l)}while(ts);return f}function C0(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Al(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(wt.flags|=1024),n}function Sh(){var t=iu!==0;return iu=0,t}function bh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Rh(t){if(nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}nu=!1}rr=0,ye=Qt=wt=null,ts=!1,Tl=iu=0,es=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?wt.memoizedState=ye=t:ye=ye.next=t,ye}function _e(){if(Qt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=ye===null?wt.memoizedState:ye.next;if(n!==null)ye=n,Qt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ye===null?wt.memoizedState=ye=t:ye=ye.next=t}return ye}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var n=Tl;return Tl+=1,es===null&&(es=[]),t=Gm(es,t,n),n=wt,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Og:Mg),t}function ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===at)return Ge(t)}throw Error(s(438,String(t)))}function Ch(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=wh(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function Si(t,n){return typeof n=="function"?n(t):n}function au(t){var n=_e();return Dh(n,Qt,t)}function Dh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=v=null,w=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(xt&X)===X:(rr&X)===X){var k=z.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Za&&(Q=!0);else if((rr&k)===k){z=z.next,k===Za&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=X,v=f):w=w.next=X,wt.lanes|=k,hr|=k;X=z.action,ha&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else k={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=k,v=f):w=w.next=k,wt.lanes|=X,hr|=X;z=z.next}while(z!==null&&z!==n);if(w===null?v=f:w.next=T,!ln(f,t.memoizedState)&&(Ie=!0,Q&&(r=Ja,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Vh(t){var n=_e(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);ln(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Jm(t,n,r){var l=wt,c=_e(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!ln((Qt||c).memoizedState,r);v&&(c.memoizedState=r,Ie=!0),c=c.queue;var T=eg.bind(null,l,c,t);if(Sl(2048,8,T,[t]),c.getSnapshot!==n||v||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,ns(9,su(),tg.bind(null,l,c,r,n),null),Zt===null)throw Error(s(349));f||(rr&124)!==0||Wm(l,n,r)}return r}function Wm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=wh(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function tg(t,n,r,l){n.value=r,n.getSnapshot=l,ng(n)&&ig(t)}function eg(t,n,r){return r(function(){ng(n)&&ig(t)})}function ng(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function ig(t){var n=Ya(t,2);n!==null&&dn(n,t,2)}function Ih(t){var n=en();if(typeof t=="function"){var r=t;if(t=r(),ha){mn(!0);try{r()}finally{mn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function rg(t,n,r,l){return t.baseState=r,Dh(t,Qt,typeof l=="function"?l:Si)}function D0(t,n,r,l,c){if(ou(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ag(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ag(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=F.T,v={};F.T=v;try{var T=r(c,l),w=F.S;w!==null&&w(v,T),sg(t,n,T)}catch(z){Nh(t,n,z)}finally{F.T=f}}else try{f=r(c,l),sg(t,n,f)}catch(z){Nh(t,n,z)}}function sg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){lg(t,n,l)},function(l){return Nh(t,n,l)}):lg(t,n,r)}function lg(t,n,r){n.status="fulfilled",n.value=r,og(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ag(t,r)))}function Nh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,og(n),n=n.next;while(n!==l)}t.action=null}function og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ug(t,n){return n}function cg(t,n){if(Bt){var r=Zt.formState;if(r!==null){t:{var l=wt;if(Bt){if(oe){e:{for(var c=oe,f=$n;c.nodeType!==8;){if(!f){c=null;break e}if(c=zn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){oe=zn(c.nextSibling),l=c.data==="F!";break t}}la(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:n},r.queue=l,r=Vg.bind(null,wt,l),l.dispatch=r,l=Ih(!1),f=Lh.bind(null,wt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=D0.bind(null,wt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function hg(t){var n=_e();return fg(n,Qt,t)}function fg(t,n,r){if(n=Dh(t,n,ug)[0],t=au(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Al(n)}catch(v){throw v===pl?Wo:v}else l=n;n=_e();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,ns(9,su(),V0.bind(null,c,r),null)),[l,f,t]}function V0(t,n){t.action=n}function dg(t){var n=_e(),r=Qt;if(r!==null)return fg(n,r,t);_e(),n=n.memoizedState,r=_e();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ns(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=wh(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function su(){return{destroy:void 0,resource:void 0}}function mg(){return _e().memoizedState}function lu(t,n,r,l){var c=en();l=l===void 0?null:l,wt.flags|=t,c.memoizedState=ns(1|n,su(),r,l)}function Sl(t,n,r,l){var c=_e();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&Th(l,Qt.memoizedState.deps)?c.memoizedState=ns(n,f,r,l):(wt.flags|=t,c.memoizedState=ns(1|n,f,r,l))}function gg(t,n){lu(8390656,8,t,n)}function pg(t,n){Sl(2048,8,t,n)}function yg(t,n){return Sl(4,2,t,n)}function _g(t,n){return Sl(4,4,t,n)}function vg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Eg(t,n,r){r=r!=null?r.concat([t]):null,Sl(4,4,vg.bind(null,n,t),r)}function Oh(){}function Tg(t,n){var r=_e();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Th(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Ag(t,n){var r=_e();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Th(n,l[1]))return l[0];if(l=t(),ha){mn(!0);try{t()}finally{mn(!1)}}return r.memoizedState=[l,n],l}function Mh(t,n,r){return r===void 0||(rr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Rp(),wt.lanes|=t,hr|=t,r)}function Sg(t,n,r,l){return ln(r,n)?r:Wa.current!==null?(t=Mh(t,r,l),ln(t,n)||(Ie=!0),t):(rr&42)===0?(Ie=!0,t.memoizedState=r):(t=Rp(),wt.lanes|=t,hr|=t,n)}function bg(t,n,r,l,c){var f=st.p;st.p=f!==0&&8>f?f:8;var v=F.T,T={};F.T=T,Lh(t,!1,n,r);try{var w=c(),z=F.S;if(z!==null&&z(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=R0(w,l);bl(t,n,Q,fn(t))}else bl(t,n,l,fn(t))}catch(X){bl(t,n,{then:function(){},status:"rejected",reason:X},fn())}finally{st.p=f,F.T=v}}function I0(){}function xh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Rg(t).queue;bg(t,c,n,gt,r===null?I0:function(){return wg(t),r(l)})}function Rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:gt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wg(t){var n=Rg(t).next.queue;bl(t,n,{},fn())}function Uh(){return Ge(ql)}function Cg(){return _e().memoizedState}function Dg(){return _e().memoizedState}function N0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=nr(r);var l=ir(n,t,r);l!==null&&(dn(l,n,r),_l(l,n,r)),n={cache:hh()},t.payload=n;return}n=n.return}}function O0(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ou(t)?Ig(n,r):(r=eh(t,n,r,l),r!==null&&(dn(r,t,l),Ng(r,n,l)))}function Vg(t,n,r){var l=fn();bl(t,n,r,l)}function bl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ou(t))Ig(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,r);if(c.hasEagerState=!0,c.eagerState=T,ln(T,v))return Fo(t,n,c,0),Zt===null&&Go(),!1}catch{}finally{}if(r=eh(t,n,c,l),r!==null)return dn(r,t,l),Ng(r,n,l),!0}return!1}function Lh(t,n,r,l){if(l={lane:2,revertLane:gf(),action:l,hasEagerState:!1,eagerState:null,next:null},ou(t)){if(n)throw Error(s(479))}else n=eh(t,r,l,2),n!==null&&dn(n,t,2)}function ou(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Ig(t,n){ts=nu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ng(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}var uu={readContext:Ge,use:ru,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me},Og={readContext:Ge,use:ru,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:gg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,lu(4194308,4,vg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return lu(4194308,4,t,n)},useInsertionEffect:function(t,n){lu(4,2,t,n)},useMemo:function(t,n){var r=en();n=n===void 0?null:n;var l=t();if(ha){mn(!0);try{t()}finally{mn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=en();if(r!==void 0){var c=r(n);if(ha){mn(!0);try{r(n)}finally{mn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=O0.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Ih(t);var n=t.queue,r=Vg.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Oh,useDeferredValue:function(t,n){var r=en();return Mh(r,t,n)},useTransition:function(){var t=Ih(!1);return t=bg.bind(null,wt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,c=en();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Zt===null)throw Error(s(349));(xt&124)!==0||Wm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,gg(eg.bind(null,l,f,t),[t]),l.flags|=2048,ns(9,su(),tg.bind(null,l,f,r,n),null),r},useId:function(){var t=en(),n=Zt.identifierPrefix;if(Bt){var r=Ei,l=vi;r=(l&~(1<<32-Xe(l)-1)).toString(32)+r,n=""+n+"R"+r,r=iu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=w0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Uh,useFormState:cg,useActionState:cg,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Lh.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ch,useCacheRefresh:function(){return en().memoizedState=N0.bind(null,wt)}},Mg={readContext:Ge,use:ru,useCallback:Tg,useContext:Ge,useEffect:pg,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Ag,useReducer:au,useRef:mg,useState:function(){return au(Si)},useDebugValue:Oh,useDeferredValue:function(t,n){var r=_e();return Sg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=au(Si)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:Jm,useId:Cg,useHostTransitionStatus:Uh,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var r=_e();return rg(r,Qt,t,n)},useMemoCache:Ch,useCacheRefresh:Dg},M0={readContext:Ge,use:ru,useCallback:Tg,useContext:Ge,useEffect:pg,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Ag,useReducer:Vh,useRef:mg,useState:function(){return Vh(Si)},useDebugValue:Oh,useDeferredValue:function(t,n){var r=_e();return Qt===null?Mh(r,t,n):Sg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Vh(Si)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:Jm,useId:Cg,useHostTransitionStatus:Uh,useFormState:dg,useActionState:dg,useOptimistic:function(t,n){var r=_e();return Qt!==null?rg(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ch,useCacheRefresh:Dg},is=null,Rl=0;function cu(t){var n=Rl;return Rl+=1,is===null&&(is=[]),Gm(is,t,n)}function wl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function hu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function xg(t){var n=t._init;return n(t._payload)}function Ug(t){function n(x,O){if(t){var L=x.deletions;L===null?(x.deletions=[O],x.flags|=16):L.push(O)}}function r(x,O){if(!t)return null;for(;O!==null;)n(x,O),O=O.sibling;return null}function l(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function c(x,O){return x=_i(x,O),x.index=0,x.sibling=null,x}function f(x,O,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<O?(x.flags|=67108866,O):L):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function T(x,O,L,Y){return O===null||O.tag!==6?(O=ih(L,x.mode,Y),O.return=x,O):(O=c(O,L),O.return=x,O)}function w(x,O,L,Y){var ct=L.type;return ct===Z?Q(x,O,L.props.children,Y,L.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&xg(ct)===O.type)?(O=c(O,L.props),wl(O,L),O.return=x,O):(O=Yo(L.type,L.key,L.props,null,x.mode,Y),wl(O,L),O.return=x,O)}function z(x,O,L,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=rh(L,x.mode,Y),O.return=x,O):(O=c(O,L.children||[]),O.return=x,O)}function Q(x,O,L,Y,ct){return O===null||O.tag!==7?(O=ia(L,x.mode,Y,ct),O.return=x,O):(O=c(O,L),O.return=x,O)}function X(x,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ih(""+O,x.mode,L),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return L=Yo(O.type,O.key,O.props,null,x.mode,L),wl(L,O),L.return=x,L;case B:return O=rh(O,x.mode,L),O.return=x,O;case b:var Y=O._init;return O=Y(O._payload),X(x,O,L)}if(ee(O)||U(O))return O=ia(O,x.mode,L,null),O.return=x,O;if(typeof O.then=="function")return X(x,cu(O),L);if(O.$$typeof===at)return X(x,Zo(x,O),L);hu(x,O)}return null}function k(x,O,L,Y){var ct=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:T(x,O,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===ct?w(x,O,L,Y):null;case B:return L.key===ct?z(x,O,L,Y):null;case b:return ct=L._init,L=ct(L._payload),k(x,O,L,Y)}if(ee(L)||U(L))return ct!==null?null:Q(x,O,L,Y,null);if(typeof L.then=="function")return k(x,O,cu(L),Y);if(L.$$typeof===at)return k(x,O,Zo(x,L),Y);hu(x,L)}return null}function j(x,O,L,Y,ct){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(L)||null,T(O,x,""+Y,ct);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return x=x.get(Y.key===null?L:Y.key)||null,w(O,x,Y,ct);case B:return x=x.get(Y.key===null?L:Y.key)||null,z(O,x,Y,ct);case b:var Ct=Y._init;return Y=Ct(Y._payload),j(x,O,L,Y,ct)}if(ee(Y)||U(Y))return x=x.get(L)||null,Q(O,x,Y,ct,null);if(typeof Y.then=="function")return j(x,O,L,cu(Y),ct);if(Y.$$typeof===at)return j(x,O,L,Zo(O,Y),ct);hu(O,Y)}return null}function Et(x,O,L,Y){for(var ct=null,Ct=null,ft=O,yt=O=0,Oe=null;ft!==null&&yt<L.length;yt++){ft.index>yt?(Oe=ft,ft=null):Oe=ft.sibling;var zt=k(x,ft,L[yt],Y);if(zt===null){ft===null&&(ft=Oe);break}t&&ft&&zt.alternate===null&&n(x,ft),O=f(zt,O,yt),Ct===null?ct=zt:Ct.sibling=zt,Ct=zt,ft=Oe}if(yt===L.length)return r(x,ft),Bt&&aa(x,yt),ct;if(ft===null){for(;yt<L.length;yt++)ft=X(x,L[yt],Y),ft!==null&&(O=f(ft,O,yt),Ct===null?ct=ft:Ct.sibling=ft,Ct=ft);return Bt&&aa(x,yt),ct}for(ft=l(ft);yt<L.length;yt++)Oe=j(ft,x,yt,L[yt],Y),Oe!==null&&(t&&Oe.alternate!==null&&ft.delete(Oe.key===null?yt:Oe.key),O=f(Oe,O,yt),Ct===null?ct=Oe:Ct.sibling=Oe,Ct=Oe);return t&&ft.forEach(function(Er){return n(x,Er)}),Bt&&aa(x,yt),ct}function pt(x,O,L,Y){if(L==null)throw Error(s(151));for(var ct=null,Ct=null,ft=O,yt=O=0,Oe=null,zt=L.next();ft!==null&&!zt.done;yt++,zt=L.next()){ft.index>yt?(Oe=ft,ft=null):Oe=ft.sibling;var Er=k(x,ft,zt.value,Y);if(Er===null){ft===null&&(ft=Oe);break}t&&ft&&Er.alternate===null&&n(x,ft),O=f(Er,O,yt),Ct===null?ct=Er:Ct.sibling=Er,Ct=Er,ft=Oe}if(zt.done)return r(x,ft),Bt&&aa(x,yt),ct;if(ft===null){for(;!zt.done;yt++,zt=L.next())zt=X(x,zt.value,Y),zt!==null&&(O=f(zt,O,yt),Ct===null?ct=zt:Ct.sibling=zt,Ct=zt);return Bt&&aa(x,yt),ct}for(ft=l(ft);!zt.done;yt++,zt=L.next())zt=j(ft,x,yt,zt.value,Y),zt!==null&&(t&&zt.alternate!==null&&ft.delete(zt.key===null?yt:zt.key),O=f(zt,O,yt),Ct===null?ct=zt:Ct.sibling=zt,Ct=zt);return t&&ft.forEach(function(xT){return n(x,xT)}),Bt&&aa(x,yt),ct}function Kt(x,O,L,Y){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:t:{for(var ct=L.key;O!==null;){if(O.key===ct){if(ct=L.type,ct===Z){if(O.tag===7){r(x,O.sibling),Y=c(O,L.props.children),Y.return=x,x=Y;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&xg(ct)===O.type){r(x,O.sibling),Y=c(O,L.props),wl(Y,L),Y.return=x,x=Y;break t}r(x,O);break}else n(x,O);O=O.sibling}L.type===Z?(Y=ia(L.props.children,x.mode,Y,L.key),Y.return=x,x=Y):(Y=Yo(L.type,L.key,L.props,null,x.mode,Y),wl(Y,L),Y.return=x,x=Y)}return v(x);case B:t:{for(ct=L.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(x,O.sibling),Y=c(O,L.children||[]),Y.return=x,x=Y;break t}else{r(x,O);break}else n(x,O);O=O.sibling}Y=rh(L,x.mode,Y),Y.return=x,x=Y}return v(x);case b:return ct=L._init,L=ct(L._payload),Kt(x,O,L,Y)}if(ee(L))return Et(x,O,L,Y);if(U(L)){if(ct=U(L),typeof ct!="function")throw Error(s(150));return L=ct.call(L),pt(x,O,L,Y)}if(typeof L.then=="function")return Kt(x,O,cu(L),Y);if(L.$$typeof===at)return Kt(x,O,Zo(x,L),Y);hu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(x,O.sibling),Y=c(O,L),Y.return=x,x=Y):(r(x,O),Y=ih(L,x.mode,Y),Y.return=x,x=Y),v(x)):r(x,O)}return function(x,O,L,Y){try{Rl=0;var ct=Kt(x,O,L,Y);return is=null,ct}catch(ft){if(ft===pl||ft===Wo)throw ft;var Ct=on(29,ft,null,x.mode);return Ct.lanes=Y,Ct.return=x,Ct}finally{}}}var rs=Ug(!0),Lg=Ug(!1),Sn=J(null),Zn=null;function ar(t){var n=t.alternate;rt(Re,Re.current&1),rt(Sn,t),Zn===null&&(n===null||Wa.current!==null||n.memoizedState!==null)&&(Zn=t)}function Pg(t){if(t.tag===22){if(rt(Re,Re.current),rt(Sn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else sr()}function sr(){rt(Re,Re.current),rt(Sn,Sn.current)}function bi(t){lt(Sn),Zn===t&&(Zn=null),lt(Re)}var Re=J(0);function fu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Cf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ph(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=nr(l);c.payload=n,r!=null&&(c.callback=r),n=ir(t,c,l),n!==null&&(dn(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=nr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ir(t,c,l),n!==null&&(dn(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=nr(r);l.tag=2,n!=null&&(l.callback=n),n=ir(t,l,r),n!==null&&(dn(n,t,r),_l(n,t,r))}};function zg(t,n,r,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!ol(r,l)||!ol(c,f):!0}function Bg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&zh.enqueueReplaceState(n,n.state,null)}function fa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function kg(t){du(t)}function jg(t){console.error(t)}function qg(t){du(t)}function mu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Hg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Bh(t,n,r){return r=nr(r),r.tag=3,r.payload={element:null},r.callback=function(){mu(t,n)},r}function Gg(t){return t=nr(t),t.tag=3,t}function Fg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Hg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Hg(n,r,l),typeof c!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function x0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&dl(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Zn===null?cf():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===mh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ff(t,l,c)),!1;case 22:return r.flags|=65536,l===mh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ff(t,l,c)),!1}throw Error(s(435,r.tag))}return ff(t,l,c),cf(),!1}if(Bt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==lh&&(t=Error(s(422),{cause:l}),fl(vn(t,r)))):(l!==lh&&(n=Error(s(423),{cause:l}),fl(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=Bh(t.stateNode,l,c),yh(t,c),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=vn(f,r),Ml===null?Ml=[f]:Ml.push(f),ue!==4&&(ue=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Bh(r.stateNode,l,t),yh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fr===null||!fr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Gg(c),Fg(c,t,r,l),yh(r,c),!1}r=r.return}while(r!==null);return!1}var Qg=Error(s(461)),Ie=!1;function Le(t,n,r,l){n.child=t===null?Lg(n,null,r,l):rs(n,t.child,r,l)}function Yg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ua(n),l=Ah(t,n,r,v,f,c),T=Sh(),t!==null&&!Ie?(bh(t,n,c),Ri(t,n,c)):(Bt&&T&&ah(n),n.flags|=1,Le(t,n,l,c),n.child)}function Kg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!nh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Xg(t,n,f,l,c)):(t=Yo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yh(t,c)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:ol,r(v,l)&&t.ref===n.ref)return Ri(t,n,c)}return n.flags|=1,t=_i(f,l),t.ref=n.ref,t.return=n,n.child=t}function Xg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(ol(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,Yh(t,c))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Ri(t,n,c)}return kh(t,n,r,l,c)}function $g(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Zg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jo(n,f!==null?f.cachePool:null),f!==null?Xm(n,f):vh(),Pg(n);else return n.lanes=n.childLanes=536870912,Zg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Jo(n,f.cachePool),Xm(n,f),sr(),n.memoizedState=null):(t!==null&&Jo(n,null),vh(),sr());return Le(t,n,c,r),n.child}function Zg(t,n,r,l){var c=dh();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Jo(n,null),vh(),Pg(n),t!==null&&dl(t,n,l,!0),null}function gu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function kh(t,n,r,l,c){return ua(n),r=Ah(t,n,r,l,void 0,c),l=Sh(),t!==null&&!Ie?(bh(t,n,c),Ri(t,n,c)):(Bt&&l&&ah(n),n.flags|=1,Le(t,n,r,c),n.child)}function Jg(t,n,r,l,c,f){return ua(n),n.updateQueue=null,r=Zm(n,l,r,c),$m(t),l=Sh(),t!==null&&!Ie?(bh(t,n,f),Ri(t,n,f)):(Bt&&l&&ah(n),n.flags|=1,Le(t,n,r,f),n.child)}function Wg(t,n,r,l,c){if(ua(n),n.stateNode===null){var f=Ka,v=r.contextType;typeof v=="object"&&v!==null&&(f=Ge(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},gh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?Ge(v):Ka,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Ph(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&zh.enqueueReplaceState(f,f.state,null),El(n,l,f,c),vl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,w=fa(r,T);f.props=w;var z=f.context,Q=r.contextType;v=Ka,typeof Q=="object"&&Q!==null&&(v=Ge(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==v)&&Bg(n,f,l,v),er=!1;var k=n.memoizedState;f.state=k,El(n,l,f,c),vl(),z=n.memoizedState,T||k!==z||er?(typeof X=="function"&&(Ph(n,r,X,l),z=n.memoizedState),(w=er||zg(n,r,w,l,k,z,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ph(t,n),v=n.memoizedProps,Q=fa(r,v),f.props=Q,X=n.pendingProps,k=f.context,z=r.contextType,w=Ka,typeof z=="object"&&z!==null&&(w=Ge(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==X||k!==w)&&Bg(n,f,l,w),er=!1,k=n.memoizedState,f.state=k,El(n,l,f,c),vl();var j=n.memoizedState;v!==X||k!==j||er||t!==null&&t.dependencies!==null&&$o(t.dependencies)?(typeof T=="function"&&(Ph(n,r,T,l),j=n.memoizedState),(Q=er||zg(n,r,Q,l,k,j,w)||t!==null&&t.dependencies!==null&&$o(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=w,l=Q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,gu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=rs(n,t.child,null,c),n.child=rs(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ri(t,n,c),t}function tp(t,n,r,l){return hl(),n.flags|=256,Le(t,n,r,l),n.child}var jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(t){return{baseLanes:t,cachePool:jm()}}function Hh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function ep(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?ar(n):sr(),Bt){var T=oe,w;if(w=T){t:{for(w=T,T=$n;w.nodeType!==8;){if(!T){T=null;break t}if(w=zn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:ra!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},w=on(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,We=n,oe=null,w=!0):w=!1}w||la(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Cf(T)?n.lanes=32:n.lanes=536870912,null;bi(n)}return T=l.children,l=l.fallback,c?(sr(),c=n.mode,T=pu({mode:"hidden",children:T},c),l=ia(l,c,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,c=n.child,c.memoizedState=qh(r),c.childLanes=Hh(t,v,r),n.memoizedState=jh,l):(ar(n),Gh(n,T))}if(w=t.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(f)n.flags&256?(ar(n),n.flags&=-257,n=Fh(t,n,r)):n.memoizedState!==null?(sr(),n.child=t.child,n.flags|=128,n=null):(sr(),c=l.fallback,T=n.mode,l=pu({mode:"visible",children:l.children},T),c=ia(c,T,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,rs(n,t.child,null,r),l=n.child,l.memoizedState=qh(r),l.childLanes=Hh(t,v,r),n.memoizedState=jh,n=c);else if(ar(n),Cf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,fl({value:l,source:null,stack:null}),n=Fh(t,n,r)}else if(Ie||dl(t,n,r,!1),v=(r&t.childLanes)!==0,Ie||v){if(v=Zt,v!==null&&(l=r&-r,l=(l&42)!==0?1:Fs(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,Ya(t,l),dn(v,t,l),Qg;T.data==="$?"||cf(),n=Fh(t,n,r)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,oe=zn(T.nextSibling),We=n,Bt=!0,sa=null,$n=!1,t!==null&&(Tn[An++]=vi,Tn[An++]=Ei,Tn[An++]=ra,vi=t.id,Ei=t.overflow,ra=n),n=Gh(n,l.children),n.flags|=4096);return n}return c?(sr(),c=l.fallback,T=n.mode,w=t.child,z=w.sibling,l=_i(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?c=_i(z,c):(c=ia(c,T,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,T=t.child.memoizedState,T===null?T=qh(r):(w=T.cachePool,w!==null?(z=be._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=jm(),T={baseLanes:T.baseLanes|r,cachePool:w}),c.memoizedState=T,c.childLanes=Hh(t,v,r),n.memoizedState=jh,l):(ar(n),r=t.child,t=r.sibling,r=_i(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function Gh(t,n){return n=pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pu(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Fh(t,n,r){return rs(n,t.child,null,r),t=Gh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function np(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),uh(t.return,n,r)}function Qh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function ip(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&np(t,r,n);else if(t.tag===19)np(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(rt(Re,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&fu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Qh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&fu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Qh(n,!0,r,null,f);break;case"together":Qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),hr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(dl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=_i(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=_i(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Yh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&$o(t)))}function U0(t,n,r){switch(n.tag){case 3:Gt(n,n.stateNode.containerInfo),tr(n,be,t.memoizedState.cache),hl();break;case 27:case 5:js(n);break;case 4:Gt(n,n.stateNode.containerInfo);break;case 10:tr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ar(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ep(t,n,r):(ar(n),t=Ri(t,n,r),t!==null?t.sibling:null);ar(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(dl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return ip(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),rt(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,$g(t,n,r);case 24:tr(n,be,t.memoizedState.cache)}return Ri(t,n,r)}function rp(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Yh(t,r)&&(n.flags&128)===0)return Ie=!1,U0(t,n,r);Ie=(t.flags&131072)!==0}else Ie=!1,Bt&&(n.flags&1048576)!==0&&xm(n,Xo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")nh(l)?(t=fa(l,t),n.tag=1,n=Wg(null,n,l,t,r)):(n.tag=0,n=kh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Rt){n.tag=11,n=Yg(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=Kg(null,n,l,t,r);break t}}throw n=le(l)||l,Error(s(306,n,""))}}return n;case 0:return kh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=fa(l,n.pendingProps),Wg(t,n,l,c,r);case 3:t:{if(Gt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ph(t,n),El(n,l,null,r);var v=n.memoizedState;if(l=v.cache,tr(n,be,l),l!==f.cache&&ch(n,[be],r,!0),vl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=tp(t,n,l,r);break t}else if(l!==c){c=vn(Error(s(424)),n),fl(c),n=tp(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=zn(t.firstChild),We=n,Bt=!0,sa=null,$n=!0,r=Lg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(hl(),l===c){n=Ri(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return gu(t,n),t===null?(r=oy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Iu(vt.current).createElement(r),l[he]=n,l[Ue]=t,ze(l,r,t),fe(l),n.stateNode=l):n.memoizedState=oy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return js(n),t===null&&Bt&&(l=n.stateNode=ay(n.type,n.pendingProps,vt.current),We=n,$n=!0,c=oe,gr(n.type)?(Df=c,oe=zn(l.firstChild)):oe=c),Le(t,n,n.pendingProps.children,r),gu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=oe)&&(l=uT(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,We=n,oe=zn(l.firstChild),$n=!1,c=!0):c=!1),c||la(n)),js(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,bf(c,f)?l=null:v!==null&&bf(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=Ah(t,n,C0,null,null,r),ql._currentValue=c),gu(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=oe)&&(r=cT(r,n.pendingProps,$n),r!==null?(n.stateNode=r,We=n,oe=null,t=!0):t=!1),t||la(n)),null;case 13:return ep(t,n,r);case 4:return Gt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=rs(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Yg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,tr(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ua(n),c=Ge(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Kg(t,n,n.type,n.pendingProps,r);case 15:return Xg(t,n,n.type,n.pendingProps,r);case 19:return ip(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=pu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=_i(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return $g(t,n,r);case 24:return ua(n),l=Ge(be),t===null?(c=dh(),c===null&&(c=Zt,f=hh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},gh(n),tr(n,be,c)):((t.lanes&r)!==0&&(ph(t,n),El(n,null,null,r),vl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),tr(n,be,l)):(l=f.cache,tr(n,be,l),l!==c.cache&&ch(n,[be],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function wi(t){t.flags|=4}function ap(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!dy(n)){if(n=Sn.current,n!==null&&((xt&4194048)===xt?Zn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Zn))throw yl=mh,qm;t.flags|=8192}}function yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ji():536870912,t.lanes|=n,os|=n)}function Cl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function L0(t,n,r){var l=n.pendingProps;switch(sh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(be),Dn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cl(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pm())),re(n),null;case 26:return r=n.memoizedState,t===null?(wi(n),r!==null?(re(n),ap(n,r)):(re(n),n.flags&=-16777217)):r?r!==t.memoizedState?(wi(n),re(n),ap(n,r)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),re(n),n.flags&=-16777217),null;case 27:Ca(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}t=dt.current,cl(n)?Um(n):(t=ay(c,l,r),n.stateNode=t,wi(n))}return re(n),null;case 5:if(Ca(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(t=dt.current,cl(n))Um(n);else{switch(c=Iu(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[he]=n,t[Ue]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=vt.current,cl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[he]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Jp(t.nodeValue,r)),t||la(n)}else t=Iu(t).createTextNode(l),t[he]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=cl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[he]=n}else hl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=Pm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),yu(n,n.updateQueue),re(n),null;case 4:return Dn(),t===null&&vf(n.stateNode.containerInfo),re(n),null;case 10:return Ai(n.type),re(n),null;case 19:if(lt(Re),c=n.memoizedState,c===null)return re(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Cl(c,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=fu(t),f!==null){for(n.flags|=128,Cl(c,!1),t=f.updateQueue,n.updateQueue=t,yu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Mm(r,t),r=r.sibling;return rt(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&tn()>Eu&&(n.flags|=128,l=!0,Cl(c,!1),n.lanes=4194304)}else{if(!l)if(t=fu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,yu(n,t),Cl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return re(n),null}else 2*tn()-c.renderingStartTime>Eu&&r!==536870912&&(n.flags|=128,l=!0,Cl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=tn(),n.sibling=null,t=Re.current,rt(Re,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return bi(n),Eh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),r=n.updateQueue,r!==null&&yu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&lt(ca),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ai(be),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function P0(t,n){switch(sh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(be),Dn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ca(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));hl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return lt(Re),null;case 4:return Dn(),null;case 10:return Ai(n.type),null;case 22:case 23:return bi(n),Eh(),t!==null&&lt(ca),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(be),null;case 25:return null;default:return null}}function sp(t,n){switch(sh(n),n.tag){case 3:Ai(be),Dn();break;case 26:case 27:case 5:Ca(n);break;case 4:Dn();break;case 13:bi(n);break;case 19:lt(Re);break;case 10:Ai(n.type);break;case 22:case 23:bi(n),Eh(),t!==null&&lt(ca);break;case 24:Ai(be)}}function Dl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==c)}}catch(T){Xt(n,n.return,T)}}function lr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,c=n;var w=r,z=T;try{z()}catch(Q){Xt(c,w,Q)}}}l=l.next}while(l!==f)}}catch(Q){Xt(n,n.return,Q)}}function lp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Km(n,r)}catch(l){Xt(t,t.return,l)}}}function op(t,n,r){r.props=fa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Vl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Jn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function up(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Kh(t,n,r){try{var l=t.stateNode;rT(l,t.type,r,n),l[Ue]=n}catch(c){Xt(t,t.return,c)}}function cp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gr(t.type)||t.tag===4}function Xh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||cp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $h(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Vu));else if(l!==4&&(l===27&&gr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for($h(t,n,r),t=t.sibling;t!==null;)$h(t,n,r),t=t.sibling}function _u(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&gr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(_u(t,n,r),t=t.sibling;t!==null;)_u(t,n,r),t=t.sibling}function hp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[he]=t,n[Ue]=r}catch(f){Xt(t,t.return,f)}}var Ci=!1,ge=!1,Zh=!1,fp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function z0(t,n){if(t=t.containerInfo,Af=Lu,t=Sm(t),Xc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,T=-1,w=-1,z=0,Q=0,X=t,k=null;e:for(;;){for(var j;X!==r||c!==0&&X.nodeType!==3||(T=v+c),X!==f||l!==0&&X.nodeType!==3||(w=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(j=X.firstChild)!==null;)k=X,X=j;for(;;){if(X===t)break e;if(k===r&&++z===c&&(T=v),k===f&&++Q===l&&(w=v),(j=X.nextSibling)!==null)break;X=k,k=X.parentNode}X=j}r=T===-1||w===-1?null:{start:T,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sf={focusedElem:t,selectionRange:r},Lu=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Et=fa(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Xt(r,r.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)wf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}}function dp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:or(t,r),l&4&&Dl(5,r);break;case 1:if(or(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){Xt(r,r.return,v)}else{var c=fa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(r,r.return,v)}}l&64&&lp(r),l&512&&Vl(r,r.return);break;case 3:if(or(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Km(t,n)}catch(v){Xt(r,r.return,v)}}break;case 27:n===null&&l&4&&hp(r);case 26:case 5:or(t,r),n===null&&l&4&&up(r),l&512&&Vl(r,r.return);break;case 12:or(t,r);break;case 13:or(t,r),l&4&&pp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Y0.bind(null,r),hT(t,r))));break;case 22:if(l=r.memoizedState!==null||Ci,!l){n=n!==null&&n.memoizedState!==null||ge,c=Ci;var f=ge;Ci=l,(ge=n)&&!f?ur(t,r,(r.subtreeFlags&8772)!==0):or(t,r),Ci=c,ge=f}break;case 30:break;default:or(t,r)}}function mp(t){var n=t.alternate;n!==null&&(t.alternate=null,mp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Oa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,nn=!1;function Di(t,n,r){for(r=r.child;r!==null;)gp(t,n,r),r=r.sibling}function gp(t,n,r){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(zi,r)}catch{}switch(r.tag){case 26:ge||Jn(r,n),Di(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ge||Jn(r,n);var l=ne,c=nn;gr(r.type)&&(ne=r.stateNode,nn=!1),Di(t,n,r),zl(r.stateNode),ne=l,nn=c;break;case 5:ge||Jn(r,n);case 6:if(l=ne,c=nn,ne=null,Di(t,n,r),ne=l,nn=c,ne!==null)if(nn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:ne!==null&&(nn?(t=ne,iy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ql(t)):iy(ne,r.stateNode));break;case 4:l=ne,c=nn,ne=r.stateNode.containerInfo,nn=!0,Di(t,n,r),ne=l,nn=c;break;case 0:case 11:case 14:case 15:ge||lr(2,r,n),ge||lr(4,r,n),Di(t,n,r);break;case 1:ge||(Jn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&op(r,n,l)),Di(t,n,r);break;case 21:Di(t,n,r);break;case 22:ge=(l=ge)||r.memoizedState!==null,Di(t,n,r),ge=l;break;default:Di(t,n,r)}}function pp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ql(t)}catch(r){Xt(n,n.return,r)}}function B0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fp),n;default:throw Error(s(435,t.tag))}}function Jh(t,n){var r=B0(t);n.forEach(function(l){var c=K0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function un(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(gr(T.type)){ne=T.stateNode,nn=!1;break t}break;case 5:ne=T.stateNode,nn=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,nn=!0;break t}T=T.return}if(ne===null)throw Error(s(160));gp(f,v,c),ne=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)yp(n,t),n=n.sibling}var Pn=null;function yp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(lr(3,t,t.return),Dl(3,t),lr(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(ge||r===null||Jn(r,r.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Pn;if(un(n,t),cn(t),l&512&&(ge||r===null||Jn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Gi]||f[he]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[he]=t,fe(f),l=f;break t;case"link":var v=hy("link","href",c).get(l+(r.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(T,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(v=hy("meta","content",c).get(l+(r.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(T,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[he]=t,fe(f),l=f}t.stateNode=l}else fy(c,t.type,t.stateNode);else t.stateNode=cy(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?fy(c,t.type,t.stateNode):cy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kh(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(ge||r===null||Jn(r,r.return)),r!==null&&l&4&&Kh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(ge||r===null||Jn(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(j){Xt(t,t.return,j)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Kh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Zh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(j){Xt(t,t.return,j)}}break;case 3:if(Mu=null,c=Pn,Pn=Nu(n.containerInfo),un(n,t),Pn=c,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ql(n.containerInfo)}catch(j){Xt(t,t.return,j)}Zh&&(Zh=!1,_p(t));break;case 4:l=Pn,Pn=Nu(t.stateNode.containerInfo),un(n,t),cn(t),Pn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(af=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Jh(t,l)));break;case 22:c=t.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,z=Ci,Q=ge;if(Ci=z||c,ge=Q||w,un(n,t),ge=Q,Ci=z,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||w||Ci||ge||da(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var X=w.memoizedProps.style,k=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(j){Xt(w,w.return,j)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(j){Xt(w,w.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Jh(t,r))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Jh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(cp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Xh(t);_u(t,f,c);break;case 5:var v=r.stateNode;r.flags&32&&(yn(v,""),r.flags&=-33);var T=Xh(t);_u(t,T,v);break;case 3:case 4:var w=r.stateNode.containerInfo,z=Xh(t);$h(t,z,w);break;default:throw Error(s(161))}}catch(Q){Xt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _p(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_p(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function or(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dp(t,n.alternate,n),n=n.sibling}function da(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),da(n);break;case 1:Jn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&op(n,n.return,r),da(n);break;case 27:zl(n.stateNode);case 26:case 5:Jn(n,n.return),da(n);break;case 22:n.memoizedState===null&&da(n);break;case 30:da(n);break;default:da(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),Dl(4,f);break;case 1:if(ur(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Xt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Ym(w[c],T)}catch(z){Xt(l,l.return,z)}}r&&v&64&&lp(f),Vl(f,f.return);break;case 27:hp(f);case 26:case 5:ur(c,f,r),r&&l===null&&v&4&&up(f),Vl(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&v&4&&pp(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),Vl(f,f.return);break;case 30:break;default:ur(c,f,r)}n=n.sibling}}function Wh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ml(r))}function tf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t))}function Wn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vp(t,n,r,l),n=n.sibling}function vp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,r,l),c&2048&&Dl(9,n);break;case 1:Wn(t,n,r,l);break;case 3:Wn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t)));break;case 12:if(c&2048){Wn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Xt(n,n.return,w)}}else Wn(t,n,r,l);break;case 13:Wn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,r,l):Il(t,n):f._visibility&2?Wn(t,n,r,l):(f._visibility|=2,as(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Wh(v,n);break;case 24:Wn(t,n,r,l),c&2048&&tf(n.alternate,n);break;default:Wn(t,n,r,l)}}function as(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,T=r,w=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:as(f,v,T,w,c),Dl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?as(f,v,T,w,c):Il(f,v):(Q._visibility|=2,as(f,v,T,w,c)),c&&z&2048&&Wh(v.alternate,v);break;case 24:as(f,v,T,w,c),c&&z&2048&&tf(v.alternate,v);break;default:as(f,v,T,w,c)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Il(r,l),c&2048&&Wh(l.alternate,l);break;case 24:Il(r,l),c&2048&&tf(l.alternate,l);break;default:Il(r,l)}n=n.sibling}}var Nl=8192;function ss(t){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)Ep(t),t=t.sibling}function Ep(t){switch(t.tag){case 26:ss(t),t.flags&Nl&&t.memoizedState!==null&&bT(Pn,t.memoizedState,t.memoizedProps);break;case 5:ss(t);break;case 3:case 4:var n=Pn;Pn=Nu(t.stateNode.containerInfo),ss(t),Pn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Nl,Nl=16777216,ss(t),Nl=n):ss(t));break;default:ss(t)}}function Tp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Sp(l,t)}Tp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ap(t),t=t.sibling}function Ap(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&lr(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vu(t)):Ol(t);break;default:Ol(t)}}function vu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Sp(l,t)}Tp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:lr(8,n,n.return),vu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,vu(n));break;default:vu(n)}t=t.sibling}}function Sp(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:lr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(mp(l),l===r){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}var k0={getCacheForType:function(t){var n=Ge(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},j0=typeof WeakMap=="function"?WeakMap:Map,qt=0,Zt=null,Vt=null,xt=0,Ht=0,hn=null,cr=!1,ls=!1,ef=!1,Vi=0,ue=0,hr=0,ma=0,nf=0,bn=0,os=0,Ml=null,rn=null,rf=!1,af=0,Eu=1/0,Tu=null,fr=null,Pe=0,dr=null,us=null,cs=0,sf=0,lf=null,bp=null,xl=0,of=null;function fn(){if((qt&2)!==0&&xt!==0)return xt&-xt;if(F.T!==null){var t=Za;return t!==0?t:gf()}return hi()}function Rp(){bn===0&&(bn=(xt&536870912)===0||Bt?Gs():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),bn}function dn(t,n,r){(t===Zt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(hs(t,0),mr(t,xt,bn,!1)),ce(t,r),((qt&2)===0||t!==Zt)&&(t===Zt&&((qt&2)===0&&(ma|=r),ue===4&&mr(t,xt,bn,!1)),ti(t))}function wp(t,n,r){if((qt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||ki(t,n),c=l?G0(t,n):hf(t,n,!0),f=l;do{if(c===0){ls&&!l&&mr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!q0(r)){c=hf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;c=Ml;var w=T.current.memoizedState.isDehydrated;if(w&&(hs(T,v).flags|=256),v=hf(T,v,!1),v!==2){if(ef&&!w){T.errorRecoveryDisabledLanes|=f,ma|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){hs(t,0),mr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:mr(l,n,bn,!cr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=af+300-tn(),10<c)){if(mr(l,n,bn,!cr),gn(l,0,!0)!==0)break t;l.timeoutHandle=ey(Cp.bind(null,l,r,rn,Tu,rf,n,bn,ma,os,cr,f,2,-0,0),c);break t}Cp(l,r,rn,Tu,rf,n,bn,ma,os,cr,f,0,-0,0)}}break}while(!0);ti(t)}function Cp(t,n,r,l,c,f,v,T,w,z,Q,X,k,j){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:ST},Ep(n),X=RT(),X!==null)){t.cancelPendingCommit=X(xp.bind(null,t,n,f,r,l,c,v,T,w,Q,1,k,j)),mr(t,f,v,!z);return}xp(t,n,f,r,l,c,v,T,w)}function q0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function mr(t,n,r,l){n&=~nf,n&=~ma,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Xe(c),v=1<<f;l[f]=-1,c&=~v}r!==0&&qi(t,r,n)}function Au(){return(qt&6)===0?(Ul(0),!1):!0}function uf(){if(Vt!==null){if(Ht===0)var t=Vt.return;else t=Vt,Ti=oa=null,Rh(t),is=null,Rl=0,t=Vt;for(;t!==null;)sp(t.alternate,t),t=t.return;Vt=null}}function hs(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),uf(),Zt=t,Vt=r=_i(t.current,null),xt=n,Ht=0,hn=null,cr=!1,ls=ki(t,n),ef=!1,os=bn=nf=ma=hr=ue=0,rn=Ml=null,rf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Xe(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Go(),r}function Dp(t,n){wt=null,F.H=uu,n===pl||n===Wo?(n=Fm(),Ht=3):n===qm?(n=Fm(),Ht=4):Ht=n===Qg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Vt===null&&(ue=1,mu(t,vn(n,t.current)))}function Vp(){var t=F.H;return F.H=uu,t===null?uu:t}function Ip(){var t=F.A;return F.A=k0,t}function cf(){ue=4,cr||(xt&4194048)!==xt&&Sn.current!==null||(ls=!0),(hr&134217727)===0&&(ma&134217727)===0||Zt===null||mr(Zt,xt,bn,!1)}function hf(t,n,r){var l=qt;qt|=2;var c=Vp(),f=Ip();(Zt!==t||xt!==n)&&(Tu=null,hs(t,n)),n=!1;var v=ue;t:do try{if(Ht!==0&&Vt!==null){var T=Vt,w=hn;switch(Ht){case 8:uf(),v=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var z=Ht;if(Ht=0,hn=null,fs(t,T,w,z),r&&ls){v=0;break t}break;default:z=Ht,Ht=0,hn=null,fs(t,T,w,z)}}H0(),v=ue;break}catch(Q){Dp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ti=oa=null,qt=l,F.H=c,F.A=f,Vt===null&&(Zt=null,xt=0,Go()),v}function H0(){for(;Vt!==null;)Np(Vt)}function G0(t,n){var r=qt;qt|=2;var l=Vp(),c=Ip();Zt!==t||xt!==n?(Tu=null,Eu=tn()+500,hs(t,n)):ls=ki(t,n);t:do try{if(Ht!==0&&Vt!==null){n=Vt;var f=hn;e:switch(Ht){case 1:Ht=0,hn=null,fs(t,n,f,1);break;case 2:case 9:if(Hm(f)){Ht=0,hn=null,Op(n);break}n=function(){Ht!==2&&Ht!==9||Zt!==t||(Ht=7),ti(t)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:Hm(f)?(Ht=0,hn=null,Op(n)):(Ht=0,hn=null,fs(t,n,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var T=Vt;if(!v||dy(v)){Ht=0,hn=null;var w=T.sibling;if(w!==null)Vt=w;else{var z=T.return;z!==null?(Vt=z,Su(z)):Vt=null}break e}}Ht=0,hn=null,fs(t,n,f,5);break;case 6:Ht=0,hn=null,fs(t,n,f,6);break;case 8:uf(),ue=6;break t;default:throw Error(s(462))}}F0();break}catch(Q){Dp(t,Q)}while(!0);return Ti=oa=null,F.H=l,F.A=c,qt=r,Vt!==null?0:(Zt=null,xt=0,Go(),ue)}function F0(){for(;Vt!==null&&!zc();)Np(Vt)}function Np(t){var n=rp(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?Su(t):Vt=n}function Op(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Jg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Jg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Rh(n);default:sp(r,n),n=Vt=Mm(n,Vi),n=rp(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?Su(t):Vt=n}function fs(t,n,r,l){Ti=oa=null,Rh(n),is=null,Rl=0;var c=n.return;try{if(x0(t,c,n,r,xt)){ue=1,mu(t,vn(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;ue=1,mu(t,vn(r,t.current)),Vt=null;return}n.flags&32768?(Bt||l===1?t=!0:ls||(xt&536870912)!==0?t=!1:(cr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Mp(n,t)):Su(n)}function Su(t){var n=t;do{if((n.flags&32768)!==0){Mp(n,cr);return}t=n.return;var r=L0(n.alternate,n,Vi);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);ue===0&&(ue=5)}function Mp(t,n){do{var r=P0(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);ue=6,Vt=null}function xp(t,n,r,l,c,f,v,T,w){t.cancelPendingCommit=null;do bu();while(Pe!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=th,Co(t,r,f,v,T,w),t===Zt&&(Vt=Zt=null,xt=0),us=n,dr=t,cs=r,sf=f,lf=c,bp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,X0(ci,function(){return Bp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,c=st.p,st.p=2,v=qt,qt|=4;try{z0(t,n,r)}finally{qt=v,st.p=c,F.T=l}}Pe=1,Up(),Lp(),Pp()}}function Up(){if(Pe===1){Pe=0;var t=dr,n=us,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=st.p;st.p=2;var c=qt;qt|=4;try{yp(n,t);var f=Sf,v=Sm(t.containerInfo),T=f.focusedElem,w=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Am(T.ownerDocument.documentElement,T)){if(w!==null&&Xc(T)){var z=w.start,Q=w.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,k=X&&X.defaultView||window;if(k.getSelection){var j=k.getSelection(),Et=T.textContent.length,pt=Math.min(w.start,Et),Kt=w.end===void 0?pt:Math.min(w.end,Et);!j.extend&&pt>Kt&&(v=Kt,Kt=pt,pt=v);var x=Tm(T,pt),O=Tm(T,Kt);if(x&&O&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var L=X.createRange();L.setStart(x.node,x.offset),j.removeAllRanges(),pt>Kt?(j.addRange(L),j.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),j.addRange(L))}}}}for(X=[],j=T;j=j.parentNode;)j.nodeType===1&&X.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Lu=!!Af,Sf=Af=null}finally{qt=c,st.p=l,F.T=r}}t.current=n,Pe=2}}function Lp(){if(Pe===2){Pe=0;var t=dr,n=us,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=st.p;st.p=2;var c=qt;qt|=4;try{dp(t,n.alternate,n)}finally{qt=c,st.p=l,F.T=r}}Pe=3}}function Pp(){if(Pe===4||Pe===3){Pe=0,qs();var t=dr,n=us,r=cs,l=bp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,us=dr=null,zp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(fr=null),Qs(r),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(zi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,c=st.p,st.p=2,F.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{F.T=n,st.p=c}}(cs&3)!==0&&bu(),ti(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===of?xl++:(xl=0,of=t):xl=0,Ul(0)}}function zp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ml(n)))}function bu(t){return Up(),Lp(),Pp(),Bp()}function Bp(){if(Pe!==5)return!1;var t=dr,n=sf;sf=0;var r=Qs(cs),l=F.T,c=st.p;try{st.p=32>r?32:r,F.T=null,r=lf,lf=null;var f=dr,v=cs;if(Pe=0,us=dr=null,cs=0,(qt&6)!==0)throw Error(s(331));var T=qt;if(qt|=4,Ap(f.current),vp(f,f.current,v,r),qt=T,Ul(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(zi,f)}catch{}return!0}finally{st.p=c,F.T=l,zp(t,n)}}function kp(t,n,r){n=vn(r,n),n=Bh(t.stateNode,n,2),t=ir(t,n,2),t!==null&&(ce(t,2),ti(t))}function Xt(t,n,r){if(t.tag===3)kp(t,t,r);else for(;n!==null;){if(n.tag===3){kp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){t=vn(r,t),r=Gg(2),l=ir(n,r,2),l!==null&&(Fg(r,l,n,t),ce(l,2),ti(l));break}}n=n.return}}function ff(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new j0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(ef=!0,c.add(r),t=Q0.bind(null,t,n,r),n.then(t,t))}function Q0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Zt===t&&(xt&r)===r&&(ue===4||ue===3&&(xt&62914560)===xt&&300>tn()-af?(qt&2)===0&&hs(t,0):nf|=r,os===xt&&(os=0)),ti(t)}function jp(t,n){n===0&&(n=ji()),t=Ya(t,n),t!==null&&(ce(t,n),ti(t))}function Y0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),jp(t,r)}function K0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),jp(t,r)}function X0(t,n){return Mr(t,n)}var Ru=null,ds=null,df=!1,wu=!1,mf=!1,ga=0;function ti(t){t!==ds&&t.next===null&&(ds===null?Ru=ds=t:ds=ds.next=t),wu=!0,df||(df=!0,Z0())}function Ul(t,n){if(!mf&&wu){mf=!0;do for(var r=!1,l=Ru;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=c&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Fp(l,f))}else f=xt,f=gn(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ki(l,f)||(r=!0,Fp(l,f));l=l.next}while(r);mf=!1}}function $0(){qp()}function qp(){wu=df=!1;var t=0;ga!==0&&(aT()&&(t=ga),ga=0);for(var n=tn(),r=null,l=Ru;l!==null;){var c=l.next,f=Hp(l,n);f===0?(l.next=null,r===null?Ru=c:r.next=c,c===null&&(ds=r)):(r=l,(t!==0||(f&3)!==0)&&(wu=!0)),l=c}Ul(t)}function Hp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Xe(f),T=1<<v,w=c[v];w===-1?((T&r)===0||(T&l)!==0)&&(c[v]=Ia(T,n)):w<=n&&(t.expiredLanes|=T),f&=~T}if(n=Zt,r=xt,r=gn(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Va(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ki(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Va(l),Qs(r)){case 2:case 8:r=De;break;case 32:r=ci;break;case 268435456:r=Hs;break;default:r=ci}return l=Gp.bind(null,t),r=Mr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Va(l),t.callbackPriority=2,t.callbackNode=null,2}function Gp(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(bu()&&t.callbackNode!==r)return null;var l=xt;return l=gn(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(wp(t,l,n),Hp(t,tn()),t.callbackNode!=null&&t.callbackNode===r?Gp.bind(null,t):null)}function Fp(t,n){if(bu())return null;wp(t,n,!0)}function Z0(){lT(function(){(qt&6)!==0?Mr(Ae,$0):qp()})}function gf(){return ga===0&&(ga=Gs()),ga}function Qp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:On(""+t)}function Yp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function J0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Qp((c[Ue]||null).action),v=l.submitter;v&&(n=(n=v[Ue]||null)?Qp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Kr("action","action",null,l,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var w=v?Yp(c,v):new FormData(c);xh(r,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(T.preventDefault(),w=v?Yp(c,v):new FormData(c),xh(r,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var pf=0;pf<Wc.length;pf++){var yf=Wc[pf],W0=yf.toLowerCase(),tT=yf[0].toUpperCase()+yf.slice(1);Ln(W0,"on"+tT)}Ln(wm,"onAnimationEnd"),Ln(Cm,"onAnimationIteration"),Ln(Dm,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(y0,"onTransitionRun"),Ln(_0,"onTransitionStart"),Ln(v0,"onTransitionCancel"),Ln(Vm,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Kp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,z=T.currentTarget;if(T=T.listener,w!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=z;try{f(c)}catch(Q){du(Q)}c.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,z=T.currentTarget,T=T.listener,w!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=z;try{f(c)}catch(Q){du(Q)}c.currentTarget=null,f=w}}}}function It(t,n){var r=n[Ur];r===void 0&&(r=n[Ur]=new Set);var l=t+"__bubble";r.has(l)||(Xp(n,t,2,!1),r.add(l))}function _f(t,n,r){var l=0;n&&(l|=4),Xp(r,t,l,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function vf(t){if(!t[Cu]){t[Cu]=!0,Do.forEach(function(r){r!=="selectionchange"&&(eT.has(r)||_f(r,!1,t),_f(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,_f("selectionchange",!1,n))}}function Xp(t,n,r,l){switch(vy(n)){case 2:var c=DT;break;case 8:c=VT;break;default:c=Mf}r=c.bind(null,n,r,t),c=void 0,!pi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Ef(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===c)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;T!==null;){if(v=Hn(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue t}T=T.parentNode}}l=l.return}Fr(function(){var z=f,Q=Ws(r),X=[];t:{var k=Im.get(t);if(k!==void 0){var j=Kr,Et=t;switch(t){case"keypress":if(Qr(r)===0)break t;case"keydown":case"keyup":j=Ha;break;case"focusin":Et="focus",j=ka;break;case"focusout":Et="blur",j=ka;break;case"beforeblur":case"afterblur":j=ka;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Wi;break;case wm:case Cm:case Dm:j=el;break;case Vm:j=m;break;case"scroll":case"scrollend":j=$r;break;case"wheel":j=A;break;case"copy":case"cut":case"paste":j=Po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=rl;break;case"toggle":case"beforetoggle":j=q}var pt=(n&4)!==0,Kt=!pt&&(t==="scroll"||t==="scrollend"),x=pt?k!==null?k+"Capture":null:k;pt=[];for(var O=z,L;O!==null;){var Y=O;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||x===null||(Y=Zi(O,x),Y!=null&&pt.push(Pl(O,Y,L))),Kt)break;O=O.return}0<pt.length&&(k=new j(k,Et,null,r,Q),X.push({event:k,listeners:pt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",k&&r!==Js&&(Et=r.relatedTarget||r.fromElement)&&(Hn(Et)||Et[fi]))break t;if((j||k)&&(k=Q.window===Q?Q:(k=Q.ownerDocument)?k.defaultView||k.parentWindow:window,j?(Et=r.relatedTarget||r.toElement,j=z,Et=Et?Hn(Et):null,Et!==null&&(Kt=h(Et),pt=Et.tag,Et!==Kt||pt!==5&&pt!==27&&pt!==6)&&(Et=null)):(j=null,Et=z),j!==Et)){if(pt=Wr,Y="onMouseLeave",x="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pt=rl,Y="onPointerLeave",x="onPointerEnter",O="pointer"),Kt=j==null?k:Fi(j),L=Et==null?k:Fi(Et),k=new pt(Y,O+"leave",j,r,Q),k.target=Kt,k.relatedTarget=L,Y=null,Hn(Q)===z&&(pt=new pt(x,O+"enter",Et,r,Q),pt.target=L,pt.relatedTarget=Kt,Y=pt),Kt=Y,j&&Et)e:{for(pt=j,x=Et,O=0,L=pt;L;L=ms(L))O++;for(L=0,Y=x;Y;Y=ms(Y))L++;for(;0<O-L;)pt=ms(pt),O--;for(;0<L-O;)x=ms(x),L--;for(;O--;){if(pt===x||x!==null&&pt===x.alternate)break e;pt=ms(pt),x=ms(x)}pt=null}else pt=null;j!==null&&$p(X,k,j,pt,!1),Et!==null&&Kt!==null&&$p(X,Kt,Et,pt,!0)}}t:{if(k=z?Fi(z):window,j=k.nodeName&&k.nodeName.toLowerCase(),j==="select"||j==="input"&&k.type==="file")var ct=gm;else if(dm(k))if(pm)ct=m0;else{ct=f0;var Ct=h0}else j=k.nodeName,!j||j.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&Pa(z.elementType)&&(ct=gm):ct=d0;if(ct&&(ct=ct(t,z))){mm(X,ct,r,Q);break t}Ct&&Ct(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Xs(k,"number",k.value)}switch(Ct=z?Fi(z):window,t){case"focusin":(dm(Ct)||Ct.contentEditable==="true")&&(Ga=Ct,$c=z,ul=null);break;case"focusout":ul=$c=Ga=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,bm(X,r,Q);break;case"selectionchange":if(p0)break;case"keydown":case"keyup":bm(X,r,Q)}var ft;if(At)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Un?Mn(t,r)&&(yt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(yt="onCompositionStart");yt&&(de&&r.locale!=="ko"&&(Un||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Un&&(ft=xo()):(_n=Q,$t="value"in _n?_n.value:_n.textContent,Un=!0)),Ct=Du(z,yt),0<Ct.length&&(yt=new il(yt,t,null,r,Q),X.push({event:yt,listeners:Ct}),ft?yt.data=ft:(ft=xn(r),ft!==null&&(yt.data=ft)))),(ft=jt?al(t,r):o0(t,r))&&(yt=Du(z,"onBeforeInput"),0<yt.length&&(Ct=new il("onBeforeInput","beforeinput",null,r,Q),X.push({event:Ct,listeners:yt}),Ct.data=ft)),J0(X,t,z,r,Q)}Kp(X,n)})}function Pl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Du(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Zi(t,r),c!=null&&l.unshift(Pl(t,c,f)),c=Zi(t,n),c!=null&&l.push(Pl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $p(t,n,r,l,c){for(var f=n._reactName,v=[];r!==null&&r!==l;){var T=r,w=T.alternate,z=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||z===null||(w=z,c?(z=Zi(r,f),z!=null&&v.unshift(Pl(r,z,w))):c||(z=Zi(r,f),z!=null&&v.push(Pl(r,z,w)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var nT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function Zp(t){return(typeof t=="string"?t:""+t).replace(nT,`
`).replace(iT,"")}function Jp(t,n){return n=Zp(n),Zp(t)===n}function Vu(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":kr(t,"class",l);break;case"tabIndex":kr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(t,r,l);break;case"style":Zs(t,l,f);break;case"data":if(n!=="object"){kr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=On(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=On(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Vu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=On(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Br(t,"popover",l);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Br(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=No.get(r)||r,Br(t,r,l))}}function Tf(t,n,r,l,c,f){switch(r){case"style":Zs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pr.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[Ue]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Br(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,v,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var T=f=v=c=null,w=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":v=Q;break;case"checked":w=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Yt(t,n,l,Q,r,null)}}Ks(t,f,T,w,z,v,c,!1),Ki(t);return;case"select":It("invalid",t),l=v=f=null;for(c in r)if(r.hasOwnProperty(c)&&(T=r[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Yt(t,n,c,T,r,null)}n=f,r=v,t.multiple=!!l,n!=null?Xi(t,!!l,n,!1):r!=null&&Xi(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(v in r)if(r.hasOwnProperty(v)&&(T=r[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(t,n,v,T,r,null)}Io(t,l,c,f),Ki(t);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,w,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)It(Ll[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,z,l,r,null)}return;default:if(Pa(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&Tf(t,n,Q,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Yt(t,n,T,l,r,null))}function rT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,T=null,w=null,z=null,Q=null;for(j in r){var X=r[j];if(r.hasOwnProperty(j)&&X!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(j)||Yt(t,n,j,null,l,X)}}for(var k in l){var j=l[k];if(X=r[k],l.hasOwnProperty(k)&&(j!=null||X!=null))switch(k){case"type":f=j;break;case"name":c=j;break;case"checked":z=j;break;case"defaultChecked":Q=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==X&&Yt(t,n,k,j,l,X)}}Ys(t,v,T,w,z,Q,f,c);return;case"select":j=v=T=k=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":j=w;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=r[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":k=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==w&&Yt(t,n,c,f,l,w)}n=T,r=v,l=j,k!=null?Xi(t,!!r,k,!1):!!l!=!!r&&(n!=null?Xi(t,!!r,n,!0):Xi(t,!!r,r?[]:"",!1));return;case"textarea":j=k=null;for(T in r)if(c=r[T],r.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(t,n,T,null,l,c)}for(v in l)if(c=l[v],f=r[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":k=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,v,c,l,f)}Vo(t,k,j);return;case"option":for(var Et in r)if(k=r[Et],r.hasOwnProperty(Et)&&k!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:Yt(t,n,Et,null,l,k)}for(w in l)if(k=l[w],j=r[w],l.hasOwnProperty(w)&&k!==j&&(k!=null||j!=null))switch(w){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Yt(t,n,w,k,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)k=r[pt],r.hasOwnProperty(pt)&&k!=null&&!l.hasOwnProperty(pt)&&Yt(t,n,pt,null,l,k);for(z in l)if(k=l[z],j=r[z],l.hasOwnProperty(z)&&k!==j&&(k!=null||j!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Yt(t,n,z,k,l,j)}return;default:if(Pa(n)){for(var Kt in r)k=r[Kt],r.hasOwnProperty(Kt)&&k!==void 0&&!l.hasOwnProperty(Kt)&&Tf(t,n,Kt,void 0,l,k);for(Q in l)k=l[Q],j=r[Q],!l.hasOwnProperty(Q)||k===j||k===void 0&&j===void 0||Tf(t,n,Q,k,l,j);return}}for(var x in r)k=r[x],r.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,k);for(X in l)k=l[X],j=r[X],!l.hasOwnProperty(X)||k===j||k==null&&j==null||Yt(t,n,X,k,l,j)}var Af=null,Sf=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function Wp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ty(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rf=null;function aT(){var t=window.event;return t&&t.type==="popstate"?t===Rf?!1:(Rf=t,!0):(Rf=null,!1)}var ey=typeof setTimeout=="function"?setTimeout:void 0,sT=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,lT=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(t){return ny.resolve(null).then(t).catch(oT)}:ey;function oT(t){setTimeout(function(){throw t})}function gr(t){return t==="head"}function iy(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&zl(v.documentElement),r&2&&zl(v.body),r&4)for(r=v.head,zl(r),v=r.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[Gi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=T}}if(c===0){t.removeChild(f),Ql(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ql(n)}function wf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wf(r),Oa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function uT(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function cT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function Cf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function hT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Df=null;function ry(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function ay(t,n,r){switch(n=Iu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Oa(t)}var Rn=new Map,sy=new Set;function Nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=st.d;st.d={f:fT,r:dT,D:mT,C:gT,L:pT,m:yT,X:vT,S:_T,M:ET};function fT(){var t=Ii.f(),n=Au();return t||n}function dT(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?wg(n):Ii.r(t)}var gs=typeof document>"u"?null:document;function ly(t,n,r){var l=gs;if(l&&typeof n=="string"&&n){var c=Ve(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),sy.has(c)||(sy.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),fe(n),l.head.appendChild(n)))}}function mT(t){Ii.D(t),ly("dns-prefetch",t,null)}function gT(t,n){Ii.C(t,n),ly("preconnect",t,n)}function pT(t,n,r){Ii.L(t,n,r);var l=gs;if(l&&t&&n){var c='link[rel="preload"][as="'+Ve(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Ve(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Ve(r.imageSizes)+'"]')):c+='[href="'+Ve(t)+'"]';var f=c;switch(n){case"style":f=ps(t);break;case"script":f=ys(t)}Rn.has(f)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Bl(f))||n==="script"&&l.querySelector(kl(f))||(n=l.createElement("link"),ze(n,"link",t),fe(n),l.head.appendChild(n)))}}function yT(t,n){Ii.m(t,n);var r=gs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ve(l)+'"][href="'+Ve(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ys(t)}if(!Rn.has(f)&&(t=E({rel:"modulepreload",href:t},n),Rn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(kl(f)))return}l=r.createElement("link"),ze(l,"link",t),fe(l),r.head.appendChild(l)}}}function _T(t,n,r){Ii.S(t,n,r);var l=gs;if(l&&t){var c=Qi(l).hoistableStyles,f=ps(t);n=n||"default";var v=c.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Bl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Rn.get(f))&&Vf(t,r);var w=v=l.createElement("link");fe(w),ze(w,"link",t),w._p=new Promise(function(z,Q){w.onload=z,w.onerror=Q}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ou(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},c.set(f,v)}}}function vT(t,n){Ii.X(t,n);var r=gs;if(r&&t){var l=Qi(r).hoistableScripts,c=ys(t),f=l.get(c);f||(f=r.querySelector(kl(c)),f||(t=E({src:t,async:!0},n),(n=Rn.get(c))&&If(t,n),f=r.createElement("script"),fe(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ET(t,n){Ii.M(t,n);var r=gs;if(r&&t){var l=Qi(r).hoistableScripts,c=ys(t),f=l.get(c);f||(f=r.querySelector(kl(c)),f||(t=E({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&If(t,n),f=r.createElement("script"),fe(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function oy(t,n,r,l){var c=(c=vt.current)?Nu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ps(r.href),r=Qi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ps(r.href);var f=Qi(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Bl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Rn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(t,r),f||TT(c,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ys(r),r=Qi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ps(t){return'href="'+Ve(t)+'"'}function Bl(t){return'link[rel="stylesheet"]['+t+"]"}function uy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function TT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),fe(n),t.head.appendChild(n))}function ys(t){return'[src="'+Ve(t)+'"]'}function kl(t){return"script[async]"+t}function cy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ve(r.href)+'"]');if(l)return n.instance=l,fe(l),l;var c=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),fe(l),ze(l,"style",c),Ou(l,r.precedence,t),n.instance=l;case"stylesheet":c=ps(r.href);var f=t.querySelector(Bl(c));if(f)return n.state.loading|=4,n.instance=f,fe(f),f;l=uy(r),(c=Rn.get(c))&&Vf(l,c),f=(t.ownerDocument||t).createElement("link"),fe(f);var v=f;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ze(f,"link",l),n.state.loading|=4,Ou(f,r.precedence,t),n.instance=f;case"script":return f=ys(r.src),(c=t.querySelector(kl(f)))?(n.instance=c,fe(c),c):(l=r,(c=Rn.get(f))&&(l=E({},r),If(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),fe(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,r.precedence,t));return n.instance}function Ou(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function If(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Mu=null;function hy(t,n,r){if(Mu===null){var l=new Map,c=Mu=new Map;c.set(r,l)}else c=Mu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Gi]||f[he]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function fy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function AT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var jl=null;function ST(){}function bT(t,n,r){if(jl===null)throw Error(s(475));var l=jl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ps(r.href),f=t.querySelector(Bl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,fe(f);return}f=t.ownerDocument||t,r=uy(r),(c=Rn.get(c))&&Vf(r,c),f=f.createElement("link"),fe(f);var v=f;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=xu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function RT(){if(jl===null)throw Error(s(475));var t=jl;return t.stylesheets&&t.count===0&&Nf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Nf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)Nf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uu=null;function Nf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uu=new Map,n.forEach(wT,t),Uu=null,xu.call(t))}function wT(t,n){if(!(n.state.loading&4)){var r=Uu.get(t);if(r)var l=r.get(null);else{r=new Map,Uu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,c),r.set(v,c),this.count++,l=xu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ql={$$typeof:at,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function CT(t,n,r,l,c,f,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function my(t,n,r,l,c,f,v,T,w,z,Q,X){return t=new CT(t,n,r,v,T,w,z,X),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=hh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},gh(f),t}function gy(t){return t?(t=Ka,t):Ka}function py(t,n,r,l,c,f){c=gy(c),l.context===null?l.context=c:l.pendingContext=c,l=nr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ir(t,l,n),r!==null&&(dn(r,t,n),_l(r,t,n))}function yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Of(t,n){yy(t,n),(t=t.alternate)&&yy(t,n)}function _y(t){if(t.tag===13){var n=Ya(t,67108864);n!==null&&dn(n,t,67108864),Of(t,67108864)}}var Lu=!0;function DT(t,n,r,l){var c=F.T;F.T=null;var f=st.p;try{st.p=2,Mf(t,n,r,l)}finally{st.p=f,F.T=c}}function VT(t,n,r,l){var c=F.T;F.T=null;var f=st.p;try{st.p=8,Mf(t,n,r,l)}finally{st.p=f,F.T=c}}function Mf(t,n,r,l){if(Lu){var c=xf(l);if(c===null)Ef(t,n,l,Pu,r),Ey(t,l);else if(NT(c,t,n,r,l))l.stopPropagation();else if(Ey(t,l),n&4&&-1<IT.indexOf(t)){for(;c!==null;){var f=Gn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Vn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-Xe(v);T.entanglements[1]|=w,v&=~w}ti(f),(qt&6)===0&&(Eu=tn()+500,Ul(0))}}break;case 13:T=Ya(f,2),T!==null&&dn(T,f,2),Au(),Of(f,2)}if(f=xf(l),f===null&&Ef(t,n,l,Pu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Ef(t,n,l,null,r)}}function xf(t){return t=Ws(t),Uf(t)}var Pu=null;function Uf(t){if(Pu=null,t=Hn(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pu=t,null}function vy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bo()){case Ae:return 2;case De:return 8;case ci:case Bc:return 32;case Hs:return 268435456;default:return 32}default:return 32}}var Lf=!1,pr=null,yr=null,_r=null,Hl=new Map,Gl=new Map,vr=[],IT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ey(t,n){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(n.pointerId)}}function Fl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Gn(n),n!==null&&_y(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function NT(t,n,r,l,c){switch(n){case"focusin":return pr=Fl(pr,t,n,r,l,c),!0;case"dragenter":return yr=Fl(yr,t,n,r,l,c),!0;case"mouseover":return _r=Fl(_r,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Hl.set(f,Fl(Hl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Gl.set(f,Fl(Gl.get(f)||null,t,n,r,l,c)),!0}return!1}function Ty(t){var n=Hn(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,qc(t.priority,function(){if(r.tag===13){var l=fn();l=Fs(l);var c=Ya(r,l);c!==null&&dn(c,r,l),Of(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=xf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Js=l,r.target.dispatchEvent(l),Js=null}else return n=Gn(r),n!==null&&_y(n),t.blockedOn=r,!1;n.shift()}return!0}function Ay(t,n,r){zu(t)&&r.delete(n)}function OT(){Lf=!1,pr!==null&&zu(pr)&&(pr=null),yr!==null&&zu(yr)&&(yr=null),_r!==null&&zu(_r)&&(_r=null),Hl.forEach(Ay),Gl.forEach(Ay)}function Bu(t,n){t.blockedOn===n&&(t.blockedOn=null,Lf||(Lf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,OT)))}var ku=null;function Sy(t){ku!==t&&(ku=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ku===t&&(ku=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Uf(l||r)===null)continue;break}var f=Gn(r);f!==null&&(t.splice(n,3),n-=3,xh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ql(t){function n(w){return Bu(w,t)}pr!==null&&Bu(pr,t),yr!==null&&Bu(yr,t),_r!==null&&Bu(_r,t),Hl.forEach(n),Gl.forEach(n);for(var r=0;r<vr.length;r++){var l=vr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<vr.length&&(r=vr[0],r.blockedOn===null);)Ty(r),r.blockedOn===null&&vr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],v=c[Ue]||null;if(typeof f=="function")v||Sy(r);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[Ue]||null)T=v.formAction;else if(Uf(c)!==null)continue}else T=v.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Sy(r)}}}function Pf(t){this._internalRoot=t}ju.prototype.render=Pf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();py(r,l,t,n,null,null)},ju.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;py(t.current,2,null,t,null,null),Au(),n[fi]=null}};function ju(t){this._internalRoot=t}ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=hi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<vr.length&&n!==0&&n<vr[r].priority;r++);vr.splice(r,0,t),r===0&&Ty(t)}};var by=e.version;if(by!=="19.1.1")throw Error(s(527,by,"19.1.1"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var MT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{zi=qu.inject(MT),qe=qu}catch{}}return Kl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=kg,f=jg,v=qg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=my(t,1,!1,null,null,r,l,c,f,v,T,null),t[fi]=n.current,vf(t),new Pf(n)},Kl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=kg,v=jg,T=qg,w=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=my(t,1,!0,n,r??null,l,c,f,v,T,w,z),n.context=gy(null),r=n.current,l=fn(),l=Fs(l),c=nr(l),c.callback=null,ir(r,c,l),r=l,n.current.lanes=r,ce(n,r),ti(n),t[fi]=n.current,vf(t),new ju(n)},Kl.version="19.1.1",Kl}var xy;function GT(){if(xy)return kf.exports;xy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),kf.exports=HT(),kf.exports}var FT=GT();const QT=Z_(FT);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Uy="popstate";function YT(a={}){function e(s,o){let{pathname:h,search:d,hash:g}=s.location;return ed("",{pathname:h,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:ao(o)}return XT(e,i,null,a)}function ae(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function si(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KT(){return Math.random().toString(36).substring(2,10)}function Ly(a,e){return{usr:a.state,key:a.key,idx:e}}function ed(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ms(e):e,state:i,key:e&&e.key||s||KT()}}function ao({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Ms(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function XT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:h=!1}=s,d=o.history,g="POP",y=null,p=E();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function E(){return(d.state||{idx:null}).idx}function S(){g="POP";let H=E(),nt=H==null?null:H-p;p=H,y&&y({action:g,location:tt.location,delta:nt})}function D(H,nt){g="PUSH";let et=ed(tt.location,H,nt);p=E()+1;let at=Ly(et,p),Rt=tt.createHref(et);try{d.pushState(at,"",Rt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(Rt)}h&&y&&y({action:g,location:tt.location,delta:1})}function B(H,nt){g="REPLACE";let et=ed(tt.location,H,nt);p=E();let at=Ly(et,p),Rt=tt.createHref(et);d.replaceState(at,"",Rt),h&&y&&y({action:g,location:tt.location,delta:0})}function Z(H){return $T(H)}let tt={get action(){return g},get location(){return a(o,d)},listen(H){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Uy,S),y=H,()=>{o.removeEventListener(Uy,S),y=null}},createHref(H){return e(o,H)},createURL:Z,encodeLocation(H){let nt=Z(H);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:D,replace:B,go(H){return d.go(H)}};return tt}function $T(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ae(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:ao(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function J_(a,e,i="/"){return ZT(a,e,i,!1)}function ZT(a,e,i,s){let o=typeof e=="string"?Ms(e):e,h=xi(o.pathname||"/",i);if(h==null)return null;let d=W_(a);JT(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=u1(h);g=l1(d[y],p,s)}return g}function W_(a,e=[],i=[],s="",o=!1){let h=(d,g,y=o,p)=>{let E={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;ae(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Ni([s,E.relativePath]),D=i.concat(E);d.children&&d.children.length>0&&(ae(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),W_(d.children,e,D,S,y)),!(d.path==null&&!d.index)&&e.push({path:S,score:a1(S,d.index),routesMeta:D})};return a.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))h(d,g);else for(let y of tv(d.path))h(d,g,!0,y)}),e}function tv(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return o?[h,""]:[h];let d=tv(s.join("/")),g=[];return g.push(...d.map(y=>y===""?h:[h,y].join("/"))),o&&g.push(...d),g.map(y=>a.startsWith("/")&&y===""?"/":y)}function JT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:s1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var WT=/^:[\w-]+$/,t1=3,e1=2,n1=1,i1=10,r1=-2,Py=a=>a==="*";function a1(a,e){let i=a.split("/"),s=i.length;return i.some(Py)&&(s+=r1),e&&(s+=e1),i.filter(o=>!Py(o)).reduce((o,h)=>o+(WT.test(h)?t1:h===""?n1:i1),s)}function s1(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function l1(a,e,i=!1){let{routesMeta:s}=a,o={},h="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,E=h==="/"?e:e.slice(h.length)||"/",S=ic({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),D=y.route;if(!S&&p&&i&&!s[s.length-1].route.index&&(S=ic({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:Ni([h,S.pathname]),pathnameBase:d1(Ni([h,S.pathnameBase])),route:D}),S.pathnameBase!=="/"&&(h=Ni([h,S.pathnameBase]))}return d}function ic(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=o1(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let h=o[0],d=h.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:S},D)=>{if(E==="*"){let Z=g[D]||"";d=h.slice(0,h.length-Z.length).replace(/(.)\/+$/,"$1")}const B=g[D];return S&&!B?p[E]=void 0:p[E]=(B||"").replace(/%2F/g,"/"),p},{}),pathname:h,pathnameBase:d,pattern:a}}function o1(a,e=!1,i=!0){si(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function u1(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function xi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function c1(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Ms(a):a;return{pathname:i?i.startsWith("/")?i:h1(i,e):e,search:m1(s),hash:g1(o)}}function h1(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Gf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f1(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function ev(a){let e=f1(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function nv(a,e,i,s=!1){let o;typeof a=="string"?o=Ms(a):(o={...a},ae(!o.pathname||!o.pathname.includes("?"),Gf("?","pathname","search",o)),ae(!o.pathname||!o.pathname.includes("#"),Gf("#","pathname","hash",o)),ae(!o.search||!o.search.includes("#"),Gf("#","search","hash",o)));let h=a===""||o.pathname==="",d=h?"/":o.pathname,g;if(d==null)g=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let D=d.split("/");for(;D[0]==="..";)D.shift(),S-=1;o.pathname=D.join("/")}g=S>=0?e[S]:"/"}let y=c1(o,g),p=d&&d!=="/"&&d.endsWith("/"),E=(h||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var Ni=a=>a.join("/").replace(/\/\/+/g,"/"),d1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),m1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,g1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function p1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var iv=["POST","PUT","PATCH","DELETE"];new Set(iv);var y1=["GET",...iv];new Set(y1);var xs=G.createContext(null);xs.displayName="DataRouter";var Ec=G.createContext(null);Ec.displayName="DataRouterState";G.createContext(!1);var rv=G.createContext({isTransitioning:!1});rv.displayName="ViewTransition";var _1=G.createContext(new Map);_1.displayName="Fetchers";var v1=G.createContext(null);v1.displayName="Await";var oi=G.createContext(null);oi.displayName="Navigation";var go=G.createContext(null);go.displayName="Location";var ui=G.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var wd=G.createContext(null);wd.displayName="RouteError";function E1(a,{relative:e}={}){ae(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(oi),{hash:o,pathname:h,search:d}=yo(a,{relative:e}),g=h;return i!=="/"&&(g=h==="/"?i:Ni([i,h])),s.createHref({pathname:g,search:d,hash:o})}function po(){return G.useContext(go)!=null}function Aa(){return ae(po(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(go).location}var av="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sv(a){G.useContext(oi).static||G.useLayoutEffect(a)}function lv(){let{isDataRoute:a}=G.useContext(ui);return a?M1():T1()}function T1(){ae(po(),"useNavigate() may be used only in the context of a <Router> component.");let a=G.useContext(xs),{basename:e,navigator:i}=G.useContext(oi),{matches:s}=G.useContext(ui),{pathname:o}=Aa(),h=JSON.stringify(ev(s)),d=G.useRef(!1);return sv(()=>{d.current=!0}),G.useCallback((y,p={})=>{if(si(d.current,av),!d.current)return;if(typeof y=="number"){i.go(y);return}let E=nv(y,JSON.parse(h),o,p.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ni([e,E.pathname])),(p.replace?i.replace:i.push)(E,p.state,p)},[e,i,h,o,a])}G.createContext(null);function ov(){let{matches:a}=G.useContext(ui),e=a[a.length-1];return e?e.params:{}}function yo(a,{relative:e}={}){let{matches:i}=G.useContext(ui),{pathname:s}=Aa(),o=JSON.stringify(ev(i));return G.useMemo(()=>nv(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function A1(a,e){return uv(a,e)}function uv(a,e,i,s,o){ae(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=G.useContext(oi),{matches:d}=G.useContext(ui),g=d[d.length-1],y=g?g.params:{},p=g?g.pathname:"/",E=g?g.pathnameBase:"/",S=g&&g.route;{let et=S&&S.path||"";cv(p,!S||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let D=Aa(),B;if(e){let et=typeof e=="string"?Ms(e):e;ae(E==="/"||et.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),B=et}else B=D;let Z=B.pathname||"/",tt=Z;if(E!=="/"){let et=E.replace(/^\//,"").split("/");tt="/"+Z.replace(/^\//,"").split("/").slice(et.length).join("/")}let H=J_(a,{pathname:tt});si(S||H!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),si(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let nt=C1(H&&H.map(et=>Object.assign({},et,{params:Object.assign({},y,et.params),pathname:Ni([E,h.encodeLocation?h.encodeLocation(et.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:Ni([E,h.encodeLocation?h.encodeLocation(et.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathnameBase])})),d,i,s,o);return e&&nt?G.createElement(go.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...B},navigationType:"POP"}},nt):nt}function S1(){let a=O1(),e=p1(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:h},"ErrorBoundary")," or"," ",G.createElement("code",{style:h},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),i?G.createElement("pre",{style:o},i):null,d)}var b1=G.createElement(S1,null),R1=class extends G.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.unstable_onError?this.props.unstable_onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?G.createElement(ui.Provider,{value:this.props.routeContext},G.createElement(wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function w1({routeContext:a,match:e,children:i}){let s=G.useContext(xs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(ui.Provider,{value:a},i)}function C1(a,e=[],i=null,s=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let h=a,d=i?.errors;if(d!=null){let p=h.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);ae(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),h=h.slice(0,Math.min(h.length,p+1))}let g=!1,y=-1;if(i)for(let p=0;p<h.length;p++){let E=h[p];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=p),E.route.id){let{loaderData:S,errors:D}=i,B=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!D||D[E.route.id]===void 0);if(E.route.lazy||B){g=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((p,E,S)=>{let D,B=!1,Z=null,tt=null;i&&(D=d&&E.route.id?d[E.route.id]:void 0,Z=E.route.errorElement||b1,g&&(y<0&&S===0?(cv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,tt=null):y===S&&(B=!0,tt=E.route.hydrateFallbackElement||null)));let H=e.concat(h.slice(0,S+1)),nt=()=>{let et;return D?et=Z:B?et=tt:E.route.Component?et=G.createElement(E.route.Component,null):E.route.element?et=E.route.element:et=p,G.createElement(w1,{match:E,routeContext:{outlet:p,matches:H,isDataRoute:i!=null},children:et})};return i&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?G.createElement(R1,{location:i.location,revalidation:i.revalidation,component:Z,error:D,children:nt(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):nt()},null)}function Cd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D1(a){let e=G.useContext(xs);return ae(e,Cd(a)),e}function V1(a){let e=G.useContext(Ec);return ae(e,Cd(a)),e}function I1(a){let e=G.useContext(ui);return ae(e,Cd(a)),e}function Dd(a){let e=I1(a),i=e.matches[e.matches.length-1];return ae(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function N1(){return Dd("useRouteId")}function O1(){let a=G.useContext(wd),e=V1("useRouteError"),i=Dd("useRouteError");return a!==void 0?a:e.errors?.[i]}function M1(){let{router:a}=D1("useNavigate"),e=Dd("useNavigate"),i=G.useRef(!1);return sv(()=>{i.current=!0}),G.useCallback(async(o,h={})=>{si(i.current,av),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...h}))},[a,e])}var zy={};function cv(a,e,i){!e&&!zy[a]&&(zy[a]=!0,si(!1,i))}G.memo(x1);function x1({routes:a,future:e,state:i,unstable_onError:s}){return uv(a,void 0,i,s,e)}function Tr(a){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U1({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:h=!1}){ae(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:d,navigator:o,static:h,future:{}}),[d,o,h]);typeof i=="string"&&(i=Ms(i));let{pathname:y="/",search:p="",hash:E="",state:S=null,key:D="default"}=i,B=G.useMemo(()=>{let Z=xi(y,d);return Z==null?null:{location:{pathname:Z,search:p,hash:E,state:S,key:D},navigationType:s}},[d,y,p,E,S,D,s]);return si(B!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:G.createElement(oi.Provider,{value:g},G.createElement(go.Provider,{children:e,value:B}))}function L1({children:a,location:e}){return A1(nd(a),e)}function nd(a,e=[]){let i=[];return G.Children.forEach(a,(s,o)=>{if(!G.isValidElement(s))return;let h=[...e,o];if(s.type===G.Fragment){i.push.apply(i,nd(s.props.children,h));return}ae(s.type===Tr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=nd(s.props.children,h)),i.push(d)}),i}var Xu="get",$u="application/x-www-form-urlencoded";function Tc(a){return a!=null&&typeof a.tagName=="string"}function P1(a){return Tc(a)&&a.tagName.toLowerCase()==="button"}function z1(a){return Tc(a)&&a.tagName.toLowerCase()==="form"}function B1(a){return Tc(a)&&a.tagName.toLowerCase()==="input"}function k1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function j1(a,e){return a.button===0&&(!e||e==="_self")&&!k1(a)}var Hu=null;function q1(){if(Hu===null)try{new FormData(document.createElement("form"),0),Hu=!1}catch{Hu=!0}return Hu}var H1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ff(a){return a!=null&&!H1.has(a)?(si(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$u}"`),null):a}function G1(a,e){let i,s,o,h,d;if(z1(a)){let g=a.getAttribute("action");s=g?xi(g,e):null,i=a.getAttribute("method")||Xu,o=Ff(a.getAttribute("enctype"))||$u,h=new FormData(a)}else if(P1(a)||B1(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||g.getAttribute("action");if(s=y?xi(y,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Xu,o=Ff(a.getAttribute("formenctype"))||Ff(g.getAttribute("enctype"))||$u,h=new FormData(g,a),!q1()){let{name:p,type:E,value:S}=a;if(E==="image"){let D=p?`${p}.`:"";h.append(`${D}x`,"0"),h.append(`${D}y`,"0")}else p&&h.append(p,S)}}else{if(Tc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Xu,s=null,o=$u,d=a}return h&&o==="text/plain"&&(d=h,h=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vd(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function F1(a,e,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&xi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function Q1(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y1(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function K1(a,e,i){let s=await Promise.all(a.map(async o=>{let h=e.routes[o.route.id];if(h){let d=await Q1(h,i);return d.links?d.links():[]}return[]}));return J1(s.flat(1).filter(Y1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function By(a,e,i,s,o,h){let d=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return h==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):h==="data"?e.filter((y,p)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function X1(a,e,{includeHydrateFallback:i}={}){return $1(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let h=[o.module];return o.clientActionModule&&(h=h.concat(o.clientActionModule)),o.clientLoaderModule&&(h=h.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(h=h.concat(o.hydrateFallbackModule)),o.imports&&(h=h.concat(o.imports)),h}).flat(1))}function $1(a){return[...new Set(a)]}function Z1(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function J1(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let h=JSON.stringify(Z1(o));return i.has(h)||(i.add(h),s.push({key:h,link:o})),s},[])}function hv(){let a=G.useContext(xs);return Vd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function W1(){let a=G.useContext(Ec);return Vd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Id=G.createContext(void 0);Id.displayName="FrameworkContext";function fv(){let a=G.useContext(Id);return Vd(a,"You must render this element inside a <HydratedRouter> element"),a}function tA(a,e){let i=G.useContext(Id),[s,o]=G.useState(!1),[h,d]=G.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:S}=e,D=G.useRef(null);G.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let tt=nt=>{nt.forEach(et=>{d(et.isIntersecting)})},H=new IntersectionObserver(tt,{threshold:.5});return D.current&&H.observe(D.current),()=>{H.disconnect()}}},[a]),G.useEffect(()=>{if(s){let tt=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(tt)}}},[s]);let B=()=>{o(!0)},Z=()=>{o(!1),d(!1)};return i?a!=="intent"?[h,D,{}]:[h,D,{onFocus:Xl(g,B),onBlur:Xl(y,Z),onMouseEnter:Xl(p,B),onMouseLeave:Xl(E,Z),onTouchStart:Xl(S,B)}]:[!1,D,{}]}function Xl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function eA({page:a,...e}){let{router:i}=hv(),s=G.useMemo(()=>J_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?G.createElement(iA,{page:a,matches:s,...e}):null}function nA(a){let{manifest:e,routeModules:i}=fv(),[s,o]=G.useState([]);return G.useEffect(()=>{let h=!1;return K1(a,e,i).then(d=>{h||o(d)}),()=>{h=!0}},[a,e,i]),s}function iA({page:a,matches:e,...i}){let s=Aa(),{manifest:o,routeModules:h}=fv(),{basename:d}=hv(),{loaderData:g,matches:y}=W1(),p=G.useMemo(()=>By(a,e,y,o,s,"data"),[a,e,y,o,s]),E=G.useMemo(()=>By(a,e,y,o,s,"assets"),[a,e,y,o,s]),S=G.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let Z=new Set,tt=!1;if(e.forEach(nt=>{let et=o.routes[nt.route.id];!et||!et.hasLoader||(!p.some(at=>at.route.id===nt.route.id)&&nt.route.id in g&&h[nt.route.id]?.shouldRevalidate||et.hasClientLoader?tt=!0:Z.add(nt.route.id))}),Z.size===0)return[];let H=F1(a,d,"data");return tt&&Z.size>0&&H.searchParams.set("_routes",e.filter(nt=>Z.has(nt.route.id)).map(nt=>nt.route.id).join(",")),[H.pathname+H.search]},[d,g,s,o,p,e,a,h]),D=G.useMemo(()=>X1(E,o),[E,o]),B=nA(E);return G.createElement(G.Fragment,null,S.map(Z=>G.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...i})),D.map(Z=>G.createElement("link",{key:Z,rel:"modulepreload",href:Z,...i})),B.map(({key:Z,link:tt})=>G.createElement("link",{key:Z,nonce:i.nonce,...tt})))}function rA(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dv&&(window.__reactRouterVersion="7.9.4")}catch{}function aA({basename:a,children:e,window:i}){let s=G.useRef();s.current==null&&(s.current=YT({window:i,v5Compat:!0}));let o=s.current,[h,d]=G.useState({action:o.action,location:o.location}),g=G.useCallback(y=>{G.startTransition(()=>d(y))},[d]);return G.useLayoutEffect(()=>o.listen(g),[o,g]),G.createElement(U1,{basename:a,children:e,location:h.location,navigationType:h.action,navigator:o})}var mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,va=G.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:h,replace:d,state:g,target:y,to:p,preventScrollReset:E,viewTransition:S,...D},B){let{basename:Z}=G.useContext(oi),tt=typeof p=="string"&&mv.test(p),H,nt=!1;if(typeof p=="string"&&tt&&(H=p,dv))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),I=xi(M.pathname,Z);M.origin===R.origin&&I!=null?p=I+M.search+M.hash:nt=!0}catch{si(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=E1(p,{relative:o}),[at,Rt,ht]=tA(s,D),Dt=uA(p,{replace:d,state:g,target:y,preventScrollReset:E,relative:o,viewTransition:S});function N(R){e&&e(R),R.defaultPrevented||Dt(R)}let b=G.createElement("a",{...D,...ht,href:H||et,onClick:nt||h?e:N,ref:rA(B,Rt),target:y,"data-discover":!tt&&i==="render"?"true":void 0});return at&&!tt?G.createElement(G.Fragment,null,b,G.createElement(eA,{page:et})):b});va.displayName="Link";var sA=G.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:h,to:d,viewTransition:g,children:y,...p},E){let S=yo(d,{relative:p.relative}),D=Aa(),B=G.useContext(Ec),{navigator:Z,basename:tt}=G.useContext(oi),H=B!=null&&mA(S)&&g===!0,nt=Z.encodeLocation?Z.encodeLocation(S).pathname:S.pathname,et=D.pathname,at=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;i||(et=et.toLowerCase(),at=at?at.toLowerCase():null,nt=nt.toLowerCase()),at&&tt&&(at=xi(at,tt)||at);const Rt=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let ht=et===nt||!o&&et.startsWith(nt)&&et.charAt(Rt)==="/",Dt=at!=null&&(at===nt||!o&&at.startsWith(nt)&&at.charAt(nt.length)==="/"),N={isActive:ht,isPending:Dt,isTransitioning:H},b=ht?e:void 0,R;typeof s=="function"?R=s(N):R=[s,ht?"active":null,Dt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let M=typeof h=="function"?h(N):h;return G.createElement(va,{...p,"aria-current":b,className:R,ref:E,style:M,to:d,viewTransition:g},typeof y=="function"?y(N):y)});sA.displayName="NavLink";var lA=G.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:h,method:d=Xu,action:g,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:S,...D},B)=>{let Z=fA(),tt=dA(g,{relative:p}),H=d.toLowerCase()==="get"?"get":"post",nt=typeof g=="string"&&mv.test(g),et=at=>{if(y&&y(at),at.defaultPrevented)return;at.preventDefault();let Rt=at.nativeEvent.submitter,ht=Rt?.getAttribute("formmethod")||d;Z(Rt||at.currentTarget,{fetcherKey:e,method:ht,navigate:i,replace:o,state:h,relative:p,preventScrollReset:E,viewTransition:S})};return G.createElement("form",{ref:B,method:H,action:tt,onSubmit:s?y:et,...D,"data-discover":!nt&&a==="render"?"true":void 0})});lA.displayName="Form";function oA(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gv(a){let e=G.useContext(xs);return ae(e,oA(a)),e}function uA(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:h,viewTransition:d}={}){let g=lv(),y=Aa(),p=yo(a,{relative:h});return G.useCallback(E=>{if(j1(E,e)){E.preventDefault();let S=i!==void 0?i:ao(y)===ao(p);g(a,{replace:S,state:s,preventScrollReset:o,relative:h,viewTransition:d})}},[y,g,p,i,s,e,a,o,h,d])}var cA=0,hA=()=>`__${String(++cA)}__`;function fA(){let{router:a}=gv("useSubmit"),{basename:e}=G.useContext(oi),i=N1();return G.useCallback(async(s,o={})=>{let{action:h,method:d,encType:g,formData:y,body:p}=G1(s,e);if(o.navigate===!1){let E=o.fetcherKey||hA();await a.fetch(E,i,o.action||h,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||h,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function dA(a,{relative:e}={}){let{basename:i}=G.useContext(oi),s=G.useContext(ui);ae(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),h={...yo(a||".",{relative:e})},d=Aa();if(a==null){h.search=d.search;let g=new URLSearchParams(h.search),y=g.getAll("index");if(y.some(E=>E==="")){g.delete("index"),y.filter(S=>S).forEach(S=>g.append("index",S));let E=g.toString();h.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:Ni([i,h.pathname])),ao(h)}function mA(a,{relative:e}={}){let i=G.useContext(rv);ae(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gv("useViewTransitionState"),o=yo(a,{relative:e});if(!i.isTransitioning)return!1;let h=xi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=xi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return ic(o.pathname,d)!=null||ic(o.pathname,h)!=null}function gA(){return W.jsx("div",{className:"icono_div",children:W.jsx("i",{className:"bi bi-cart2"})})}function pA(){return W.jsxs("div",{className:"contenedor",children:[W.jsxs("div",{className:"contenedor_barra-principal",children:[W.jsxs("div",{className:"buscador",children:[W.jsx("h1",{className:"titulo",children:"TechZone"}),W.jsx("input",{type:"text",placeholder:"Buscar productos"}),W.jsx("button",{className:"boton",children:W.jsx("i",{className:"bi bi-search"})})]}),W.jsxs("nav",{className:"navegacion",children:[W.jsx(va,{to:"/",children:"Inicio"}),W.jsxs("a",{href:"",children:[W.jsx("i",{className:"bi bi-bag-fill"})," Productos"]}),W.jsxs("a",{href:"",children:[W.jsx("i",{className:"bi bi-person-fill"})," Contacto"]}),W.jsx(va,{to:"/cart",children:W.jsx(gA,{})})]})]}),W.jsx("div",{className:"contenedor_barra-secundario",children:W.jsxs("nav",{className:"navegacion",children:[W.jsxs("a",{href:"",children:[W.jsx("i",{className:"bi bi-chevron-down"})," CATEGORIAS"]}),W.jsx("a",{href:"",children:"Pc de escritorio"}),W.jsx("a",{href:"",children:"Notebooks"}),W.jsx("a",{href:"",children:"Monitores"}),W.jsx("a",{href:"",children:"Microprocesadores"})]})})]})}const yA=()=>{};var ky={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},_A=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,y=o+2<a.length,p=y?a[o+2]:0,E=h>>2,S=(h&3)<<4|g>>4;let D=(g&15)<<2|p>>6,B=p&63;y||(B=64,d||(D=64)),s.push(i[E],i[S],i[D],i[B])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(pv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):_A(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||p==null||S==null)throw new vA;const D=h<<2|g>>4;if(s.push(D),p!==64){const B=g<<4&240|p>>2;if(s.push(B),S!==64){const Z=p<<6&192|S;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class vA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EA=function(a){const e=pv(a);return yv.encodeByteArray(e,!0)},rc=function(a){return EA(a).replace(/\./g,"")},TA=function(a){try{return yv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=()=>AA().__FIREBASE_DEFAULTS__,bA=()=>{if(typeof process>"u"||typeof ky>"u")return;const a=ky.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},RA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&TA(a[1]);return e&&JSON.parse(e)},Nd=()=>{try{return yA()||SA()||bA()||RA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},wA=a=>Nd()?.emulatorHosts?.[a],CA=a=>{const e=wA(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},_v=()=>Nd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VA(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[rc(JSON.stringify(i)),rc(JSON.stringify(d)),""].join(".")}const to={};function NA(){const a={prod:[],emulator:[]};for(const e of Object.keys(to))to[e]?a.emulator.push(e):a.prod.push(e);return a}function OA(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let jy=!1;function MA(a,e){if(typeof window>"u"||typeof document>"u"||!Od(window.location.host)||to[a]===e||to[a]||jy)return;to[a]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=NA().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,B){D.setAttribute("width","24"),D.setAttribute("id",B),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function p(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{jy=!0,d()},D}function E(D,B){D.setAttribute("id",B),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=OA(s),B=i("text"),Z=document.getElementById(B)||document.createElement("span"),tt=i("learnmore"),H=document.getElementById(tt)||document.createElement("a"),nt=i("preprendIcon"),et=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const at=D.element;g(at),E(H,tt);const Rt=p();y(et,nt),at.append(et,Z,H,Rt),document.body.appendChild(at)}h?(Z.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){const a=Nd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LA(){return!UA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PA(){try{return typeof indexedDB=="object"}catch{return!1}}function zA(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="FirebaseError";class Us extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=BA,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vv.prototype.create)}}class vv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?kA(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Us(o,g,s)}}function kA(a,e){return a.replace(jA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jA=/\{\$([^}]+)}/g;function ac(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(qy(h)&&qy(d)){if(!ac(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function qy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(a){return a&&a._delegate?a._delegate:a}class so{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new DA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GA(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HA(a){return a===pa?void 0:a}function GA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new qA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const QA={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},YA=Lt.INFO,KA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},XA=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=KA[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ev{constructor(e){this.name=e,this._logLevel=YA,this._logHandler=XA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const $A=(a,e)=>e.some(i=>a instanceof i);let Hy,Gy;function ZA(){return Hy||(Hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JA(){return Gy||(Gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tv=new WeakMap,id=new WeakMap,Av=new WeakMap,Qf=new WeakMap,Md=new WeakMap;function WA(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Sr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Tv.set(i,a)}).catch(()=>{}),Md.set(e,a),e}function tS(a){if(id.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});id.set(a,e)}let rd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return id.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Av.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function eS(a){rd=a(rd)}function nS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Yf(this),e,...i);return Av.set(s,e.sort?e.sort():[e]),Sr(s)}:JA().includes(a)?function(...e){return a.apply(Yf(this),e),Sr(Tv.get(this))}:function(...e){return Sr(a.apply(Yf(this),e))}}function iS(a){return typeof a=="function"?nS(a):(a instanceof IDBTransaction&&tS(a),$A(a,ZA())?new Proxy(a,rd):a)}function Sr(a){if(a instanceof IDBRequest)return WA(a);if(Qf.has(a))return Qf.get(a);const e=iS(a);return e!==a&&(Qf.set(a,e),Md.set(e,a)),e}const Yf=a=>Md.get(a);function rS(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=Sr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Sr(d.result),y.oldVersion,y.newVersion,Sr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const aS=["get","getKey","getAll","getAllKeys","count"],sS=["put","add","delete","clear"],Kf=new Map;function Fy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Kf.get(e))return Kf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=sS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aS.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return Kf.set(e,h),h}eS(a=>({...a,get:(e,i,s)=>Fy(e,i)||a.get(e,i,s),has:(e,i)=>!!Fy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(oS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function oS(a){return a.getComponent()?.type==="VERSION"}const ad="@firebase/app",Qy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Ev("@firebase/app"),uS="@firebase/app-compat",cS="@firebase/analytics-compat",hS="@firebase/analytics",fS="@firebase/app-check-compat",dS="@firebase/app-check",mS="@firebase/auth",gS="@firebase/auth-compat",pS="@firebase/database",yS="@firebase/data-connect",_S="@firebase/database-compat",vS="@firebase/functions",ES="@firebase/functions-compat",TS="@firebase/installations",AS="@firebase/installations-compat",SS="@firebase/messaging",bS="@firebase/messaging-compat",RS="@firebase/performance",wS="@firebase/performance-compat",CS="@firebase/remote-config",DS="@firebase/remote-config-compat",VS="@firebase/storage",IS="@firebase/storage-compat",NS="@firebase/firestore",OS="@firebase/ai",MS="@firebase/firestore-compat",xS="firebase",US="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="[DEFAULT]",LS={[ad]:"fire-core",[uS]:"fire-core-compat",[hS]:"fire-analytics",[cS]:"fire-analytics-compat",[dS]:"fire-app-check",[fS]:"fire-app-check-compat",[mS]:"fire-auth",[gS]:"fire-auth-compat",[pS]:"fire-rtdb",[yS]:"fire-data-connect",[_S]:"fire-rtdb-compat",[vS]:"fire-fn",[ES]:"fire-fn-compat",[TS]:"fire-iid",[AS]:"fire-iid-compat",[SS]:"fire-fcm",[bS]:"fire-fcm-compat",[RS]:"fire-perf",[wS]:"fire-perf-compat",[CS]:"fire-rc",[DS]:"fire-rc-compat",[VS]:"fire-gcs",[IS]:"fire-gcs-compat",[NS]:"fire-fst",[MS]:"fire-fst-compat",[OS]:"fire-vertex","fire-js":"fire-js",[xS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,PS=new Map,ld=new Map;function Yy(a,e){try{a.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function lc(a){const e=a.name;if(ld.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;ld.set(e,a);for(const i of sc.values())Yy(i,a);for(const i of PS.values())Yy(i,a);return!0}function zS(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function BS(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new vv("app","Firebase",kS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=US;function Sv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:sd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw br.create("bad-app-name",{appName:String(o)});if(i||(i=_v()),!i)throw br.create("no-options");const h=sc.get(o);if(h){if(ac(i,h.options)&&ac(s,h.config))return h;throw br.create("duplicate-app",{appName:o})}const d=new FA(o);for(const y of ld.values())d.addComponent(y);const g=new jS(i,s,d);return sc.set(o,g),g}function HS(a=sd){const e=sc.get(a);if(!e&&a===sd&&_v())return Sv();if(!e)throw br.create("no-app",{appName:a});return e}function As(a,e,i){let s=LS[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}lc(new so(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="firebase-heartbeat-database",FS=1,lo="firebase-heartbeat-store";let Xf=null;function bv(){return Xf||(Xf=rS(GS,FS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(lo)}catch(i){console.warn(i)}}}}).catch(a=>{throw br.create("idb-open",{originalErrorMessage:a.message})})),Xf}async function QS(a){try{const i=(await bv()).transaction(lo),s=await i.objectStore(lo).get(Rv(a));return await i.done,s}catch(e){if(e instanceof Us)Ui.warn(e.message);else{const i=br.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(i.message)}}}async function Ky(a,e){try{const s=(await bv()).transaction(lo,"readwrite");await s.objectStore(lo).put(e,Rv(a)),await s.done}catch(i){if(i instanceof Us)Ui.warn(i.message);else{const s=br.create("idb-set",{originalErrorMessage:i?.message});Ui.warn(s.message)}}}function Rv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=1024,KS=30;class XS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ZS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Xy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>KS){const o=JS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xy(),{heartbeatsToSend:i,unsentEntries:s}=$S(this._heartbeatsCache.heartbeats),o=rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ui.warn(e),""}}}function Xy(){return new Date().toISOString().substring(0,10)}function $S(a,e=YS){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),$y(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),$y(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class ZS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PA()?zA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await QS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $y(a){return rc(JSON.stringify({version:2,heartbeats:a})).length}function JS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(a){lc(new so("platform-logger",e=>new lS(e),"PRIVATE")),lc(new so("heartbeat",e=>new XS(e),"PRIVATE")),As(ad,Qy,a),As(ad,Qy,"esm2020"),As("fire-js","")}WS("");var Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,wv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,b){function R(){}R.prototype=b.prototype,N.F=b.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(M,I,U){for(var C=Array(arguments.length-2),le=2;le<arguments.length;le++)C[le-2]=arguments[le];return b.prototype[I].apply(M,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var I=0;I<16;++I)M[I]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(I=0;I<16;++I)M[I]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=N.g[0],R=N.g[1],I=N.g[2];let U=N.g[3],C;C=b+(U^R&(I^U))+M[0]+3614090360&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(I^b&(R^I))+M[1]+3905402710&4294967295,U=b+(C<<12&4294967295|C>>>20),C=I+(R^U&(b^R))+M[2]+606105819&4294967295,I=U+(C<<17&4294967295|C>>>15),C=R+(b^I&(U^b))+M[3]+3250441966&4294967295,R=I+(C<<22&4294967295|C>>>10),C=b+(U^R&(I^U))+M[4]+4118548399&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(I^b&(R^I))+M[5]+1200080426&4294967295,U=b+(C<<12&4294967295|C>>>20),C=I+(R^U&(b^R))+M[6]+2821735955&4294967295,I=U+(C<<17&4294967295|C>>>15),C=R+(b^I&(U^b))+M[7]+4249261313&4294967295,R=I+(C<<22&4294967295|C>>>10),C=b+(U^R&(I^U))+M[8]+1770035416&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(I^b&(R^I))+M[9]+2336552879&4294967295,U=b+(C<<12&4294967295|C>>>20),C=I+(R^U&(b^R))+M[10]+4294925233&4294967295,I=U+(C<<17&4294967295|C>>>15),C=R+(b^I&(U^b))+M[11]+2304563134&4294967295,R=I+(C<<22&4294967295|C>>>10),C=b+(U^R&(I^U))+M[12]+1804603682&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(I^b&(R^I))+M[13]+4254626195&4294967295,U=b+(C<<12&4294967295|C>>>20),C=I+(R^U&(b^R))+M[14]+2792965006&4294967295,I=U+(C<<17&4294967295|C>>>15),C=R+(b^I&(U^b))+M[15]+1236535329&4294967295,R=I+(C<<22&4294967295|C>>>10),C=b+(I^U&(R^I))+M[1]+4129170786&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^I&(b^R))+M[6]+3225465664&4294967295,U=b+(C<<9&4294967295|C>>>23),C=I+(b^R&(U^b))+M[11]+643717713&4294967295,I=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(I^U))+M[0]+3921069994&4294967295,R=I+(C<<20&4294967295|C>>>12),C=b+(I^U&(R^I))+M[5]+3593408605&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^I&(b^R))+M[10]+38016083&4294967295,U=b+(C<<9&4294967295|C>>>23),C=I+(b^R&(U^b))+M[15]+3634488961&4294967295,I=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(I^U))+M[4]+3889429448&4294967295,R=I+(C<<20&4294967295|C>>>12),C=b+(I^U&(R^I))+M[9]+568446438&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^I&(b^R))+M[14]+3275163606&4294967295,U=b+(C<<9&4294967295|C>>>23),C=I+(b^R&(U^b))+M[3]+4107603335&4294967295,I=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(I^U))+M[8]+1163531501&4294967295,R=I+(C<<20&4294967295|C>>>12),C=b+(I^U&(R^I))+M[13]+2850285829&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^I&(b^R))+M[2]+4243563512&4294967295,U=b+(C<<9&4294967295|C>>>23),C=I+(b^R&(U^b))+M[7]+1735328473&4294967295,I=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(I^U))+M[12]+2368359562&4294967295,R=I+(C<<20&4294967295|C>>>12),C=b+(R^I^U)+M[5]+4294588738&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^I)+M[8]+2272392833&4294967295,U=b+(C<<11&4294967295|C>>>21),C=I+(U^b^R)+M[11]+1839030562&4294967295,I=U+(C<<16&4294967295|C>>>16),C=R+(I^U^b)+M[14]+4259657740&4294967295,R=I+(C<<23&4294967295|C>>>9),C=b+(R^I^U)+M[1]+2763975236&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^I)+M[4]+1272893353&4294967295,U=b+(C<<11&4294967295|C>>>21),C=I+(U^b^R)+M[7]+4139469664&4294967295,I=U+(C<<16&4294967295|C>>>16),C=R+(I^U^b)+M[10]+3200236656&4294967295,R=I+(C<<23&4294967295|C>>>9),C=b+(R^I^U)+M[13]+681279174&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^I)+M[0]+3936430074&4294967295,U=b+(C<<11&4294967295|C>>>21),C=I+(U^b^R)+M[3]+3572445317&4294967295,I=U+(C<<16&4294967295|C>>>16),C=R+(I^U^b)+M[6]+76029189&4294967295,R=I+(C<<23&4294967295|C>>>9),C=b+(R^I^U)+M[9]+3654602809&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^I)+M[12]+3873151461&4294967295,U=b+(C<<11&4294967295|C>>>21),C=I+(U^b^R)+M[15]+530742520&4294967295,I=U+(C<<16&4294967295|C>>>16),C=R+(I^U^b)+M[2]+3299628645&4294967295,R=I+(C<<23&4294967295|C>>>9),C=b+(I^(R|~U))+M[0]+4096336452&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~I))+M[7]+1126891415&4294967295,U=b+(C<<10&4294967295|C>>>22),C=I+(b^(U|~R))+M[14]+2878612391&4294967295,I=U+(C<<15&4294967295|C>>>17),C=R+(U^(I|~b))+M[5]+4237533241&4294967295,R=I+(C<<21&4294967295|C>>>11),C=b+(I^(R|~U))+M[12]+1700485571&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~I))+M[3]+2399980690&4294967295,U=b+(C<<10&4294967295|C>>>22),C=I+(b^(U|~R))+M[10]+4293915773&4294967295,I=U+(C<<15&4294967295|C>>>17),C=R+(U^(I|~b))+M[1]+2240044497&4294967295,R=I+(C<<21&4294967295|C>>>11),C=b+(I^(R|~U))+M[8]+1873313359&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~I))+M[15]+4264355552&4294967295,U=b+(C<<10&4294967295|C>>>22),C=I+(b^(U|~R))+M[6]+2734768916&4294967295,I=U+(C<<15&4294967295|C>>>17),C=R+(U^(I|~b))+M[13]+1309151649&4294967295,R=I+(C<<21&4294967295|C>>>11),C=b+(I^(R|~U))+M[4]+4149444226&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~I))+M[11]+3174756917&4294967295,U=b+(C<<10&4294967295|C>>>22),C=I+(b^(U|~R))+M[2]+718787259&4294967295,I=U+(C<<15&4294967295|C>>>17),C=R+(U^(I|~b))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.v=function(N,b){b===void 0&&(b=N.length);const R=b-this.blockSize,M=this.C;let I=this.h,U=0;for(;U<b;){if(I==0)for(;U<=R;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<b;)if(M[I++]=N.charCodeAt(U++),I==this.blockSize){o(this,M),I=0;break}}else for(;U<b;)if(M[I++]=N[U++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=b},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)N[b++]=this.g[R]>>>M&255;return N};function h(N,b){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=b(N)}function d(N,b){this.h=b;const R=[];let M=!0;for(let I=N.length-1;I>=0;I--){const U=N[I]|0;M&&U==b||(R[I]=U,M=!1)}this.g=R}var g={};function y(N){return-128<=N&&N<128?h(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return H(p(-N));const b=[];let R=1;for(let M=0;N>=R;M++)b[M]=N/R|0,R*=4294967296;return new d(b,0)}function E(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return H(E(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(b,8));let M=S;for(let U=0;U<N.length;U+=8){var I=Math.min(8,N.length-U);const C=parseInt(N.substring(U,U+I),b);I<8?(I=p(Math.pow(b,I)),M=M.j(I).add(p(C))):(M=M.j(R),M=M.add(p(C)))}return M}var S=y(0),D=y(1),B=y(16777216);a=d.prototype,a.m=function(){if(tt(this))return-H(this).m();let N=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);N+=(M>=0?M:4294967296+M)*b,b*=4294967296}return N},a.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(tt(this))return"-"+H(this).toString(N);const b=p(Math.pow(N,6));var R=this;let M="";for(;;){const I=Rt(R,b).g;R=nt(R,I.j(b));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=I,Z(R))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},a.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function tt(N){return N.h==-1}a.l=function(N){return N=nt(this,N),tt(N)?-1:Z(N)?0:1};function H(N){const b=N.g.length,R=[];for(let M=0;M<b;M++)R[M]=~N.g[M];return new d(R,~N.h).add(D)}a.abs=function(){return tt(this)?H(this):this},a.add=function(N){const b=Math.max(this.g.length,N.g.length),R=[];let M=0;for(let I=0;I<=b;I++){let U=M+(this.i(I)&65535)+(N.i(I)&65535),C=(U>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);M=C>>>16,U&=65535,C&=65535,R[I]=C<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function nt(N,b){return N.add(H(b))}a.j=function(N){if(Z(this)||Z(N))return S;if(tt(this))return tt(N)?H(this).j(H(N)):H(H(this).j(N));if(tt(N))return H(this.j(H(N)));if(this.l(B)<0&&N.l(B)<0)return p(this.m()*N.m());const b=this.g.length+N.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<N.g.length;I++){const U=this.i(M)>>>16,C=this.i(M)&65535,le=N.i(I)>>>16,ee=N.i(I)&65535;R[2*M+2*I]+=C*ee,et(R,2*M+2*I),R[2*M+2*I+1]+=U*ee,et(R,2*M+2*I+1),R[2*M+2*I+1]+=C*le,et(R,2*M+2*I+1),R[2*M+2*I+2]+=U*le,et(R,2*M+2*I+2)}for(N=0;N<b;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=b;N<2*b;N++)R[N]=0;return new d(R,0)};function et(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function at(N,b){this.g=N,this.h=b}function Rt(N,b){if(Z(b))throw Error("division by zero");if(Z(N))return new at(S,S);if(tt(N))return b=Rt(H(N),b),new at(H(b.g),H(b.h));if(tt(b))return b=Rt(N,H(b)),new at(H(b.g),b.h);if(N.g.length>30){if(tt(N)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var R=D,M=b;M.l(N)<=0;)R=ht(R),M=ht(M);var I=Dt(R,1),U=Dt(M,1);for(M=Dt(M,2),R=Dt(R,2);!Z(M);){var C=U.add(M);C.l(N)<=0&&(I=I.add(R),U=C),M=Dt(M,1),R=Dt(R,1)}return b=nt(N,I.j(b)),new at(I,b)}for(I=S;N.l(b)>=0;){for(R=Math.max(1,Math.floor(N.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=p(R),C=U.j(b);tt(C)||C.l(N)>0;)R-=M,U=p(R),C=U.j(b);Z(U)&&(U=D),I=I.add(U),N=nt(N,C)}return new at(I,N)}a.B=function(N){return Rt(this,N).h},a.and=function(N){const b=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&N.i(M);return new d(R,this.h&N.h)},a.or=function(N){const b=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|N.i(M);return new d(R,this.h|N.h)},a.xor=function(N){const b=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^N.i(M);return new d(R,this.h^N.h)};function ht(N){const b=N.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(R,N.h)}function Dt(N,b){const R=b>>5;b%=32;const M=N.g.length-R,I=[];for(let U=0;U<M;U++)I[U]=b>0?N.i(U+R)>>>b|N.i(U+R+1)<<32-b:N.i(U+R);return new d(I,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,wv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,Rr=d}).apply(typeof Zy<"u"?Zy:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cv,$l,Dv,Zu,od,Vv,Iv,Nv;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in _))break t;_=_[P]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&_.push([A,m[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function p(u,m,_){return p=y,p.apply(null,arguments)}function E(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(A,P,q){for(var it=Array(arguments.length-2),At=2;At<arguments.length;At++)it[At-2]=arguments[At];return m.prototype[P].apply(A,it)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function Z(u,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=u.length||0;const q=P.length||0;u.length=_+q;for(let it=0;it<q;it++)u[_+it]=P[it]}else u.push(P)}}class tt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(u){d.setTimeout(()=>{throw u},0)}function nt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class et{constructor(){this.h=this.g=null}add(m,_){const A=at.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var at=new tt(()=>new Rt,u=>u.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,Dt=!1,N=new et,b=()=>{const u=Promise.resolve(void 0);ht=()=>{u.then(R)}};function R(){for(var u;u=nt();){try{u.h.call(u.g)}catch(_){H(_)}var m=at;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Dt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function le(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(le,I),le.prototype.init=function(u,m){const _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),F=0;function st(u,m,_,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=P,this.key=++F,this.da=this.fa=!1}function gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function V(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function J(u){const m={};for(const _ in u)m[_]=u[_];return m}const lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(u,m){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)u[_]=A[_];for(let q=0;q<lt.length;q++)_=lt[q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function dt(u){this.src=u,this.g={},this.h=0}dt.prototype.add=function(u,m,_,A,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=vt(u,m,A,P);return it>-1?(m=u[it],_||(m.fa=!1)):(m=new st(m,this.src,q,!!A,P),m.fa=_,u.push(m)),m};function Nt(u,m){const _=m.type;if(_ in u.g){var A=u.g[_],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(A,P,1),q&&(gt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function vt(u,m,_,A){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==A)return P}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),Gt={};function Dn(u,m,_,A,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Dn(u,m[q],_,A,P);return null}return _=bo(_),u&&u[ee]?u.J(m,_,g(A)?!!A.capture:!1,P):js(u,m,_,!1,A,P)}function js(u,m,_,A,P,q){if(!m)throw Error("Invalid event type");const it=g(P)?!!P.capture:!!P;let At=qs(u);if(At||(u[xe]=At=new dt(u)),_=At.add(m,_,A,it,q),_.proxy)return _;if(A=Ca(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)U||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(Va(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ca(){function u(_){return m.call(u.src,u.listener,_)}const m=zc;return u}function Da(u,m,_,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Da(u,m[q],_,A,P);else A=g(A)?!!A.capture:!!A,_=bo(_),u&&u[ee]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],_=vt(m,_,A,P),_>-1&&(gt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=qs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vt(m,_,A,P)),(_=u>-1?m[u]:null)&&Mr(_))}function Mr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ee])Nt(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Va(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=qs(m))?(Nt(_,u),_.h==0&&(_.src=null,m[xe]=null)):gt(u)}}}function Va(u){return u in Gt?Gt[u]:Gt[u]="on"+u}function zc(u,m){if(u.da)u=!0;else{m=new le(m,this);const _=u.listener,A=u.ha||u.src;u.fa&&Mr(u),u=_.call(A,m)}return u}function qs(u){return u=u[xe],u instanceof dt?u:null}var tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function bo(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function Ae(){M.call(this),this.i=new dt(this),this.M=this,this.G=null}S(Ae,M),Ae.prototype[ee]=!0,Ae.prototype.removeEventListener=function(u,m,_,A){Da(this,u,m,_,A)};function De(u,m){var _,A=u.G;if(A)for(_=[];A;A=A.G)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var P=m;m=new I(A,u),rt(m,P)}P=!0;let q,it;if(_)for(it=_.length-1;it>=0;it--)q=m.g=_[it],P=ci(q,A,!0,m)&&P;if(q=m.g=u,P=ci(q,A,!0,m)&&P,P=ci(q,A,!1,m)&&P,_)for(it=0;it<_.length;it++)q=m.g=_[it],P=ci(q,A,!1,m)&&P}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let A=0;A<_.length;A++)gt(_[A]);delete u.g[m],u.h--}}this.G=null},Ae.prototype.J=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},Ae.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function ci(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==_){const At=it.listener,Wt=it.ha||it.src;it.fa&&Nt(u.i,it),P=At.call(Wt,A)!==!1&&P}}return P&&!A.defaultPrevented}function Bc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Hs(u){u.g=Bc(()=>{u.g=null,u.i&&(u.i=!1,Hs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class kc extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(u){M.call(this),this.h=u,this.g={}}S(xr,M);var zi=[];function qe(u){Pt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Mr(m)},u),u.g={}}xr.prototype.N=function(){xr.Z.N.call(this),qe(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=d.JSON.stringify,Xe=d.JSON.parse,jc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ro(){}function wo(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bi(){I.call(this,"d")}S(Bi,I);function Vn(){I.call(this,"c")}S(Vn,I);var gn={},ki=null;function Ia(){return ki=ki||new Ae}gn.Ia="serverreachability";function Gs(u){I.call(this,gn.Ia,u)}S(Gs,I);function ji(u){const m=Ia();De(m,new Gs(m))}gn.STAT_EVENT="statevent";function Na(u,m){I.call(this,gn.STAT_EVENT,u),this.stat=m}S(Na,I);function ce(u){const m=Ia();De(m,new Na(m,u))}gn.Ja="timingevent";function Co(u,m){I.call(this,gn.Ja,u),this.size=m}S(Co,I);function qi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hi(){this.g=!0}Hi.prototype.ua=function(){this.g=!1};function Fs(u,m,_,A,P,q){u.info(function(){if(u.g)if(q){var it="",At=q.split("&");for(let jt=0;jt<At.length;jt++){var Wt=At[jt].split("=");if(Wt.length>1){const de=Wt[0];Wt=Wt[1];const sn=de.split("_");it=sn.length>=2&&sn[1]=="type"?it+(de+"="+Wt+"&"):it+(de+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+_+`
`+it})}function Qs(u,m,_,A,P,q,it){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+_+`
`+q+" "+it})}function hi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qn(u,_)+(A?" "+A:"")})}function qc(u,m){u.info(function(){return"TIMEOUT: "+m})}Hi.prototype.info=function(){};function qn(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let it=1;it<A.length;it++)A[it]=""}}}}return mn(q)}catch{return m}}var he={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ue={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fi;function Ur(){}S(Ur,Ro),Ur.prototype.g=function(){return new XMLHttpRequest},fi=new Ur;function Lr(u){return encodeURIComponent(String(u))}function Hc(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function In(u,m,_,A){this.j=u,this.i=m,this.l=_,this.S=A||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gi}function Gi(){this.i=null,this.g="",this.h=!1}var Oa={},Hn={};function Gn(u,m,_){u.M=1,u.A=mi(ie(m)),u.u=_,u.R=!0,Fi(u,null)}function Fi(u,m){u.F=Date.now(),Pr(u),u.B=ie(u.A);var _=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),No(_.i,"t",A),u.C=0,_=u.j.L,u.h=new Gi,u.g=qa(u.j,_?m:null,!u.u),u.P>0&&(u.O=new kc(p(u.Y,u,u.g),u.P)),m=u.V,_=u.g,A=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(zi[0]=P.toString()),P=zi);for(let q=0;q<P.length;q++){const it=Dn(_,P[q],A||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?J(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ji(),Fs(u.i,u.v,u.B,u.l,u.S,u.u)}In.prototype.ba=function(u){u=u.target;const m=this.O;m&&He(u)==3?m.j():this.Y(u)},In.prototype.Y=function(u){try{if(u==this.g)t:{const At=He(this.g),Wt=this.g.ya(),jt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Kr(this.g)))){this.K||At!=4||Wt==7||(Wt==8||jt<=0?ji(3):ji(2)),Qn(this);var m=this.g.ca();this.X=m;var _=Qi(this);if(this.o=m==200,Qs(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var q=A;break e}}q=null}if(u=q)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ma(this,u);else{this.o=!1,this.m=3,ce(12),Yn(this),zr(this);break t}}if(this.R){u=!0;let de;for(;!this.K&&this.C<_.length;)if(de=Do(this,_),de==Hn){At==4&&(this.m=4,ce(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Oa){this.m=4,ce(15),hi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,de,null),Ma(this,de);if(fe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,ce(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,_,"[Invalid Chunked Response]"),Yn(this),zr(this);else if(_.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),nl(it),it.P=!0,ce(11))}}else hi(this.i,this.l,_,null),Ma(this,_);At==4&&Yn(this),this.o&&!this.K&&(At==4?il(this.j,this):(this.o=!1,Pr(this)))}else Xr(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ce(12)):(this.m=0,ce(13)),Yn(this),zr(this)}}}catch{}finally{}};function Qi(u){if(!fe(u))return u.g.la();const m=Kr(u.g);if(m==="")return"";let _="";const A=m.length,P=He(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Yn(u),zr(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,_+=u.h.i.decode(m[q],{stream:!(P&&q==A-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function fe(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Do(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Hn:(_=Number(m.substring(_,A)),isNaN(_)?Oa:(A+=1,A+_>m.length?Hn:(m=m.slice(A,A+_),u.C=A+_,m)))}In.prototype.cancel=function(){this.K=!0,Yn(this)};function Pr(u){u.T=Date.now()+u.H,Fn(u,u.H)}function Fn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=qi(p(u.aa,u),m)}function Qn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}In.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(qc(this.i,this.B),this.M!=2&&(ji(),ce(17)),Yn(this),this.m=2,zr(this)):Fn(this,this.T-u)};function zr(u){u.j.I==0||u.K||il(u.j,u)}function Yn(u){Qn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,qe(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ma(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||jr(_.h,u))){if(!u.L&&jr(_.h,u)&&_.I==3){try{var A=_.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ja(_),Kn(_);else break t;el(_),ce(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=qi(p(_.Va,_),6e3));pn(_.h)<=1&&_.ta&&(_.ta=void 0)}else yi(_,11)}else if((u.L||_.g==u)&&ja(_),!C(m))for(P=_.Ba.g.parse(m),m=0;m<P.length;m++){let jt=P[m];const de=jt[0];if(!(de<=_.K))if(_.K=de,jt=jt[1],_.I==2)if(jt[0]=="c"){_.M=jt[1],_.ba=jt[2];const sn=jt[3];sn!=null&&(_.ka=sn,_.j.info("VER="+_.ka));const Xn=jt[4];Xn!=null&&(_.za=Xn,_.j.info("SVER="+_.za));const Mn=jt[5];Mn!=null&&typeof Mn=="number"&&Mn>0&&(A=1.5*Mn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const xn=u.g;if(xn){const Un=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Un){var q=A.h;q.g||Un.indexOf("spdy")==-1&&Un.indexOf("quic")==-1&&Un.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xa(q,q.h),q.h=null))}if(A.G){const al=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(A.wa=al,Ft(A.J,A.G,al))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var it=u;if(A.na=ko(A,A.L?A.ba:null,A.W),it.L){di(A.h,it);var At=it,Wt=A.O;Wt&&(At.H=Wt),At.D&&(Qn(At),Pr(At)),A.g=it}else Lo(A);_.i.length>0&&Wr(_)}else jt[0]!="stop"&&jt[0]!="close"||yi(_,7);else _.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?yi(_,7):Zr(_):jt[0]!="noop"&&_.l&&_.l.qa(jt),_.A=0)}}ji(4)}catch{}}var Gc=class{constructor(u,m){this.g=u,this.map=m}};function Br(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pn(u){return u.h?1:u.g?u.g.size:0}function jr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xa(u,m){u.g?u.g.add(m):u.h=m}function di(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Br.prototype.cancel=function(){if(this.i=Ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ua(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return B(u.i)}var La=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fc(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const A=u[_].indexOf("=");let P,q=null;A>=0?(P=u[_].substring(0,A),q=u[_].substring(A+1)):P=u[_],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Nn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Nn?(this.l=u.l,Yi(this,u.j),this.o=u.o,this.g=u.g,qr(this,u.u),this.h=u.h,Ki(this,Oo(u.i)),this.m=u.m):u&&(m=String(u).match(La))?(this.l=!1,Yi(this,m[1]||"",!0),this.o=Hr(m[2]||""),this.g=Hr(m[3]||"",!0),qr(this,m[4]),this.h=Hr(m[5]||"",!0),Ki(this,m[6]||"",!0),this.m=Hr(m[7]||"")):(this.l=!1,this.i=new yn(null,this.l))}Nn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ve(m,Ks,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ve(m,Ks,!0),"@"),u.push(Lr(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ve(_,_.charAt(0)=="/"?Xi:Xs,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ve(_,Io)),u.join("")},Nn.prototype.resolve=function(u){const m=ie(this);let _=!!u.j;_?Yi(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var A=u.h;if(_)qr(m,u.u);else if(_=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let it=0;it<P.length;){const At=P[it++];At=="."?A&&it==P.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&it==P.length&&q.push("")):(q.push(At),A=!0)}A=q.join("/")}else A=P}return _?m.h=A:_=u.i.toString()!=="",_?Ki(m,Oo(u.i)):_=!!u.m,_&&(m.m=u.m),m};function ie(u){return new Nn(u)}function Yi(u,m,_){u.j=_?Hr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ki(u,m,_){m instanceof yn?(u.i=m,Js(u.i,u.l)):(_||(m=Ve(m,Vo)),u.i=new yn(m,u.l))}function Ft(u,m,_){u.i.set(m,_)}function mi(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Hr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ve(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Ys),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ys(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ks=/[#\/\?@]/g,Xs=/[#\?:]/g,Xi=/[#\?]/g,Vo=/[#\?@]/g,Io=/#/g;function yn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gi(u){u.g||(u.g=new Map,u.h=0,u.i&&Fc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=yn.prototype,a.add=function(u,m){gi(this),this.i=null,u=On(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function $s(u,m){gi(u),m=On(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Zs(u,m){return gi(u),m=On(u,m),u.g.has(m)}a.forEach=function(u,m){gi(this),this.g.forEach(function(_,A){_.forEach(function(P){u.call(m,P,A,this)},this)},this)};function Pa(u,m){gi(u);let _=[];if(typeof m=="string")Zs(u,m)&&(_=_.concat(u.g.get(On(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return gi(this),this.i=null,u=On(this,u),Zs(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Pa(this,u),u.length>0?String(u[0]):m):m};function No(u,m,_){$s(u,m),_.length>0&&(u.i=null,u.g.set(On(u,m),B(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var _=m[A];const P=Lr(_);_=Pa(this,_);for(let q=0;q<_.length;q++){let it=P;_[q]!==""&&(it+="="+Lr(_[q])),u.push(it)}}return this.i=u.join("&")};function Oo(u){const m=new yn;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function On(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Js(u,m){m&&!u.j&&(gi(u),u.i=null,u.g.forEach(function(_,A){const P=A.toLowerCase();A!=P&&($s(this,A),No(this,P,_))},u)),u.j=m}function Ws(u,m){const _=new Hi;if(d.Image){const A=new Image;A.onload=E($e,_,"TestLoadImage: loaded",!0,m,A),A.onerror=E($e,_,"TestLoadImage: error",!1,m,A),A.onabort=E($e,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=E($e,_,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function $i(u,m){const _=new Hi,A=new AbortController,P=setTimeout(()=>{A.abort(),$e(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?$e(_,"TestPingServer: ok",!0,m):$e(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),$e(_,"TestPingServer: error",!1,m)})}function $e(u,m,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function Mo(){this.g=new jc}function Gr(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Gr,Ro),Gr.prototype.g=function(){return new Fr(this.i,this.h)};function Fr(u,m){Ae.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Fr,Ae),a=Fr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,pi(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ze(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ze(this):pi(this),this.readyState==3&&Zi(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Ze(this))},a.Na=function(u){this.g&&(this.response=u,Ze(this))},a.ga=function(){this.g&&Ze(this)};function Ze(u){u.readyState=4,u.l=null,u.j=null,u.B=null,pi(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function pi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ji(u){let m="";return Pt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function _n(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Ji(_),typeof u=="string"?_!=null&&Lr(_):Ft(u,m,_))}function $t(u){Ae.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($t,Ae);var za=/^https?$/i,xo=["POST","PUT"];a=$t.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fi.g(),this.g.onreadystatechange=D(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Qr(this,q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xo,m,void 0)>=0)||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of _)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Qr(this,q)}};function Qr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Yr(u),Se(u)}function Yr(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Se(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Se(this,!0)),$t.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?tl(this):this.Xa())},a.Xa=function(){tl(this)};function tl(u){if(u.h&&typeof h<"u"){if(u.v&&He(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),He(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=q===0){let it=String(u.D).match(La)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),A=!za.test(it?it.toLowerCase():"")}_=A}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var P=He(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Yr(u)}}finally{Se(u)}}}}function Se(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function He(u){return u.g?u.g.readyState:0}a.ca=function(){try{return He(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Xe(m)}};function Kr(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xr(u){const m={};u=(u.g&&He(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var _=Hc(u[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[P]||[];m[P]=q,q.push(_)}V(m,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ba(u){this.za=0,this.i=[],this.j=new Hi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$r("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$r("baseRetryDelayMs",5e3,u),this.Za=$r("retryDelaySeedMs",1e4,u),this.Ta=$r("forwardChannelMaxRetries",2,u),this.va=$r("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Br(u&&u.concurrentRequestLimit),this.Ba=new Mo,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Ba.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,A){ce(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=ko(this,null,this.W),Wr(this)};function Zr(u){if(Jr(u),u.I==3){var m=u.V++,_=ie(u.J);if(Ft(_,"SID",u.M),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),ta(u,_),m=new In(u,u.j,m),m.M=2,m.A=mi(ie(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=qa(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Pr(m)}Bo(u)}function Kn(u){u.g&&(nl(u),u.g.cancel(),u.g=null)}function Jr(u){Kn(u),u.v&&(d.clearTimeout(u.v),u.v=null),ja(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Wr(u){if(!kr(u.h)&&!u.m){u.m=!0;var m=u.Ea;ht||b(),Dt||(ht(),Dt=!0),N.add(m,u),u.D=0}}function Qc(u,m){return pn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=qi(p(u.Ea,u,m),zo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new In(this,this.j,u);let q=this.o;if(this.U&&(q?(q=J(q),rt(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=ka(this,P,m),_=ie(this.J),Ft(_,"RID",u),Ft(_,"CVER",22),this.G&&Ft(_,"X-HTTP-Session-Id",this.G),ta(this,_),q&&(this.R?m="headers="+Lr(Ji(q))+"&"+m:this.u&&_n(_,this.u,q)),xa(this.h,P),this.Ra&&Ft(_,"TYPE","init"),this.S?(Ft(_,"$req",m),Ft(_,"SID","null"),P.U=!0,Gn(P,_,null)):Gn(P,_,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||kr(this.h)||Uo(this))};function Uo(u,m){var _;m?_=m.l:_=u.V++;const A=ie(u.J);Ft(A,"SID",u.M),Ft(A,"RID",_),Ft(A,"AID",u.K),ta(u,A),u.u&&u.o&&_n(A,u.u,u.o),_=new In(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ka(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xa(u.h,_),Gn(_,A,m)}function ta(u,m){u.H&&Pt(u.H,function(_,A){Ft(m,A,_)}),u.l&&Pt({},function(_,A){Ft(m,A,_)})}function ka(u,m,_){_=Math.min(u.i.length,_);const A=u.l?p(u.l.Ka,u.l,u):null;t:{var P=u.i;let At=-1;for(;;){const Wt=["count="+_];At==-1?_>0?(At=P[0].g,Wt.push("ofs="+At)):At=0:Wt.push("ofs="+At);let jt=!0;for(let de=0;de<_;de++){var q=P[de].g;const sn=P[de].map;if(q-=At,q<0)At=Math.max(0,P[de].g-100),jt=!1;else try{q="req"+q+"_"||"";try{var it=sn instanceof Map?sn:Object.entries(sn);for(const[Xn,Mn]of it){let xn=Mn;g(Mn)&&(xn=mn(Mn)),Wt.push(q+Xn+"="+encodeURIComponent(xn))}}catch(Xn){throw Wt.push(q+"type="+encodeURIComponent("_badmap")),Xn}}catch{A&&A(sn)}}if(jt){it=Wt.join("&");break t}}it=void 0}return u=u.i.splice(0,_),m.G=u,it}function Lo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ht||b(),Dt||(ht(),Dt=!0),N.add(m,u),u.A=0}}function el(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=qi(p(u.Da,u),zo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Po(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=qi(p(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ce(10),Kn(this),Po(this))};function nl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Po(u){u.g=new In(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ie(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),ta(u,m),u.u&&u.o&&_n(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=mi(ie(m)),_.u=null,_.R=!0,Fi(_,u)}a.Va=function(){this.C!=null&&(this.C=null,Kn(this),el(this),ce(19))};function ja(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function il(u,m){var _=null;if(u.g==m){ja(u),nl(u),u.g=null;var A=2}else if(jr(u.h,m))_=m.G,di(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;A=Ia(),De(A,new Co(A,_)),Wr(u)}else Lo(u);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&Qc(u,m)||A==2&&el(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),P){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function zo(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var _=p(u.bb,u),A=u.Ua;const P=!A;A=new Nn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Yi(A,"https"),mi(A),P?Ws(A.toString(),_):$i(A.toString(),_)}else ce(2);u.I=0,u.l&&u.l.pa(m),Bo(u),Jr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Bo(u){if(u.I=0,u.ja=[],u.l){const m=Ua(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function ko(u,m,_){var A=_ instanceof Nn?ie(_):new Nn(_);if(A.g!="")m&&(A.g=m+"."+A.g),qr(A,A.u);else{var P=d.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Nn(null);A&&Yi(q,A),m&&(q.g=m),P&&qr(q,P),_&&(q.h=_),A=q}return _=u.G,m=u.wa,_&&m&&Ft(A,_,m),Ft(A,"VER",u.ka),ta(u,A),A}function qa(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new Gr({ab:_})):new $t(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function jo(){}a=jo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ha(){}Ha.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){Ae.call(this),this.g=new Ba(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}S(Je,Ae),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Zr(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=mn(u),u=_);m.i.push(new Gc(m.Ya++,u)),m.I==3&&Wr(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Zr(this.g),delete this.g,Je.Z.N.call(this)};function rl(u){Bi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(rl,Bi);function qo(){Vn.call(this),this.status=1}S(qo,Vn);function Wi(u){this.g=u}S(Wi,jo),Wi.prototype.ra=function(){De(this.g,"a")},Wi.prototype.qa=function(u){De(this.g,new rl(u))},Wi.prototype.pa=function(u){De(this.g,new qo)},Wi.prototype.oa=function(){De(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,Nv=function(){return new Ha},Iv=function(){return Ia()},Vv=gn,od={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,Zu=he,Ue.COMPLETE="complete",Dv=Ue,wo.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,$l=wo,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,Cv=$t}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const Jy="@firebase/firestore",Wy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Ev("@firebase/firestore");function _s(){return Ea.logLevel}function ut(a,...e){if(Ea.logLevel<=Lt.DEBUG){const i=e.map(xd);Ea.debug(`Firestore (${Ls}): ${a}`,...i)}}function Li(a,...e){if(Ea.logLevel<=Lt.ERROR){const i=e.map(xd);Ea.error(`Firestore (${Ls}): ${a}`,...i)}}function ws(a,...e){if(Ea.logLevel<=Lt.WARN){const i=e.map(xd);Ea.warn(`Firestore (${Ls}): ${a}`,...i)}}function xd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Ov(a,s,i)}function Ov(a,e,i){let s=`FIRESTORE (${Ls}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Li(s),new Error(s)}function kt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||Ov(e,o,s)}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Us{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class eb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class nb{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let h=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Oi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=h;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Oi)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(kt(typeof s.accessToken=="string",31837,{l:s}),new Mv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class ib{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rb{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new ib(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class t_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ab{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,BS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const s=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new t_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new t_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=sb(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Ot(a,e){return a<e?-1:a>e?1:0}function ud(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),h=e.charAt(s);if(o!==h)return $f(o)===$f(h)?Ot(o,h):$f(o)?1:-1}return Ot(a.length,e.length)}const lb=55296,ob=57343;function $f(a){const e=a.charCodeAt(0);return e>=lb&&e<=ob}function Cs(a,e,i){return a.length===e.length&&a.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="__name__";class ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&_t(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ei.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ot(e.length,i.length)}static compareSegments(e,i){const s=ei.isNumericId(e),o=ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ei.extractNumericId(e).compare(ei.extractNumericId(i)):ud(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class Jt extends ei{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const ub=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends ei{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return ub.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e_}static keyField(){return new ke([e_])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ot(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ot(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ot(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Jt.fromString(e))}static fromName(e){return new mt(Jt.fromString(e).popFirst(5))}static empty(){return new mt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(a,e,i){if(!i)throw new ot(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function cb(a,e,i,s){if(e===!0&&s===!0)throw new ot(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function n_(a){if(!mt.isDocumentKey(a))throw new ot(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function i_(a){if(mt.isDocumentKey(a))throw new ot(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Uv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Ac(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function Ds(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ot(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ac(a);throw new ot(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(a,e){const i={typeString:a};return e&&(i.value=e),i}function _o(a,e){if(!Uv(a))throw new ot(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ot(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=-62135596800,a_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*a_);return new te(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<r_)throw new ot(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_o(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Te("string",te._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new te(0,0))}static max(){return new Tt(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=-1;function hb(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Cr(o,mt.empty(),e)}function fb(a){return new Cr(a.readTime,a.key,oo)}class Cr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Cr(Tt.min(),mt.empty(),oo)}static max(){return new Cr(Tt.max(),mt.empty(),oo)}}function db(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(a.documentKey,e.documentKey),i!==0?i:Ot(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==mb)throw a;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,s)=>{i(e)}))}static reject(e){return new $(((i,s)=>{s(e)}))}static waitFor(e){return new $(((i,s)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(y=>s(y)))})),d=!0,h===o&&i()}))}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next((o=>o?$.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new $(((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const p=y;i(e[p]).next((E=>{d[p]=E,++g,g===h&&s(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new $(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function pb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function zs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=-1;function bc(a){return a==null}function oc(a){return a===0&&1/a==-1/0}function yb(a){return typeof a=="number"&&Number.isInteger(a)&&!oc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="";function _b(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=s_(e)),e=vb(a.get(i),e);return s_(e)}function vb(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case Lv:i+="";break;default:i+=h}}return i}function s_(a){return a+Lv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Sa(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Pv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Be(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(e){return new o_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ce(this.comparator);return i.data=e,i}}class o_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new Bn([])}unionWith(e){let i=new Ce(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Bn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Cs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new zv("Invalid base64 string: "+h):h}})(e);return new je(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const Eb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(a){if(kt(!!a,39018),typeof a=="string"){let e=0;const i=Eb.exec(a);if(kt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pe(a.seconds),nanos:pe(a.nanos)}}function pe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Vr(a){return typeof a=="string"?je.fromBase64String(a):je.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="server_timestamp",kv="__type__",jv="__previous_value__",qv="__local_write_time__";function Pd(a){return(a?.mapValue?.fields||{})[kv]?.stringValue===Bv}function Rc(a){const e=a.mapValue.fields[jv];return Pd(e)?Rc(e):e}function uo(a){const e=Dr(a.mapValue.fields[qv].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,i,s,o,h,d,g,y,p,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const uc="(default)";class co{constructor(e,i){this.projectId=e,this.database=i||uc}static empty(){return new co("","")}get isDefaultDatabase(){return this.database===uc}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="__type__",Ab="__max__",Qu={mapValue:{}},Gv="__vector__",cc="value";function Ir(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Pd(a)?4:bb(a)?9007199254740991:Sb(a)?10:11:_t(28295,{value:a})}function li(a,e){if(a===e)return!0;const i=Ir(a);if(i!==Ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return uo(a).isEqual(uo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Dr(o.timestampValue),g=Dr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Vr(o.bytesValue).isEqual(Vr(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return pe(o.geoPointValue.latitude)===pe(h.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return pe(o.integerValue)===pe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=pe(o.doubleValue),g=pe(h.doubleValue);return d===g?oc(d)===oc(g):isNaN(d)&&isNaN(g)}return!1})(a,e);case 9:return Cs(a.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(l_(d)!==l_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!li(d[y],g[y])))return!1;return!0})(a,e);default:return _t(52216,{left:a})}}function ho(a,e){return(a.values||[]).find((i=>li(i,e)))!==void 0}function Vs(a,e){if(a===e)return 0;const i=Ir(a),s=Ir(e);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=pe(h.integerValue||h.doubleValue),y=pe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(a,e);case 3:return u_(a.timestampValue,e.timestampValue);case 4:return u_(uo(a),uo(e));case 5:return ud(a.stringValue,e.stringValue);case 6:return(function(h,d){const g=Vr(h),y=Vr(d);return g.compareTo(y)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=Ot(g[p],y[p]);if(E!==0)return E}return Ot(g.length,y.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Ot(pe(h.latitude),pe(d.latitude));return g!==0?g:Ot(pe(h.longitude),pe(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return c_(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},y=d.fields||{},p=g[cc]?.arrayValue,E=y[cc]?.arrayValue,S=Ot(p?.values?.length||0,E?.values?.length||0);return S!==0?S:c_(p,E)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Qu.mapValue&&d===Qu.mapValue)return 0;if(h===Qu.mapValue)return 1;if(d===Qu.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const D=ud(y[S],E[S]);if(D!==0)return D;const B=Vs(g[y[S]],p[E[S]]);if(B!==0)return B}return Ot(y.length,E.length)})(a.mapValue,e.mapValue);default:throw _t(23264,{he:i})}}function u_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ot(a,e);const i=Dr(a),s=Dr(e),o=Ot(i.seconds,s.seconds);return o!==0?o:Ot(i.nanos,s.nanos)}function c_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Vs(i[o],s[o]);if(h)return h}return Ot(i.length,s.length)}function Is(a){return cd(a)}function cd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Dr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Vr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return mt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=cd(h);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${cd(i.fields[d])}`;return o+"}"})(a.mapValue):_t(61005,{value:a})}function Ju(a){switch(Ir(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rc(a);return e?16+Ju(e):16;case 5:return 2*a.stringValue.length;case 6:return Vr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+Ju(h)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return Sa(s.fields,((h,d)=>{o+=h.length+Ju(d)})),o})(a.mapValue);default:throw _t(13486,{value:a})}}function h_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function hd(a){return!!a&&"integerValue"in a}function zd(a){return!!a&&"arrayValue"in a}function f_(a){return!!a&&"nullValue"in a}function d_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Wu(a){return!!a&&"mapValue"in a}function Sb(a){return(a?.mapValue?.fields||{})[Hv]?.stringValue===Gv}function eo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Sa(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=eo(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=eo(a.arrayValue.values[i]);return e}return{...a}}function bb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Ab}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Wu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(i)}setAll(e){let i=ke.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=eo(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Wu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Sa(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new wn(eo(this.value))}}function Fv(a){const e=[];return Sa(a.fields,((i,s)=>{const o=new ke([i]);if(Wu(s)){const h=Fv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,Tt.min(),Tt.min(),Tt.min(),wn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Tt.min(),Tt.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Tt.min(),Tt.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i){this.position=e,this.inclusive=i}}function m_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=Vs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function g_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!li(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Rb(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{}class Ee extends Qv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Cb(e,i,s):i==="array-contains"?new Ib(e,s):i==="in"?new Nb(e,s):i==="not-in"?new Ob(e,s):i==="array-contains-any"?new Mb(e,s):new Ee(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Db(e,s):new Vb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Vs(i,this.value)):i!==null&&Ir(this.value)===Ir(i)&&this.matchesComparison(Vs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends Qv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new kn(e,i)}matches(e){return Yv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yv(a){return a.op==="and"}function Kv(a){return wb(a)&&Yv(a)}function wb(a){for(const e of a.filters)if(e instanceof kn)return!1;return!0}function fd(a){if(a instanceof Ee)return a.field.canonicalString()+a.op.toString()+Is(a.value);if(Kv(a))return a.filters.map((e=>fd(e))).join(",");{const e=a.filters.map((i=>fd(i))).join(",");return`${a.op}(${e})`}}function Xv(a,e){return a instanceof Ee?(function(s,o){return o instanceof Ee&&s.op===o.op&&s.field.isEqual(o.field)&&li(s.value,o.value)})(a,e):a instanceof kn?(function(s,o){return o instanceof kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,g)=>h&&Xv(d,o.filters[g])),!0):!1})(a,e):void _t(19439)}function $v(a){return a instanceof Ee?(function(i){return`${i.field.canonicalString()} ${i.op} ${Is(i.value)}`})(a):a instanceof kn?(function(i){return i.op.toString()+" {"+i.getFilters().map($v).join(" ,")+"}"})(a):"Filter"}class Cb extends Ee{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Db extends Ee{constructor(e,i){super(e,"in",i),this.keys=Zv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Vb extends Ee{constructor(e,i){super(e,"not-in",i),this.keys=Zv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Zv(a,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class Ib extends Ee{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return zd(i)&&ho(i.arrayValue,this.value)}}class Nb extends Ee{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ho(this.value.arrayValue,i)}}class Ob extends Ee{constructor(e,i){super(e,"not-in",i)}matches(e){if(ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ho(this.value.arrayValue,i)}}class Mb extends Ee{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!zd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ho(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function p_(a,e=null,i=[],s=[],o=null,h=null,d=null){return new xb(a,e,i,s,o,h,d)}function Bd(a){const e=St(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>fd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),bc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Is(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Is(s))).join(",")),e.Te=i}return e.Te}function kd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Rb(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Xv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!g_(a.startAt,e.startAt)&&g_(a.endAt,e.endAt)}function dd(a){return mt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ub(a,e,i,s,o,h,d,g){return new vo(a,e,i,s,o,h,d,g)}function jd(a){return new vo(a)}function y_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Jv(a){return a.collectionGroup!==null}function no(a){const e=St(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(ke.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new fc(h,s))})),i.has(ke.keyField().canonicalString())||e.Ie.push(new fc(ke.keyField(),s))}return e.Ie}function ni(a){const e=St(a);return e.Ee||(e.Ee=Lb(e,no(a))),e.Ee}function Lb(a,e){if(a.limitType==="F")return p_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new fc(o.field,h)}));const i=a.endAt?new hc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new hc(a.startAt.position,a.startAt.inclusive):null;return p_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function md(a,e){const i=a.filters.concat([e]);return new vo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function gd(a,e,i){return new vo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function wc(a,e){return kd(ni(a),ni(e))&&a.limitType===e.limitType}function Wv(a){return`${Bd(ni(a))}|lt:${a.limitType}`}function vs(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>$v(o))).join(", ")}]`),bc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Is(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Is(o))).join(",")),`Target(${s})`})(ni(a))}; limitType=${a.limitType})`}function Cc(a,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(a,e)&&(function(s,o){for(const h of no(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,y){const p=m_(d,g,y);return d.inclusive?p<=0:p<0})(s.startAt,no(s),o)||s.endAt&&!(function(d,g,y){const p=m_(d,g,y);return d.inclusive?p>=0:p>0})(s.endAt,no(s),o))})(a,e)}function Pb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function tE(a){return(e,i)=>{let s=!1;for(const o of no(a)){const h=zb(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function zb(a,e,i){const s=a.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,g){const y=d.data.field(h),p=g.data.field(h);return y!==null&&p!==null?Vs(y,p):_t(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return Pv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new se(mt.comparator);function Pi(){return Bb}const eE=new se(mt.comparator);function Zl(...a){let e=eE;for(const i of a)e=e.insert(i.key,i);return e}function nE(a){let e=eE;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function ya(){return io()}function iE(){return io()}function io(){return new ba((a=>a.toString()),((a,e)=>a.isEqual(e)))}const kb=new se(mt.comparator),jb=new Ce(mt.comparator);function Mt(...a){let e=jb;for(const i of a)e=e.add(i);return e}const qb=new Ce(Ot);function Hb(){return qb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function rE(a){return{integerValue:""+a}}function Gb(a,e){return yb(e)?rE(e):qd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function Fb(a,e,i){return a instanceof dc?(function(o,h){const d={fields:{[kv]:{stringValue:Bv},[qv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Pd(h)&&(h=Rc(h)),h&&(d.fields[jv]=h),{mapValue:d}})(i,e):a instanceof fo?sE(a,e):a instanceof mo?lE(a,e):(function(o,h){const d=aE(o,h),g=__(d)+__(o.Ae);return hd(d)&&hd(o.Ae)?rE(g):qd(o.serializer,g)})(a,e)}function Qb(a,e,i){return a instanceof fo?sE(a,e):a instanceof mo?lE(a,e):i}function aE(a,e){return a instanceof mc?(function(s){return hd(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class dc extends Dc{}class fo extends Dc{constructor(e){super(),this.elements=e}}function sE(a,e){const i=oE(e);for(const s of a.elements)i.some((o=>li(o,s)))||i.push(s);return{arrayValue:{values:i}}}class mo extends Dc{constructor(e){super(),this.elements=e}}function lE(a,e){let i=oE(e);for(const s of a.elements)i=i.filter((o=>!li(o,s)));return{arrayValue:{values:i}}}class mc extends Dc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function __(a){return pe(a.integerValue||a.doubleValue)}function oE(a){return zd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Yb(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof fo&&o instanceof fo||s instanceof mo&&o instanceof mo?Cs(s.elements,o.elements,li):s instanceof mc&&o instanceof mc?li(s.Ae,o.Ae):s instanceof dc&&o instanceof dc})(a.transform,e.transform)}class Kb{constructor(e,i){this.version=e,this.transformResults=i}}class Mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Vc{}function uE(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new hE(a.key,Mi.none()):new Eo(a.key,a.data,Mi.none());{const i=a.data,s=wn.empty();let o=new Ce(ke.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ra(a.key,s,new Bn(o.toArray()),Mi.none())}}function Xb(a,e,i){a instanceof Eo?(function(o,h,d){const g=o.value.clone(),y=E_(o.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):a instanceof Ra?(function(o,h,d){if(!tc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=E_(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(cE(o)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ro(a,e,i,s){return a instanceof Eo?(function(h,d,g,y){if(!tc(h.precondition,d))return g;const p=h.value.clone(),E=T_(h.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(a,e,i,s):a instanceof Ra?(function(h,d,g,y){if(!tc(h.precondition,d))return g;const p=T_(h.fieldTransforms,y,d),E=d.data;return E.setAll(cE(h)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(a,e,i,s):(function(h,d,g){return tc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,e,i)}function $b(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=aE(s.transform,o||null);h!=null&&(i===null&&(i=wn.empty()),i.set(s.field,h))}return i||null}function v_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Cs(s,o,((h,d)=>Yb(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Eo extends Vc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ra extends Vc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function cE(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function E_(a,e,i){const s=new Map;kt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,Qb(d,g,i[o]))}return s}function T_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,Fb(h,d,e))}return s}class hE extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zb extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Xb(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ro(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ro(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=iE();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const y=uE(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,((i,s)=>v_(i,s)))&&Cs(this.baseMutations,e.baseMutations,((i,s)=>v_(i,s)))}}class Hd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){kt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return kb})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Hd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ut;function eR(a){switch(a){case K.OK:return _t(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return _t(15467,{code:a})}}function fE(a){if(a===void 0)return Li("GRPC error has no .code"),K.UNKNOWN;switch(a){case ve.OK:return K.OK;case ve.CANCELLED:return K.CANCELLED;case ve.UNKNOWN:return K.UNKNOWN;case ve.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ve.INTERNAL:return K.INTERNAL;case ve.UNAVAILABLE:return K.UNAVAILABLE;case ve.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ve.NOT_FOUND:return K.NOT_FOUND;case ve.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ve.ABORTED:return K.ABORTED;case ve.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ve.DATA_LOSS:return K.DATA_LOSS;default:return _t(39323,{code:a})}}(Ut=ve||(ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new Rr([4294967295,4294967295],0);function A_(a){const e=nR().encode(a),i=new wv;return i.update(e),new Uint8Array(i.digest())}function S_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Rr([i,s],0),new Rr([o,h],0)]}class Gd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Jl(`Invalid padding: ${i}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Rr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Rr.fromNumber(s)));return o.compare(iR)===1&&(o=new Rr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=A_(e),[s,o]=S_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Gd(h,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=A_(e),[s,o]=S_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,To.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ic(Tt.min(),o,new se(Ot),Pi(),Mt())}}class To{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new To(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class dE{constructor(e,i){this.targetId=e,this.Ce=i}}class mE{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class b_{constructor(){this.ve=0,this.Fe=R_(),this.Me=je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),s=Mt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:h})}})),new To(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=R_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pi(),this.Je=Yu(),this.He=Yu(),this.Ye=new se(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(dd(h))if(s===0){const d=new mt(h.path);this.et(i,d,Ke.newNoDocument(d,Tt.min()))}else kt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Vr(s).toUint8Array()}catch(y){if(y instanceof zv)return ws("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Gd(d,o,h)}catch(y){return ws(y instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&dd(g.target)){const y=new mt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ke.newNoDocument(y,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Mt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ic(e,i,this.Ye,this.je,s);return this.je=Pi(),this.Je=Yu(),this.He=Yu(),this.Ye=new se(Ot),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new b_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ce(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ce(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Yu(){return new se(mt.comparator)}function R_(){return new se(mt.comparator)}const aR={asc:"ASCENDING",desc:"DESCENDING"},sR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lR={and:"AND",or:"OR"};class oR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function pd(a,e){return a.useProto3Json||bc(e)?e:{value:e}}function gc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gE(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function uR(a,e){return gc(a,e.toTimestamp())}function ii(a){return kt(!!a,49232),Tt.fromTimestamp((function(i){const s=Dr(i);return new te(s.seconds,s.nanos)})(a))}function Fd(a,e){return yd(a,e).canonicalString()}function yd(a,e){const i=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function pE(a){const e=Jt.fromString(a);return kt(TE(e),10190,{key:e.toString()}),e}function _d(a,e){return Fd(a.databaseId,e.path)}function Zf(a,e){const i=pE(e);if(i.get(1)!==a.databaseId.projectId)throw new ot(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new mt(_E(i))}function yE(a,e){return Fd(a.databaseId,e)}function cR(a){const e=pE(a);return e.length===4?Jt.emptyPath():_E(e)}function vd(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function _E(a){return kt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function w_(a,e,i){return{name:_d(a,e),fields:i.value.mapValue.fields}}function hR(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_t(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(p,E){return p.useProto3Json?(kt(E===void 0||typeof E=="string",58123),je.fromBase64String(E||"")):(kt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),je.fromUint8Array(E||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const E=p.code===void 0?K.UNKNOWN:fE(p.code);return new ot(E,p.message||"")})(d);i=new mE(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zf(a,s.document.name),h=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):Tt.min(),g=new wn({mapValue:{fields:s.document.fields}}),y=Ke.newFoundDocument(o,h,d,g),p=s.targetIds||[],E=s.removedTargetIds||[];i=new ec(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zf(a,s.document),h=s.readTime?ii(s.readTime):Tt.min(),d=Ke.newNoDocument(o,h),g=s.removedTargetIds||[];i=new ec([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zf(a,s.document),h=s.removedTargetIds||[];i=new ec([],h,o,null)}else{if(!("filter"in e))return _t(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new tR(o,h),g=s.targetId;i=new dE(g,d)}}return i}function fR(a,e){let i;if(e instanceof Eo)i={update:w_(a,e.key,e.value)};else if(e instanceof hE)i={delete:_d(a,e.key)};else if(e instanceof Ra)i={update:w_(a,e.key,e.data),updateMask:TR(e.fieldMask)};else{if(!(e instanceof Zb))return _t(16599,{Vt:e.type});i={verify:_d(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const g=d.transform;if(g instanceof dc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof mc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:uR(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t(27497)})(a,e.precondition)),i}function dR(a,e){return a&&a.length>0?(kt(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(Tt.min())&&(d=ii(h)),new Kb(d,o.transformResults||[])})(i,e)))):[]}function mR(a,e){return{documents:[yE(a,e.path)]}}function gR(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=yE(a,o);const h=(function(p){if(p.length!==0)return EE(kn.create(p,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(p){if(p.length!==0)return p.map((E=>(function(D){return{field:Es(D.field),direction:_R(D.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:o}}function pR(a){let e=cR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){kt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let h=[];i.where&&(h=(function(S){const D=vE(S);return D instanceof kn&&Kv(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(Z){return new fc(Ts(Z.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let D;return D=typeof S=="object"?S.value:S,bc(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(S){const D=!!S.before,B=S.values||[];return new hc(B,D)})(i.startAt));let p=null;return i.endAt&&(p=(function(S){const D=!S.before,B=S.values||[];return new hc(B,D)})(i.endAt)),Ub(e,o,d,h,g,"F",y,p)}function yR(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function vE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ts(i.unaryFilter.field);return Ee.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ts(i.unaryFilter.field);return Ee.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ts(i.unaryFilter.field);return Ee.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ts(i.unaryFilter.field);return Ee.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ee.create(Ts(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return kn.create(i.compositeFilter.filters.map((s=>vE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(a):_t(30097,{filter:a})}function _R(a){return aR[a]}function vR(a){return sR[a]}function ER(a){return lR[a]}function Es(a){return{fieldPath:a.canonicalString()}}function Ts(a){return ke.fromServerFormat(a.fieldPath)}function EE(a){return a instanceof Ee?(function(i){if(i.op==="=="){if(d_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NAN"}};if(f_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(d_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NOT_NAN"}};if(f_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(i.field),op:vR(i.op),value:i.value}}})(a):a instanceof kn?(function(i){const s=i.getFilters().map((o=>EE(o)));return s.length===1?s[0]:{compositeFilter:{op:ER(i.op),filters:s}}})(a):_t(54877,{filter:a})}function TR(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function TE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,i,s,o,h=Tt.min(),d=Tt.min(),g=je.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.yt=e}}function SR(a){const e=pR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?gd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.Cn=new RR}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Cr.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class RR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ce(Jt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ce(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AE=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(AE,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ns(0)}static cr(){return new Ns(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LruGarbageCollector",wR=1048576;function V_([a,e],[i,s]){const o=Ot(a,i);return o===0?Ot(e,s):o}class CR{constructor(e){this.Ir=e,this.buffer=new Ce(V_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();V_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class DR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(D_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){zs(i)?ut(D_,"Ignoring IndexedDB error during garbage collection: ",i):await Ps(i)}await this.Vr(3e5)}))}}class VR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Sc.ce);const s=new CR(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(C_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,g,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,g=Date.now(),this.removeTargets(e,s,i)))).next((S=>(h=S,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(p=Date.now(),_s()<=Lt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function IR(a,e){return new VR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.changes=new ba((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&ro(s.mutation,o,Bn.empty(),te.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Mt()){const o=ya();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=Zl();return h.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=ya();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Mt())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let h=Pi();const d=io(),g=(function(){return io()})();return i.forEach(((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Ra)?h=h.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),ro(E.mutation,p,E.mutation.getFieldMask(),te.now())):d.set(p.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,h).next((y=>(y.forEach(((p,E)=>d.set(p,E))),i.forEach(((p,E)=>g.set(p,new OR(E,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=io();let o=new se(((d,g)=>d-g)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=i.get(y);if(p===null)return;let E=s.get(y)||Bn.empty();E=g.applyToLocalView(p,E),s.set(y,E);const S=(o.get(g.batchId)||Mt()).add(y);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,S=iE();E.forEach((D=>{if(!h.has(D)){const B=uE(i.get(D),s.get(D));B!==null&&S.set(D,B),h=h.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Jv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):$.resolve(ya());let g=oo,y=h;return d.next((p=>$.forEach(p,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),h.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next((D=>{y=y.insert(E,D)}))))).next((()=>this.populateOverlays(e,p,h))).next((()=>this.computeViews(e,y,p,Mt()))).next((E=>({batchId:g,changes:nE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Zl();return this.indexManager.getCollectionParents(e,h).next((g=>$.forEach(g,(y=>{const p=(function(S,D){return new vo(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,Ke.newInvalidDocument(E)))}));let g=Zl();return d.forEach(((y,p)=>{const E=h.get(y);E!==void 0&&ro(E.mutation,p,Bn.empty(),te.now()),Cc(i,p)&&(g=g.insert(y,p))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:SR(o.bundledQuery),readTime:ii(o.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.overlays=new se(mt.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ya();return $.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.St(e,i,h)})),$.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const o=ya(),h=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===h&&y.largestBatchId>s&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new se(((p,E)=>p-E));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let E=h.get(p.largestBatchId);E===null&&(E=ya(),h=h.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=ya(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>g.set(p,E))),!(g.size()>=o)););return $.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Wb(i,s));let h=this.qr.get(i);h===void 0&&(h=Mt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.Qr=new Ce(Me.$r),this.Ur=new Ce(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Me(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new mt(new Jt([])),s=new Me(i,e),o=new Me(i,e+1),h=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new Jt([])),s=new Me(i,e),o=new Me(i,e+1);let h=Mt();return this.Ur.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Me(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(Me.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Jb(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ld:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ce(Ot);return i.forEach((o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;mt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new mt(h),0);let g=new Ce(Ot);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(i.mutations,(o=>{const h=new Me(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Me(i,0),o=this.Zr.firstAfterOrEqual(s);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.ri=e,this.docs=(function(){return new se(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Pi();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))})),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Pi();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||db(fb(E),s)<=0||(o.has(E.key)||Cc(i,E))&&(h=h.insert(E.key,E.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,s,o){_t(9500)}ii(e,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new BR(this)}getSize(e){return $.resolve(this.size)}}class BR extends NR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.persistence=e,this.si=new ba((i=>Bd(i)),kd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Qd,this.targetCount=0,this.ai=Ns.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ns(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),$.waitFor(h).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),$.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Sc(0),this.li=!1,this.li=!0,this.hi=new LR,this.referenceDelegate=e(this),this.Pi=new kR(this),this.indexManager=new bR,this.remoteDocumentCache=(function(o){return new zR(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new AR(i),this.Ii=new xR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new UR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new PR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new jR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class jR extends gb{constructor(e){super(),this.currentSequenceNumber=e}}class Yd{constructor(e){this.persistence=e,this.Ri=new Qd,this.Vi=null}static mi(e){return new Yd(e)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const o=mt.fromPath(s);return this.gi(e,o).next((h=>{h||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class pc{constructor(e,i){this.persistence=e,this.pi=new ba((s=>_b(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=IR(this,i)}static mi(e,i){return new pc(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((s,o)=>this.br(e,s,o).next((h=>h?$.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,h.removeEntry(d,Tt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ju(e.data.value)),i}br(e,i,s){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Kd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LA()?8:pb(xA())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new qR;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(_s()<=Lt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",vs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(_s()<=Lt.DEBUG&&ut("QueryEngine","Query:",vs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(_s()<=Lt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",vs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):$.resolve())}ys(e,i){if(y_(i))return $.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=gd(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Mt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const p=this.Ds(i,g);return this.Cs(i,p,d,y.readTime)?this.ys(e,gd(i,null,"F")):this.vs(e,p,i,y)}))))})))))}ws(e,i,s,o){return y_(i)||o.isEqual(Tt.min())?$.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?$.resolve(null):(_s()<=Lt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vs(i)),this.vs(e,d,i,hb(o,oo)).next((g=>g)))}))}Ds(e,i){let s=new Ce(tE(e));return i.forEach(((o,h)=>{Cc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return _s()<=Lt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",vs(i)),this.ps.getDocumentsMatchingQuery(e,i,Cr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="LocalStore",GR=3e8;class FR{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new se(Ot),this.xs=new ba((h=>Bd(h)),kd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function QR(a,e,i,s){return new FR(a,e,i,s)}async function bE(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],g=[];let y=Mt();for(const p of o){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of h){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function YR(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,E){const S=p.batch,D=S.keys();let B=$.resolve();return D.forEach((Z=>{B=B.next((()=>E.getEntry(y,Z))).next((tt=>{const H=p.docVersions.get(Z);kt(H!==null,48541),tt.version.compareTo(H)<0&&(S.applyToRemoteDocument(tt,p),tt.isValidDocument()&&(tt.setReadTime(p.commitVersion),E.addEntry(tt)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Mt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function RE(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function KR(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((E,S)=>{const D=o.get(S);if(!D)return;g.push(i.Pi.removeMatchingKeys(h,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(h,E.addedDocuments,S))));let B=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(je.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,s)),o=o.insert(S,B),(function(tt,H,nt){return tt.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=GR?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(D,B,E)&&g.push(i.Pi.updateTargetData(h,B))}));let y=Pi(),p=Mt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,E))})),g.push(XR(h,d,e.documentUpdates).next((E=>{y=E.ks,p=E.qs}))),!s.isEqual(Tt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(h).next((S=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));g.push(E)}return $.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,y,p))).next((()=>y))})).then((h=>(i.Ms=o,h)))}function XR(a,e,i){let s=Mt(),o=Mt();return i.forEach((h=>s=s.add(h))),e.getEntries(a,s).next((h=>{let d=Pi();return i.forEach(((g,y)=>{const p=h.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ut(Xd,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function $R(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ld),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ZR(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((h=>h?(o=h,$.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Ar(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Ed(a,e,i){const s=St(a),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!zs(d))throw d;ut(Xd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function I_(a,e,i){const s=St(a);let o=Tt.min(),h=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,E){const S=St(y),D=S.xs.get(E);return D!==void 0?$.resolve(S.Ms.get(D)):S.Pi.getTargetData(p,E)})(s,d,ni(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{h=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:Mt()))).next((g=>(JR(s,Pb(e),g),{documents:g,Qs:h})))))}function JR(a,e,i){let s=a.Os.get(e)||Tt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),a.Os.set(e,s)}class N_{constructor(){this.activeTargetIds=Hb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WR{constructor(){this.Mo=new N_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new N_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="ConnectivityMonitor";class M_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(O_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(O_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function Td(){return Ku===null?Ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="RestConnection",e2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===uc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=Td(),g=this.zo(e,i.toUriEncodedString());ut(Jf,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,h);const{host:p}=new URL(g),E=Od(p);return this.Jo(e,g,y,s,E).then((S=>(ut(Jf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw ws(Jf,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ls})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const s=e2[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class r2 extends n2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=Td();return new Promise(((g,y)=>{const p=new Cv;p.setWithCredentials(!0),p.listenOnce(Dv.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Zu.NO_ERROR:const S=p.getResponseJson();ut(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Zu.TIMEOUT:ut(Qe,`RPC '${e}' ${d} timed out`),y(new ot(K.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const D=p.getStatus();if(ut(Qe,`RPC '${e}' ${d} failed with status:`,D,"response text:",p.getResponseText()),D>0){let B=p.getResponseJson();Array.isArray(B)&&(B=B[0]);const Z=B?.error;if(Z&&Z.status&&Z.message){const tt=(function(nt){const et=nt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(et)>=0?et:K.UNKNOWN})(Z.status);y(new ot(tt,Z.message))}else y(new ot(K.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ot(K.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ut(Qe,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ut(Qe,`RPC '${e}' ${d} sending request:`,o),p.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=Td(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Nv(),g=Iv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=h.join("");ut(Qe,`Creating RPC '${e}' stream ${o}: ${E}`,y);const S=d.createWebChannel(E,y);this.I_(S);let D=!1,B=!1;const Z=new i2({Yo:H=>{B?ut(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(D||(ut(Qe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),D=!0),ut(Qe,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Zo:()=>S.close()}),tt=(H,nt,et)=>{H.listen(nt,(at=>{try{et(at)}catch(Rt){setTimeout((()=>{throw Rt}),0)}}))};return tt(S,$l.EventType.OPEN,(()=>{B||(ut(Qe,`RPC '${e}' stream ${o} transport opened.`),Z.o_())})),tt(S,$l.EventType.CLOSE,(()=>{B||(B=!0,ut(Qe,`RPC '${e}' stream ${o} transport closed`),Z.a_(),this.E_(S))})),tt(S,$l.EventType.ERROR,(H=>{B||(B=!0,ws(Qe,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),Z.a_(new ot(K.UNAVAILABLE,"The operation could not be completed")))})),tt(S,$l.EventType.MESSAGE,(H=>{if(!B){const nt=H.data[0];kt(!!nt,16349);const et=nt,at=et?.error||et[0]?.error;if(at){ut(Qe,`RPC '${e}' stream ${o} received error:`,at);const Rt=at.status;let ht=(function(b){const R=ve[b];if(R!==void 0)return fE(R)})(Rt),Dt=at.message;ht===void 0&&(ht=K.INTERNAL,Dt="Unknown error status: "+Rt+" with message "+at.message),B=!0,Z.a_(new ot(ht,Dt)),S.close()}else ut(Qe,`RPC '${e}' stream ${o} received:`,nt),Z.u_(nt)}})),tt(g,Vv.STAT_EVENT,(H=>{H.stat===od.PROXY?ut(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===od.NOPROXY&&ut(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(a){return new oR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="PersistentStream";class CE{constructor(e,i,s,o,h,d,g,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ot(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(x_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ut(x_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class a2 extends CE{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=hR(this.serializer,e),s=(function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ii(d.readTime):Tt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=vd(this.serializer),i.addTarget=(function(h,d){let g;const y=d.target;if(g=dd(y)?{documents:mR(h,y)}:{query:gR(h,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=gE(h,d.resumeToken);const p=pd(h,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=gc(h,d.snapshotVersion.toTimestamp());const p=pd(h,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=yR(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=vd(this.serializer),i.removeTarget=e,this.q_(i)}}class s2 extends CE{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=dR(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=vd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>fR(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{}class o2 extends l2{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,yd(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(K.UNKNOWN,h.toString())}))}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,yd(i,s),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class u2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class c2{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{wa(this)&&(ut(Ta,"Restarting streams for network reachability change."),await(async function(y){const p=St(y);p.Ea.add(4),await Ao(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Oc(p)})(this))}))})),this.Ra=new u2(s,o)}}async function Oc(a){if(wa(a))for(const e of a.da)await e(!0)}async function Ao(a){for(const e of a.da)await e(!1)}function DE(a,e){const i=St(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Wd(i)?Jd(i):Bs(i).O_()&&Zd(i,e))}function $d(a,e){const i=St(a),s=Bs(i);i.Ia.delete(e),s.O_()&&VE(i,e),i.Ia.size===0&&(s.O_()?s.L_():wa(i)&&i.Ra.set("Unknown"))}function Zd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Bs(a).Y_(e)}function VE(a,e){a.Va.Ue(e),Bs(a).Z_(e)}function Jd(a){a.Va=new rR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Bs(a).start(),a.Ra.ua()}function Wd(a){return wa(a)&&!Bs(a).x_()&&a.Ia.size>0}function wa(a){return St(a).Ea.size===0}function IE(a){a.Va=void 0}async function h2(a){a.Ra.set("Online")}async function f2(a){a.Ia.forEach(((e,i)=>{Zd(a,e)}))}async function d2(a,e){IE(a),Wd(a)?(a.Ra.ha(e),Jd(a)):a.Ra.set("Unknown")}async function m2(a,e,i){if(a.Ra.set("Online"),e instanceof mE&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(a,e)}catch(s){ut(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yc(a,s)}else if(e instanceof ec?a.Va.Ze(e):e instanceof dE?a.Va.st(e):a.Va.tt(e),!i.isEqual(Tt.min()))try{const s=await RE(a.localStore);i.compareTo(s)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=h.Ia.get(p);E&&h.Ia.set(p,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const E=h.Ia.get(y);if(!E)return;h.Ia.set(y,E.withResumeToken(je.EMPTY_BYTE_STRING,E.snapshotVersion)),VE(h,y);const S=new Ar(E.target,y,p,E.sequenceNumber);Zd(h,S)})),h.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(s){ut(Ta,"Failed to raise snapshot:",s),await yc(a,s)}}async function yc(a,e,i){if(!zs(e))throw e;a.Ea.add(1),await Ao(a),a.Ra.set("Offline"),i||(i=()=>RE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ut(Ta,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Oc(a)}))}function NE(a,e){return e().catch((i=>yc(a,i,e)))}async function Mc(a){const e=St(a),i=Nr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ld;for(;g2(e);)try{const o=await $R(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,p2(e,o)}catch(o){await yc(e,o)}OE(e)&&ME(e)}function g2(a){return wa(a)&&a.Ta.length<10}function p2(a,e){a.Ta.push(e);const i=Nr(a);i.O_()&&i.X_&&i.ea(e.mutations)}function OE(a){return wa(a)&&!Nr(a).x_()&&a.Ta.length>0}function ME(a){Nr(a).start()}async function y2(a){Nr(a).ra()}async function _2(a){const e=Nr(a);for(const i of a.Ta)e.ea(i.mutations)}async function v2(a,e,i){const s=a.Ta.shift(),o=Hd.from(s,e,i);await NE(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Mc(a)}async function E2(a,e){e&&Nr(a).X_&&await(async function(s,o){if((function(d){return eR(d)&&d!==K.ABORTED})(o.code)){const h=s.Ta.shift();Nr(s).B_(),await NE(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Mc(s)}})(a,e),OE(a)&&ME(a)}async function U_(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),ut(Ta,"RemoteStore received new credentials");const s=wa(i);i.Ea.add(3),await Ao(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Oc(i)}async function T2(a,e){const i=St(a);e?(i.Ea.delete(2),await Oc(i)):e||(i.Ea.add(2),await Ao(i),i.Ra.set("Unknown"))}function Bs(a){return a.ma||(a.ma=(function(i,s,o){const h=St(i);return h.sa(),new a2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:h2.bind(null,a),t_:f2.bind(null,a),r_:d2.bind(null,a),H_:m2.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Wd(a)?Jd(a):a.Ra.set("Unknown")):(await a.ma.stop(),IE(a))}))),a.ma}function Nr(a){return a.fa||(a.fa=(function(i,s,o){const h=St(i);return h.sa(),new s2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:y2.bind(null,a),r_:E2.bind(null,a),ta:_2.bind(null,a),na:v2.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Mc(a)):(await a.fa.stop(),a.Ta.length>0&&(ut(Ta,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new tm(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(a,e){if(Li("AsyncQueue",`${e}: ${a}`),zs(a))return new ot(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{static emptySet(e){return new Ss(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=Zl(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ss)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ss;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.ga=new se(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_t(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Os{constructor(e,i,s,o,h,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Os(e,i,Ss.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class S2{constructor(){this.queries=P_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=St(i),h=o.queries;o.queries=P_(),h.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new ot(K.ABORTED,"Firestore shutting down"))}}function P_(){return new ba((a=>Wv(a)),wc)}async function xE(a,e){const i=St(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new A2,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=em(d,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&nm(i)}async function UE(a,e){const i=St(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function b2(a,e){const i=St(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&nm(i)}function R2(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function nm(a){a.Ca.forEach((e=>{e.next()}))}var Ad,z_;(z_=Ad||(Ad={})).Ma="default",z_.Cache="cache";class LE{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Os(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ad.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.key=e}}class zE{constructor(e){this.key=e}}class w2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=tE(e),this.tu=new Ss(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new L_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const D=o.get(E),B=Cc(this.query,S)?S:null,Z=!!D&&this.mutatedKeys.has(D.key),tt=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let H=!1;D&&B?D.data.isEqual(B.data)?Z!==tt&&(s.track({type:3,doc:B}),H=!0):this.su(D,B)||(s.track({type:2,doc:B}),H=!0,(y&&this.eu(B,y)>0||p&&this.eu(B,p)<0)&&(g=!0)):!D&&B?(s.track({type:0,doc:B}),H=!0):D&&!B&&(s.track({type:1,doc:D}),H=!0,(y||p)&&(g=!0)),H&&(B?(d=d.add(B),h=tt?h.add(E):h.delete(E)):(d=d.delete(E),h=h.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),h=h.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(B,Z){const tt=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:H})}};return tt(B)-tt(Z)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new Os(this.query,e.tu,h,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new zE(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new PE(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Os.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const im="SyncEngine";class C2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class D2{constructor(e){this.key=e,this.hu=!1}}class V2{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ba((g=>Wv(g)),wc),this.Iu=new Map,this.Eu=new Set,this.du=new se(mt.comparator),this.Au=new Map,this.Ru=new Qd,this.Vu={},this.mu=new Map,this.fu=Ns.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function I2(a,e,i=!0){const s=GE(a);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await BE(s,e,i,!0),o}async function N2(a,e){const i=GE(a);await BE(i,e,!0,!1)}async function BE(a,e,i,s){const o=await ZR(a.localStore,ni(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await O2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&DE(a.remoteStore,o),g}async function O2(a,e,i,s,o){a.pu=(S,D,B)=>(async function(tt,H,nt,et){let at=H.view.ru(nt);at.Cs&&(at=await I_(tt.localStore,H.query,!1).then((({documents:N})=>H.view.ru(N,at))));const Rt=et&&et.targetChanges.get(H.targetId),ht=et&&et.targetMismatches.get(H.targetId)!=null,Dt=H.view.applyChanges(at,tt.isPrimaryClient,Rt,ht);return k_(tt,H.targetId,Dt.au),Dt.snapshot})(a,S,D,B);const h=await I_(a.localStore,e,!0),d=new w2(e,h.Qs),g=d.ru(h.documents),y=To.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),p=d.applyChanges(g,a.isPrimaryClient,y);k_(a,i,p.au);const E=new C2(e,i,d);return a.Tu.set(e,E),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),p.snapshot}async function M2(a,e,i){const s=St(a),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!wc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ed(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&$d(s.remoteStore,o.targetId),Sd(s,o.targetId)})).catch(Ps)):(Sd(s,o.targetId),await Ed(s.localStore,o.targetId,!0))}async function x2(a,e){const i=St(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),$d(i.remoteStore,s.targetId))}async function U2(a,e,i){const s=q2(a);try{const o=await(function(d,g){const y=St(d),p=te.now(),E=g.reduce(((B,Z)=>B.add(Z.key)),Mt());let S,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Z=Pi(),tt=Mt();return y.Ns.getEntries(B,E).next((H=>{Z=H,Z.forEach(((nt,et)=>{et.isValidDocument()||(tt=tt.add(nt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,Z))).next((H=>{S=H;const nt=[];for(const et of g){const at=$b(et,S.get(et.key).overlayedDocument);at!=null&&nt.push(new Ra(et.key,at,Fv(at.value.mapValue),Mi.exists(!0)))}return y.mutationQueue.addMutationBatch(B,p,nt,g)})).next((H=>{D=H;const nt=H.applyToLocalDocumentSet(S,tt);return y.documentOverlayCache.saveOverlays(B,H.batchId,nt)}))})).then((()=>({batchId:D.batchId,changes:nE(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new se(Ot)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(s,o.batchId,i),await So(s,o.changes),await Mc(s.remoteStore)}catch(o){const h=em(o,"Failed to persist write");i.reject(h)}}async function kE(a,e){const i=St(a);try{const s=await KR(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?kt(d.hu,14607):o.removedDocuments.size>0&&(kt(d.hu,42227),d.hu=!1))})),await So(i,s,e)}catch(s){await Ps(s)}}function B_(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=St(d);y.onlineState=g;let p=!1;y.queries.forEach(((E,S)=>{for(const D of S.Sa)D.va(g)&&(p=!0)})),p&&nm(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function L2(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new se(mt.comparator);d=d.insert(h,Ke.newNoDocument(h,Tt.min()));const g=Mt().add(h),y=new Ic(Tt.min(),new Map,new se(Ot),d,g);await kE(s,y),s.du=s.du.remove(h),s.Au.delete(e),rm(s)}else await Ed(s.localStore,e,!1).then((()=>Sd(s,e,i))).catch(Ps)}async function P2(a,e){const i=St(a),s=e.batch.batchId;try{const o=await YR(i.localStore,e);qE(i,s,null),jE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await So(i,o)}catch(o){await Ps(o)}}async function z2(a,e,i){const s=St(a);try{const o=await(function(d,g){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next((S=>(kt(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);qE(s,e,i),jE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await So(s,o)}catch(o){await Ps(o)}}function jE(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function qE(a,e,i){const s=St(a);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Sd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||HE(a,s)}))}function HE(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&($d(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),rm(a))}function k_(a,e,i){for(const s of i)s instanceof PE?(a.Ru.addReference(s.key,e),B2(a,s)):s instanceof zE?(ut(im,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||HE(a,s.key)):_t(19791,{wu:s})}function B2(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ut(im,"New document in limbo: "+i),a.Eu.add(s),rm(a))}function rm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new mt(Jt.fromString(e)),s=a.fu.next();a.Au.set(s,new D2(i)),a.du=a.du.insert(i,s),DE(a.remoteStore,new Ar(ni(jd(i.path)),s,"TargetPurposeLimboResolution",Sc.ce))}}async function So(a,e,i){const s=St(a),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,e,i).then((p=>{if((p||i)&&s.isPrimaryClient){const E=p?!p.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Kd.As(y.targetId,p);h.push(E)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(y,p){const E=St(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(p,(D=>$.forEach(D.Es,(B=>E.persistence.referenceDelegate.addReference(S,D.targetId,B))).next((()=>$.forEach(D.ds,(B=>E.persistence.referenceDelegate.removeReference(S,D.targetId,B)))))))))}catch(S){if(!zs(S))throw S;ut(Xd,"Failed to update sequence numbers: "+S)}for(const S of p){const D=S.targetId;if(!S.fromCache){const B=E.Ms.get(D),Z=B.snapshotVersion,tt=B.withLastLimboFreeSnapshotVersion(Z);E.Ms=E.Ms.insert(D,tt)}}})(s.localStore,h))}async function k2(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){ut(im,"User change. New user:",e.toKey());const s=await bE(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((y=>{y.reject(new ot(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await So(i,s.Ls)}}function j2(a,e){const i=St(a),s=i.Au.get(e);if(s&&s.hu)return Mt().add(s.key);{let o=Mt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function GE(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=kE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L2.bind(null,e),e.Pu.H_=b2.bind(null,e.eventManager),e.Pu.yu=R2.bind(null,e.eventManager),e}function q2(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z2.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return QR(this.persistence,new HR,e.initialUser,this.serializer)}Cu(e){return new SE(Yd.mi,this.serializer)}Du(e){return new WR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class H2 extends _c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){kt(this.persistence.referenceDelegate instanceof pc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new DR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new SE((s=>pc.mi(s,i)),this.serializer)}}class bd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>B_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=k2.bind(null,this.syncEngine),await T2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new S2})()}createDatastore(e){const i=Nc(e.databaseInfo.databaseId),s=(function(h){return new r2(h)})(e.databaseInfo);return(function(h,d,g,y){return new o2(h,d,g,y)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,g){return new c2(s,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>B_(this.syncEngine,i,0)),(function(){return M_.v()?new M_:new t2})())}createSyncEngine(e,i){return(function(o,h,d,g,y,p,E){const S=new V2(o,h,d,g,y,p);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=St(i);ut(Ta,"RemoteStore shutting down."),s.Ea.add(5),await Ao(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bd.provider={build:()=>new bd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="FirestoreClient";class G2{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=Ud.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{ut(Or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ut(Or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=em(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function td(a,e){a.asyncQueue.verifyOperationInProgress(),ut(Or,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await bE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function j_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await F2(a);ut(Or,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>U_(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>U_(e.remoteStore,o))),a._onlineComponents=e}async function F2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ut(Or,"Using user provided OfflineComponentProvider");try{await td(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ws("Error using user provided cache. Falling back to memory cache: "+i),await td(a,new _c)}}else ut(Or,"Using default OfflineComponentProvider"),await td(a,new H2(void 0));return a._offlineComponents}async function QE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ut(Or,"Using user provided OnlineComponentProvider"),await j_(a,a._uninitializedComponentsProvider._online)):(ut(Or,"Using default OnlineComponentProvider"),await j_(a,new bd))),a._onlineComponents}function Q2(a){return QE(a).then((e=>e.syncEngine))}async function YE(a){const e=await QE(a),i=e.eventManager;return i.onListen=I2.bind(null,e.syncEngine),i.onUnlisten=M2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=N2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=x2.bind(null,e.syncEngine),i}function Y2(a,e,i={}){const s=new Oi;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,y,p){const E=new FE({next:D=>{E.Nu(),d.enqueueAndForget((()=>UE(h,S)));const B=D.docs.has(g);!B&&D.fromCache?p.reject(new ot(K.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&D.fromCache&&y&&y.source==="server"?p.reject(new ot(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),S=new LE(jd(g.path),E,{includeMetadataChanges:!0,qa:!0});return xE(h,S)})(await YE(a),a.asyncQueue,e,i,s))),s.promise}function K2(a,e,i={}){const s=new Oi;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,y,p){const E=new FE({next:D=>{E.Nu(),d.enqueueAndForget((()=>UE(h,S))),D.fromCache&&y.source==="server"?p.reject(new ot(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),S=new LE(g,E,{includeMetadataChanges:!0,qa:!0});return xE(h,S)})(await YE(a),a.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firestore.googleapis.com",H_=!0;class G_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XE,this.ssl=H_}else this.host=e.host,this.ssl=e.ssl??H_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wR)throw new ot(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new tb;switch(s.type){case"firstParty":return new rb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=q_.get(i);s&&(ut("ComponentProvider","Removing Datastore"),q_.delete(i),s.terminate())})(this),Promise.resolve()}}function X2(a,e,i,s={}){a=Ds(a,xc);const o=Od(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(VA(`https://${g}`),MA("Firestore",!0)),h.host!==XE&&h.host!==g&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:o,emulatorOptions:s};if(!ac(y,d)&&(a._setSettings(y),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=Ye.MOCK_USER;else{p=IA(s.mockUserToken,a._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ot(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ye(S)}a._authCredentials=new eb(new Mv(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ks(this.firestore,e,this._query)}}class we{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new we(this.firestore,e,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(_o(i,we._jsonSchema))return new we(e,s||null,new mt(Jt.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Te("string",we._jsonSchemaVersion),referencePath:Te("string")};class wr extends ks{constructor(e,i,s){super(e,i,jd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new we(this.firestore,null,new mt(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function $E(a,e,...i){if(a=Rs(a),xv("collection","path",e),a instanceof xc){const s=Jt.fromString(e,...i);return i_(s),new wr(a,null,s)}{if(!(a instanceof we||a instanceof wr))throw new ot(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return i_(s),new wr(a.firestore,null,s)}}function ZE(a,e,...i){if(a=Rs(a),arguments.length===1&&(e=Ud.newId()),xv("doc","path",e),a instanceof xc){const s=Jt.fromString(e,...i);return n_(s),new we(a,null,new mt(s))}{if(!(a instanceof we||a instanceof wr))throw new ot(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return n_(s),new we(a.firestore,a instanceof wr?a.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="AsyncQueue";class Q_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wE(this,"async_queue_retry"),this._c=()=>{const s=Wf();s&&ut(F_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Oi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zs(e))throw e;ut(F_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",Y_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=tm.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:Y_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Y_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Uc extends xc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Q_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q_(e),this._firestoreClient=void 0,await e}}}function $2(a,e){const i=typeof a=="object"?a:HS(),s=typeof a=="string"?a:uc,o=zS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=CA("firestore");h&&X2(o,...h)}return o}function am(a){if(a._terminated)throw new ot(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Z2(a),a._firestoreClient}function Z2(a){const e=a._freezeSettings(),i=(function(o,h,d,g){return new Tb(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,KE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new G2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(je.fromBase64String(e))}catch(i){throw new ot(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_o(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Te("string",Cn._jsonSchemaVersion),bytes:Te("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(_o(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:Te("string",ri._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_o(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ai(e.vectorValues);throw new ot(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Te("string",ai._jsonSchemaVersion),vectorValues:Te("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=/^__.*__$/;class W2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,i,this.fieldTransforms):new Eo(e,this.data,i,this.fieldTransforms)}}function WE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:a})}}class lm{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WE(this.Ac)&&J2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Nc(e)}Cc(e,i,s,o=!1){return new lm({Ac:e,methodName:i,Dc:s,path:ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t0(a){const e=a._freezeSettings(),i=Nc(a._databaseId);return new tw(a._databaseId,!!e.ignoreUndefinedProperties,i)}function ew(a,e,i,s,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,o);i0("Data must be an object, but it was:",d,s);const g=e0(s,d);let y,p;if(h.merge)y=new Bn(d.fieldMask),p=d.fieldTransforms;else if(h.mergeFields){const E=[];for(const S of h.mergeFields){const D=iw(e,S,i);if(!d.contains(D))throw new ot(K.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);aw(E,D)||E.push(D)}y=new Bn(E),p=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=d.fieldTransforms;return new W2(new wn(g),y,p)}function nw(a,e,i,s=!1){return om(i,a.Cc(s?4:3,e))}function om(a,e){if(n0(a=Rs(a)))return i0("Unsupported field value:",e,a),e0(a,e);if(a instanceof JE)return(function(s,o){if(!WE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const g of s){let y=om(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}})(a,e)}return(function(s,o){if((s=Rs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Gb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=te.fromDate(s);return{timestampValue:gc(o.serializer,h)}}if(s instanceof te){const h=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gc(o.serializer,h)}}if(s instanceof ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cn)return{bytesValue:gE(o.serializer,s._byteString)};if(s instanceof we){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Fd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ai)return(function(d,g){return{mapValue:{fields:{[Hv]:{stringValue:Gv},[cc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return qd(g.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ac(s)}`)})(a,e)}function e0(a,e){const i={};return Pv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(a,((s,o)=>{const h=om(o,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function n0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof te||a instanceof ri||a instanceof Cn||a instanceof we||a instanceof JE||a instanceof ai)}function i0(a,e,i){if(!n0(i)||!Uv(i)){const s=Ac(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function iw(a,e,i){if((e=Rs(e))instanceof sm)return e._internalPath;if(typeof e=="string")return r0(a,e);throw vc("Field path arguments must be of type string or ",a,!1,void 0,i)}const rw=new RegExp("[~\\*/\\[\\]]");function r0(a,e,i){if(e.search(rw)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new sm(...e.split("."))._internalPath}catch{throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function vc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new ot(K.INVALID_ARGUMENT,g+a+y)}function aw(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(um("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class sw extends a0{data(){return super.data()}}function um(a,e){return typeof e=="string"?r0(a,e):e instanceof sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cm{}class ow extends cm{}function uw(a,e,...i){let s=[];e instanceof cm&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((y=>y instanceof hm)).length,g=h.filter((y=>y instanceof Lc)).length;if(d>1||d>0&&g>0)throw new ot(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class Lc extends ow{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Lc(e,i,s)}_apply(e){const i=this._parse(e);return s0(e._query,i),new ks(e.firestore,e.converter,md(e._query,i))}_parse(e){const i=t0(e.firestore);return(function(h,d,g,y,p,E,S){let D;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){X_(S,E);const Z=[];for(const tt of S)Z.push(K_(y,h,tt));D={arrayValue:{values:Z}}}else D=K_(y,h,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||X_(S,E),D=nw(g,d,S,E==="in"||E==="not-in");return Ee.create(p,E,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function cw(a,e,i){const s=e,o=um("where",a);return Lc._create(o,s,i)}class hm extends cm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new hm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:kn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const g=h.getFlattenedFilters();for(const y of g)s0(d,y),d=md(d,y)})(e._query,i),new ks(e.firestore,e.converter,md(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function K_(a,e,i){if(typeof(i=Rs(i))=="string"){if(i==="")throw new ot(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jv(e)&&i.indexOf("/")!==-1)throw new ot(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!mt.isDocumentKey(s))throw new ot(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return h_(a,new mt(s))}if(i instanceof we)return h_(a,i._key);throw new ot(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ac(i)}.`)}function X_(a,e){if(!Array.isArray(a)||a.length===0)throw new ot(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s0(a,e){const i=(function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ot(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class hw{convertValue(e,i="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Sa(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[cc].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new ai(i)}convertGeoPoint(e){return new ri(pe(e.latitude),pe(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Rc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const i=Dr(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);kt(TE(s),9688,{name:e});const o=new co(s.get(1),s.get(3)),h=new mt(s.popFirst(5));return o.isEqual(i)||Li(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class Wl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends a0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(um("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=_a._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Te("string",_a._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class nc extends _a{data(e={}){return super.data(e)}}class bs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new nc(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new nc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Wl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const y=new nc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Wl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:dw(g.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ud.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(a){a=Ds(a,we);const e=Ds(a.firestore,Uc);return Y2(am(e),a._key).then((i=>_w(e,a,i)))}bs._jsonSchemaVersion="firestore/querySnapshot/1.0",bs._jsonSchema={type:Te("string",bs._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class l0 extends hw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,i)}}function gw(a){a=Ds(a,ks);const e=Ds(a.firestore,Uc),i=am(e),s=new l0(e);return lw(a._query),K2(i,a._query).then((o=>new bs(e,s,a,o)))}function pw(a,e){const i=Ds(a.firestore,Uc),s=ZE(a),o=fw(a.converter,e);return yw(i,[ew(t0(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Mi.exists(!1))]).then((()=>s))}function yw(a,e){return(function(s,o){const h=new Oi;return s.asyncQueue.enqueueAndForget((async()=>U2(await Q2(s),o,h))),h.promise})(am(a),e)}function _w(a,e,i){const s=i.docs.get(e._key),o=new l0(a);return new _a(a,o,e._key,s,new Wl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ls=o})(qS),lc(new so("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Uc(new nb(s.getProvider("auth-internal")),new ab(d,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ot(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(p.options.projectId,E)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),As(Jy,Wy,e),As(Jy,Wy,"esm2020")})();var vw="firebase",Ew="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(vw,Ew,"app");const Tw={apiKey:"AIzaSyBuaLP2d8p2_C1tsphLzhwtWIWPX3vVWeY",authDomain:"coderhouse-ecommerce-383bf.firebaseapp.com",projectId:"coderhouse-ecommerce-383bf",storageBucket:"coderhouse-ecommerce-383bf.firebasestorage.app",messagingSenderId:"1042060088968",appId:"1:1042060088968:web:2d706495ae34f8c37d713d",measurementId:"G-8CNFQ1731M"},Aw=Sv(Tw),fm=$2(Aw);async function Sw(a){const e=$E(fm,"orders");return(await pw(e,a)).id}function bw({producto:a}){const{id:e,nombre:i,precio:s,imagen:o}=a,h=new Intl.NumberFormat("es-AR").format(s);return W.jsxs("article",{className:"producto",children:[W.jsx("div",{className:"imagen",children:W.jsx("img",{src:o||"/img/placeholder.png",alt:i,loading:"lazy"})}),W.jsxs("div",{className:"producto-cuerpo",children:[W.jsx("h3",{className:"titulo",children:i}),W.jsxs("p",{className:"precio",children:["$",h]}),W.jsx(va,{to:`/detalle/${e}`,className:"boton",children:"Ver Detalle"})]})]})}function Rw({productos:a}){return!a||a.length===0?W.jsx("p",{className:"mensaje",children:"No hay productos disponibles"}):W.jsx("section",{className:"productos",children:a.map(e=>W.jsx(bw,{producto:e},e.id))})}function $_({greeting:a}){const[e,i]=G.useState([]),[s,o]=G.useState(!0),{idCategoria:h}=ov();return G.useEffect(()=>{o(!0);const d=$E(fm,"products");let g;h?g=uw(d,cw("categoria","==",h)):g=d,gw(g).then(y=>{const p=y.docs.map(E=>({id:E.id,...E.data()}));i(p)}).finally(()=>o(!1))},[h]),s?W.jsx("p",{children:"Cargando productos..."}):W.jsxs("div",{className:"contenedor_main",children:[W.jsx("h2",{children:a}),W.jsx("div",{className:"contenedor_productos",children:W.jsx(Rw,{productos:e})})]})}function ww({stock:a=10,initial:e=1,onAdd:i}){const[s,o]=G.useState(e);function h(){s<a&&o(g=>g+1)}function d(){s>1&&o(g=>g-1)}return W.jsxs("div",{className:"item-count",children:[W.jsxs("div",{className:"count",children:[W.jsx("button",{className:"boton-mas",onClick:d,children:"-"}),W.jsx("span",{className:"cantidad",children:s}),W.jsx("button",{className:"boton-menos",onClick:h,children:"+"})]}),W.jsx("button",{onClick:()=>i(s),disabled:a<=0,children:"Agregar al carrito"}),a<=0&&W.jsx("p",{children:"Sin stock"})]})}const Pc=G.createContext(),Cw=({children:a})=>{const[e,i]=G.useState([]),s=(g,y)=>{if(e.find(E=>E.id===g.id)){const E=e.map(S=>S.id===g.id?{...S,cantidad:S.cantidad+y}:S);i(E)}else i([...e,{...g,cantidad:y}])},o=g=>{i(e.filter(y=>y.id!==g))},h=()=>e.reduce((g,y)=>g+y.precio*y.cantidad,0),d=()=>i([]);return W.jsx(Pc.Provider,{value:{cart:e,addToCart:s,removeFromCart:o,getTotalPrice:h,clearCart:d},children:a})},Dw=()=>G.useContext(Pc);function Vw({item:a}){const{addToCart:e}=G.useContext(Pc),[i,s]=G.useState(!1);if(!a)return W.jsx("p",{children:"Cargando producto..."});const o=h=>{e(a,h),s(!0)};return W.jsxs("div",{className:"item-detail",children:[W.jsxs(va,{to:"/",children:[W.jsx("i",{className:"bi bi-arrow-left-short"})," Atras"]}),W.jsxs("div",{children:[W.jsx("img",{src:a.imagen,alt:a.nombre}),W.jsxs("div",{children:[W.jsx("h2",{children:a.nombre}),W.jsx("p",{children:a.descripcion}),W.jsxs("h3",{children:["$",a.precio]}),a.stock===0&&W.jsx("p",{children:"Sin stock"}),!i&&a.stock>0&&W.jsx(ww,{stock:a.stock,onAdd:o}),i&&W.jsx(va,{to:"/cart",children:W.jsx("button",{children:"Ir al carrito"})})]})]})]})}function Iw(){const{idProducto:a}=ov(),[e,i]=G.useState(null);return G.useEffect(()=>{const s=ZE(fm,"products",a);mw(s).then(o=>{o.exists()&&i({id:o.id,...o.data()})})},[a]),W.jsx("div",{className:"contenedor_productos",children:e?W.jsx(Vw,{item:e}):W.jsx("p",{children:"Cargando producto..."})})}const Nw=()=>{const{cart:a,removeFromCart:e,clearCart:i,getTotalPrice:s}=G.useContext(Pc);return W.jsxs("div",{className:"cart-container",children:[W.jsx("h1",{children:"Carrito de compras"}),a.length===0?W.jsx("p",{children:"Tu carrito est vaco"}):W.jsxs(W.Fragment,{children:[W.jsx("div",{children:a.map(o=>W.jsxs("div",{children:[W.jsx("p",{children:o.nombre}),W.jsxs("p",{children:["Precio: $",o.precio]}),W.jsxs("p",{children:["Cantidad: ",o.cantidad]}),W.jsx("button",{onClick:()=>e(o.id),children:"Eliminar"})]},o.id))}),W.jsxs("h3",{children:["Total: $",s()]}),W.jsx("button",{onClick:i,children:"Vaciar carrito"}),W.jsx("button",{onClick:i,children:"Comprar"})]})]})};function Ow(){const{cart:a,getTotalPrice:e,clearCart:i}=Dw(),[s,o]=G.useState(""),[h,d]=G.useState(""),[g,y]=G.useState(!1),p=lv();async function E(S){S.preventDefault(),y(!0);const D={buyer:{name:s,email:h},items:a.map(B=>({id:B.id,nombre:B.nombre,precio:B.precio,cantidad:B.cantidad})),total:e(),createdAt:new Date};try{const B=await Sw(D);i(),p(`/checkout/success/${B}`)}finally{y(!1)}}return W.jsxs("form",{onSubmit:E,children:[W.jsx("input",{value:s,onChange:S=>o(S.target.value),placeholder:"Nombre y Apellido",required:!0}),W.jsx("input",{value:h,onChange:S=>d(S.target.value),placeholder:"Email",type:"email",required:!0}),W.jsx("button",{type:"submit",disabled:g,children:"Confirmar compra"})]})}const Mw=()=>W.jsx("h1",{children:"404 - Pgina no encontrada"});function xw(){return W.jsxs(aA,{children:[W.jsx(pA,{}),W.jsxs(L1,{children:[W.jsx(Tr,{path:"/",element:W.jsx($_,{greeting:"Bienvenido"})}),W.jsx(Tr,{path:"/categoria/:idCategoria",element:W.jsx($_,{greeting:"Categora"})}),W.jsx(Tr,{path:"/detalle/:idProducto",element:W.jsx(Iw,{})}),W.jsx(Tr,{path:"/cart",element:W.jsx(Nw,{})}),W.jsx(Tr,{path:"/checkout",element:W.jsx(Ow,{})}),W.jsx(Tr,{path:"/checkout/success/:orderId",element:W.jsx("div",{children:"Compra confirmada"})}),W.jsx(Tr,{path:"*",element:W.jsx(Mw,{})})]})]})}QT.createRoot(document.getElementById("root")).render(W.jsx(zT.StrictMode,{children:W.jsx(Cw,{children:W.jsx(xw,{})})}));
